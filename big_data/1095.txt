On Derived Data Services in Cyberspace Shi-Cho Cha Department of Information Management National Taiwan University Taipei Taiwan csc@mba.ntu.edu.tw Yuh-Jzer Joung Department of Information Management National Taiwan University Taipei Taiwan joung@ntu.edu.tw Abstract We propose a framework called Derived Data Services DDS to ease the tension be tween a the need to mine individual\222s Web usage logs across multiple sites for aiding in personalization and b the inherent privacy risks in it In DDS a standardized hierarchical format can be developed whereby some higher level abstractions from a usage 
log can be captured and potentially used across multiple applications The hierarchical data structure also allows derived data to be processed incrementally based on the level of information needed and on the level of privacy an individual wishes to have The derived data summarizes an individual\222s pro\036le in cyberspace and should be the legal property of the individual so t hat access to the pro\036le must be legally authorized by the person 1 Introduction Customization is an important feature for information services and applications C ustomization allows each user to get the best possible service out of the applications ac 
cording to his/her needs and pr eferences Service providers can also improve their customers\222 loyalty and lifetime value through customization because better quality of service can be provided To understand customers\222 needs and preferences service providers may co llect and use their behaviors logs For example associatio n rules can be discovered from behavior logs so that personal recommendations can be provided 1 18 W e b s ites can also adapt t hemselv e s b ased on users\222 navigation patterns to provide a more ef\036cient way for browsing 28 Because of the importance of behavior logs many service providers treat user behavior logs as assets and use them to 036nd their niche over their competitors Likewise 
they usually maintain their users\222 behavior logs in their own databases independently However very few service providers can offer all types or even a broad category of services Even for a speci\036c type of services e.g online shopping there may be several competitors and a user may shop between them to 036nd the best deal So most service providers have only partial knowledge about their users Consequently they may incorrectly interpret their users using the partial and incomplete information they collected 27  F or e x ampl e when a p ers o n onl y b uys books about computer science in an online bookstore it may not imply that he is only interested in this 036eld If we use this 
information to 036lter out messages he is not 221interested\222 in some useful information to him may be dropped Intuitively if a person\222s behavior logs in different services and applications can be shared then services and applications can project the person from a broader aspect and so better quality of service can be provided Furthermore if a person can bring his personal data from one service to another then the switching cost between different services can be considerably reduced Thi s is because otherwise a new service would have to learn about the user all over again It may then take some time perhaps after a number of visits by the user for the new service to offer a satisfactory 
customized service to the user Several architectures have been proposed to enable a customized service and application to use a person\222s behavior logs in other services and applications For example Global Customization Engine is proposed to enable one application service to 221subscribe\222 a user\222s logs of another under the latter\222s consent 2  T he mechani s ms of 12  11  l et us ers collect their click-stream data and store them into a centralized place so that another Web site can obtain users\222 clickstreams of other sites from this place The sharing of behavior logs raises two problems which have not been fully addressed in the literature The 036rst one is to understand the 221meaning\222 of a log An applica 
tion cannot utilize a log if it cannot understand the log For example when a person buys 221 Overcoming Depression and Manic Depression Bipolar Disorder A Whole-Person Approach 222 in an online bookstore the action may be logged as a URL of 221http://bookstore/buy?bookid=BK991234689\222 Such a URL log hardly conveys any useful information to other sites The second problem perhaps the most important one is privacy  Although the sharing of behavior logs does bring some bene\036t in customized services one is hardly convinced and comfortab le to reveal every detail of his behavior logs in cyberspace To address the above two problems we propose a frame 
work called Derived Data Services DDS DDS provides a hierarchical architecture for using metadata to describe user behaviors in Web-based services The architecture aims to provide an open and standard environment to describe behavior logs This feature then allows logs in different contexts to be integrated together and also allows new attributes to be added to the logs should applications need Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


The metadata also embed some semantics of the logs so that logs generated in one context can be understood in another The hierarchical nature of the architecture allows users to set their privacy level by determining how many layers of information they wish to reveal To allow user logs to be shared while protecting privacy a service that wishes to use t he logs and their metadata must provide a derived data generation proposal to DDS The proposal speci\036es what data are to be derived from the logs and how to derive the data If the user accepts the proposal DDS will generate the derived data based on the proposal and then allows the service to access the data In this regard DDS can be viewed as an abstraction mechanism that provides services with high level descriptions of a user\222s characteristics but hides the detailed logs of the user\222s behaviors The rest of the paper is organized as follows Section 2 surveys related work on logs integration Section 3 gives an overview of the framework Sections 4-6 discuss key components in the framework Conclusions and future work are offered in Section 7 2 Related Work about Logs Integration A person\222s behavior logs in different services can be obtained and integrated in several ways First the log data may be obtained from the services the person has visited Observe that Web sites often log user requests To allow their logs to be shared heter ogeneity between them must be solved For this technologies of federated database systems can be used By viewing the data storage of each Web site as a component database of a federated database system data in different component databases can be joined through tightly coupling or loosely coupling approach depending on how the component databases are integrated 30  I n t he tightly coupling approach one or more shared schemas are needed to be reconciled in advance Log data of different sources are then integrated into the schemas and can be queried by users However it is very hard to reach an agreement among Web site admi nistrators in the schemas especially when new services may emerge everyday In the loosely coupling approach each service reveals the schema of its log data In contrast to the tightly coupling approach each requester now interacts with each component database directly A requester 036rst decides which component databases he would like to access based on the disclosed schema of each component database The requester can then use a multi-database manipulation language such as MDSL 23  t o d e\036 ne hi s o wn s c hema t o s peci fy ho w t o map data from schemas in differ ent databases to the user\222s schema and then to query data from the selected databases Although the loosely coupling approach need not negotiate with each service to achieve an agreement about shared schemas requesters must follow the schema of each service Some request cannot be satis\036ed if the requested data is not included in the schema of the corresponding service For example information about the total amount of a commodity in a transaction cannot be obtained if it is not included in the log On the other hand a centra lized mechanism can also be used to track a person\222s behavior 1 The centralized mechanism can be implemented in the following ways 000 The tracking mechanism can be implemented as a common component in each service For example Universal Pro\036le Services such as Microsoft\222s Passport 25 o r A OL 222 s Magi c C arpet  26  can be vi e w ed as a kind of Single Sign-on service that allows a user to access different information services with only a single action of authentication and authorization The tracking mechanism can then be in corporated into a Universal Pro\036le Service so that user behaviors in using different services through the Universal Pro\036le Service can be collected Furthermo re an online advertisement company such as DoubleClick 16 may c ol l ect a person\222s browsing behaviors in different sites while the person is viewing the company\222s advertisements in these sites 000 The tracking mechanism can be implemented as an agent in a person\222s computer to represent the person to interact with the site offering services so that the person\222s behaviors can be logged transparently This kind of technology is widely used in e.g personalized search 9 information 036ltering 31  a nd personalized recommendations 19 28 The l ogs may a ls o b e r equested by a service For example 12 11 propos e a n architecture for a Web site to ask a user\222s agent through P3P Platform for Privacy Preference 14 and X MLQL 15 to access t he XML f ormatted l og data of the user Our DDS also adopts a tracking mechanism to track user behaviors The reason for this design choice is that the Web is quite dynamic because new services and new requirements of log data may emerge everyday and competitive because service providers usually compete with one another The behavior trackin g mechanism does not need to obtain an agreement among service providers nor does it require them to modify their systems The next question is how to represent behaviors into log data If the mechanism only records the URL of a user\222s HTTP requests then no matter what kind of actions a person may take e.g searchin g with some keywords browsing a document adding a product into a shopping cart etc the tracking mechanism may get only a URL string of the person\222s request As mentioned before such a URL usually does not convey enough information for further process So the tracking mechanism should also know how to relate a URL to a speci\036c action Becau se we wish the tracking mechanism to work transparently between the user and services an automatic way to let the mechanism know what actions the user is taking is n eeded For this DDS uses an Annotator module to extract raw data including users\222 requests and the responses from services and translates them into an 221understandable\222 format The details will be introduced in the following sections 1 Note that 221centralization\222 here refers to the administration not necessarily to the implementation Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


3SystemOverview Generally speaking DDS tracks user behaviors in different services describes them in an extensible data model and provides queries to the patterns through some derived data generated from the logs  Because logs or even derived data are also part of personal d ata that contain other type of data such as name gender birthday blood type job title etc DDS is designed to be integrated into a pro\036le management service The pro\036le management service may be operated by a single service provider like Microsoft\222s Passport implemented as a component of a user\222s Web browser deployed in a peer-to-peer network 7  e t c  T herefore some common components between DDS and the pro\036le management service such as authentication and security management are assumed to be provided by the pro\036le management service and so will not be addressed in this paper The architecture of DDS is depicted in Figure 1 First of all requests to services and responses from them are tracked by a behavior tracking mechan ism as described in the previous section The tracked data are then transmitted to the DDS kernel Because it is impr actical and often resourcewasting to store the whole tracked data into DDS useful information needs to be extract ed from the data to represent the behaviors For this the following two issues need to be addressed 000 The 036rst problem is what information needs to be extracted or retained from the tracked data Observe that the amount of data need to represent behavior logs depends on the amount of information one wishes to obtain from the logs and certainly depends as well on the type of behaviors Nevertheless there are some common and basic features among different behavior logs e.g time URL and the engaging parties of an event These features can therefore b e represented as base log entries on top of which diff erent classes of metadata can be de\036ned as additional information to describe different types of behaviors This will be discussed in Section 4 000 To handle the heterogeneity among services different application-speci\036c annotators can be developed Each annotator takes responsibilities of converting tracked data of the corresponding services into behavior logs of DDS The annotators will be discussed in Section 5 Finally as mentioned in Section 1 DDS can use behavior logs to generate derived data For this DDS provides an architecture for service p roviders and experts to de\036ne derived data with XQuery 4 l a nguage i n a derived data generation proposal  We will introduce the components of a derived data generation proposal in Section 6 hen the Derived Data Manager generates derived data from an agreed proposal As such service providers can understand a person\222s behavior from generated derived data while from the user\222s perspective he can bene\036t from the sharing of his behavior patterns e.g improved quality of service without revealing details of his behavior logs  DDS Kernel Data Storage Annotators Application-Specific Converter Application-Specific Converter Application-Specific Annotator Derived Data Manager Tracked Data Derived Data Request Tracking Mechanism Figure 1 The Derived Data Service architecture Log Layer Time Client Status Request URL Response Behavior Layer Basic Log Entry Behavior Description Trees   Figure 2 Logical view of behavior logs 4 The Behavior Logs We introduce behavior logs of DDS from a logical point of view as well as from a physical point of view in this section Logically behavior logs are organized as in Figure 2 It consists of two layers The log layer contains basic log entries that record a user actions requests and responses in a service The behavior layer contains behavior description trees that abstract information d erived from the actions There are several types of beh avior description trees each of which represents a kind of behavior e.g online purchase Web browsing search etc A behavior may involve a sequence of actions The ontology of behavior description trees is shown in Figure 3 It speci\036es what metadata represented by rectangles and properties ovals should be used to describe a behavior description tree The root node of a behavior description tree represents a behavior It is associated with some properties describing basic information of the behavior such as behavior type ID time and places Additional metadata are attached to give further description about the metadata if needed For exam ple two behavior speci\036c metadata are de\036ned in the 036gure one for Web browsing and the other for online purchase For Web browsing behavior a metadata of type 221Page Des cription\222 is used to describe the Web page being browsed such as keyword subject author title etc For online purchase a metadata 221Product Description\222 is used to describe the product and a metadata 221Shipment Description\222 is used to describe the shipping In general if a metadata needs fur ther information to describe itself the information is descr ibed by another metadata in the layer above This hierarch ical organization has the following two important advantages Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


000 Extensibility can be achieved easily by de\036ning a new or a new version of metadata when a new kind of behavior patterns or data requirement emerges 000 Because metadata can be divided by layers data can be requested and processed incrementally based on the level of information needed and on the level of privacy one wishes to have In addition to the metadata several domains of categories are de\036ned and used to represent the semantics of some speci\036c data The concept of domain categories is borrowed from philosophy to provide knowledge about an interest domain For example there are three kinds of domains in Figure 3 one for Web pages one for products and one for geographical locati ons The hierarchical structure of a domain again allows one to apply different access control/privacy level to different categories For example suppose a user has purchased a book 221 Overcoming Depression and Manic Depression Bipolar Disorder A Whole-Person Approach 222 from an online bookstore Then in the corresponding behavior description tree the 221Product Category\222 element will record that the item belongs to the 221Depression\222 category in the 221products domain\222 and the 221Geographical Category\222 element will record the city of the user say 221Taipei\222 Given the domain categories for products we can easily see that the item belongs to 221Mental Health\222 of the 221Books\222 category and given the domain categories for geographical locations we can see that the user is in 221Taiwan\222 221Asia\222 So when a derived data is de\036ned to calculate the sum of online shopping expenses grouped by categories depending on how much information the user wishes to reveal to a site some site may know that the person has spent 25 on a book about Depression at a speci\036c time and place others may only know that a person in Asia has recently spent 25 for a book om the physical point of view the above data hierarchy can be implemented in several ways We 036rst observe that existing log 036les usually follow Common Log Format 24 o r a s i milar b ut proprietary format One d is advantage of using Common Log Format is the lack of a well-known language and tool for data query and request In contrast data stored in a re lational database management system RDBMS can be queried through SQL However because we wish DDS to be implemented as a component of user\222s Web browsers platform-independency becomes an important consideration If data need to be physically stored in RDBMSs then each user may need to install an RDBMS in his computer This may then complicate the deployment of DDS Therefore XML is used to resolve this problem In DDS each base log entry is represented as an XML element of LogEntry  The schema of LogEntry is shown in Figure 4 It is based on the 036elds used in the Common Log Format Each LogEntry also has a logID attribute as its identity in each log 036le Moreover the r attribute can be used to represent the relationship between LogEntry elements The LogEntry elements of a user are then collected into an XML document As described before information derived from log entries is built into behavior description trees To be able to cooperate with XML formatted log entries the Resource 000 xml version=\2221.0\222 001 000 schema xmlns:xsd=\224http://www.w3.org/2001/XMLSchema\224 001 000 element name=\224LogEntry\224 type=\224BaseLogEntry\224  001 000 complexType name=\224BaseLogEntry\224 001 000 attribute name=\224HostUsed\224 type=\224string\224  001 000 attribute name=\224Date\224 type=\224date\224  001 000 attribute name=\224Request\224 type=\224string\224  001 000 attribute name=\224Status\224 type=\224string\224  001 000 attribute name=\224Bytes\224 type=\224positiveInteger\224  001 000 attribute name=\224logID\224 type=\224ID\224  001 000 attribute name=\224Referer\224 type=\224IDREF\224  001 000 complexType 001 000 element 001 000 schema 001 Figure 4 Data schema of LogEntry  Base Log Entry Generator XML LogEntry element Switch Application-Specific Annotator 1 Application-Specific Annotator n HTTP Request and Response Metadata elements  Behavior Logs Figure 5 The architecture of Annotators Description Framework RDF model 22 i s u s e d As s u ch OWL Web Ontology Language 32  w hi ch i s b u i l t on R D F Schema RDFS 5 a nd XML S chema  17  can be us ed t o de\036ne ontologies of behavior data Domain categories are also represented as a set of classes The concept of class inheritance is used here to represent the hierarchical relationship among categories Examples for online purchas e schemas domain category schemas and behavior descr iption trees represented in RDF can be found in 6 5 Log Annotation Behavior description trees described in the previous section are generated by applica tion-dependent Annotators The architecture of Annotators is depicted in Figure 5 The Annotator receives tracked HTTP requests and responses from a behavior tracking mechan ism and converts them into metadata of the trees More precisely when an Annotator receives a pair of HTTP request and the corresponding response the Base Log Entry Generator generates an XML LogEntry element based on the data pair and stores it into theuser\222sbaselog\036le The Switch component then assigns the data pair to a corresponding application-speci\036c annotator which then uses the data pair to generate rdf Description elements to describe the generated XML LogEntry element For some applications an annotator may need a sequence of data pairs to generate a complete behavior description tree At this point one may wonder who is going to provide the application-speci\036c annotators As described in Section 1 DDS-like services reduce the switching cost while a person is using a new service To service providers however this Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


 User Behavior ID Site ClientIP Time Type Online Purchase Product Product Description Name Price Payment Shipment Currency Shipment Description Shipment Address Product Category Price Info Amount Web Browsing Duration City Category Page Product Computers Beauty Books Printers Laptops Mental Health Geographical Location Africa America Asia Algeria  Taiwan    Europe Oceania Canda USA Taipei Kaohsiung       Web Pages Entertainment Computers and Internet Movies  Music   Internet   title subject Page Description format Depression   Delivery Method Search  Figure 3 Ontology of a behavior description tree may reduce their competition because they may not be able to differentiate with one another by accumulating interaction experiences from their users So they may be reluctant to support such a service i.e to provide enough information about the parameters used in their services Therefore several general annotators have to be developed say by some consortium to deal with common user behaviors For example a Web page may be described by in addition to the keywords in the page a category it belongs see the Web page domain categories in Figure 3 For this Yahoo provides a huge and exhaustive hierarchy of categories covering almost every aspect of Web documents Automatic document processing techniques have also been developed to classify Web documents into the Yahoo categories hierarchy 21 Moreo v er  t echnol ogi es s u ch as t e xt s u mmari zation 3 34 a nd k e yw ords e x t r act i o n  29  h a v e a l s o b een developed to automatically extract features from a Web page By applying these techniques a general Web b ro wsin g b ehavior annotator can be implemented to generate behavior description trees for Web browsing behavior 8 Thi s annotator can then be used as default if no matching applicationspeci\036c annotator can be found When the number of DDS users increases they can then in\037uence service providers to support such a service because otherwise they can turn into those service providers which have provided such support when choosing their service providers Note that to support DDS a Web site can simply add Dublin Core metadata 33 in its W e b p ag es to describe the pages such as keyw ord subject and abstract An application-speci\036c annotator can then use this information directly to generate behavior logs for the browsing behavior This greatly simpli\036es the design of annotators as well as eases the interface between DDS and service providers 6 Derived Data Generation DDS enables services to understand their customers through derived data without revealing their detailed logs and behaviors For example service providers may wish to know their customers\222 life-style e.g A-I-O items which stands for the activities interests and opinions for marketing purposes 20  I n t radition the d ata a re collected through communication with the customers and behaviors observation Through DDS service providers can now obtain a user\222s lifestyle directly from the derived data released by the user Derived data can be generated dynamically from behavior logs upon request or they can be precomputed and queried by service providers In DDS we have opted for the second approach for performance reasons This is because derived data interested to service providers such as A-I-O items are often not very dynamic For example a person\222s purchase behavior would not vary dramatically within a short period of time Theref ore on-the-\037y generation of such data is not needed and can only slow down the performance of the system Another reason is that derived data are part of personal data So they can be integrated into a person\222s personal pro\036le to which service providers can query via existing protocols such as P3P X.500 or LDAP As such no extra interface or protocols are needed between the person and the s ervice providers To generate derived data DDS provides an interface to let experts and service providers to de\036ne the data via derived data generation proposals  Figure 7 gives an example of a derived data generation proposal that generates the distribution of a person\222s online purchase In general a proposal includes the following components 000 Each derived data should have a relatively distinguishable name for requesters to identify them This is speci\036ed in the Name element 000 The Query element contains information about how the derived data is to be generated Because both log entry elements and their des criptions are represented in XML XQuery language is adopted 000 Because not everyone can understand XQuery queries and their effects a text format description is included The information is included in the Consequence element Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


 Others 5.26 Apparel 15.79 Travel 10.53 Book 5.26 Music 5.26 Electronics 15.79 Food 31.58 Transport 5.26 Movie 5.26 Apparel 15.79 Travel 10.53 Book 5.26 Music 5.26 Electronics 15.79 Food 31.58 Action 0.11 Movie Adult 0.26 Adventure 1.05 Family 0.53 Fantasy 0.53 Mystery 0.26 Romance 2.11 War 0.42 Transport 5.26 Others 5.26 Figure 6 A person\222s online purchase distributions The top shows only the 036rst-level categories while the bottom shows a more detailed distribution of the movie category 000 The ProposedBy element shows who de\036ned the derived data Because not every people has the ability to judge the effect of derived data when they are revealed certi\036cation organizations may be needed The Ve rifyBy element shows which cer ti\036cation organization has checked the proposal Moreover digital signature is used for veri\036cation 000 The UpdateScheme element tells the Derived Data Manager when the derived data need to be refreshed e.g they may be re-calculated periodically or every time a request arrives Recall that a person can decide how much information he wishes to reveal by determining how many layers of data a requester is allowed to access Therefore different requesters with different trust levels may obtain different values about the same derived data For example if a person allows everyone to view only the 036rst-level categories in his online purchase logs then the derived data 221Purchase Distribution\222 generated by the proposal in Figure 7 can contain only the 036rst-level category distribution as that shown on the top of Figure 6 On the other hand if the person allows video rental companies to access detailed categories of his purchase on movies then they may be able to obtain a more detailed purchase distribution as shown on the bottom Recall that derived data usually need not be re-calculated for every request So they can be cached to improve system performance However because to the same derived data different requesters may have different views depending on their trust levels traditional cache schemes may not work well here For this DDS provides a template-based caching architecture As sketched in Figure 8 the Derived Data Manager contains the following components The Proposal 000 DerivedDataProposal 001 000 Name 001 Purchase Distribution 000 Name 001 000 Consequence 001 The total amount of online purchases will be generated and grouped by categories 000 Consequence 001 000 Query 001 de\036 ne function summaryCategoryExpense  root cas element\(Category  allcat as element\(Category  purchased as element\(rdf:Description as element\(CategoryExpenseSummary 000 for  subcategory in  allcat where  allcat/rdfs:subClassOf/@resource   root c/@rdf:ID return 000 000 CategoryExpenseSummary 001 let  tempamount  double\(0 for  catpurc in  purchased where  purchased/ProductCategory/type/@resource   root c/@rdf:ID return 000  tempamount  double\(CountExp  catpurc\unt 001 let  ce  summaryCategoryExpense  subcategory  tempamount  double  ce/ExpenseSummary 000  ce 001 000 ExpenseSummary 001  tempamount 000 ExpenseSummary 001 000 CategoryExpenseSummary 001 001 001 de\036 ne function recentRelated  alld as element\(rdf:Description as element\(rdf:Description 000 for  behavior in  alld where  behavior/type/@rdf:resource  224#UserBehavior\224 and get-gMonth-from-dateTime  behavior/Time return 000 000  behavior 001 getAllRelatedDescription  behavior 001 001 let  allcategories  doc\(ontology.xml\tegory let  productc  doc\(ontology.xml\tegory[rdf:ID=\224 let  desc  recentRelated\(doc\(behavior.xml\//rdf:Description return 000 let  ce  summaryCategoryExpense\(productc  allcategories  desc 000  ce 001 001 000 Query 001 000 ProposedBy 001 example issuer 000 ProposedBy 001 000 VerifyBy entity=\224verify.org\224 algorithm=\224DSA\224 signature=\224MC0CFQCHapEh+cL 14In5fYeyl580uj6t cwIUP/ZVs\224 001 000 UpdateScheme type=\224periodically\224 period=\22486400\224  001 000 DerivedDataProposal 001 Figure 7 A derived data generation proposal Derived Data Manager Proposal Manager Log Data Template Generators Template Manager ACLTemplate Generator Other Template Generators Data Generators ACL Filter Other Data Generators Derived Data Proposals Figure 8 The architecture of the Derived Data Manager Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


Manager manages the agreed proposals and provides necessary information for the process of derived data generation The Template Generators generate templates based on the proposals A template is similar to a multi-resolution cache object 10 and a n X SL stylesheet 13   I t c ontains information for the Data Generators to generate different 221views\222 based on different p ermissions to the levels of behavior logs For example a simple ACL Template Generator can be implemented by attaching ACL s Access Control Lists to raw data on which derived data depend In addition an ACL Filter can be developed to 036lter out unauthorized components from the template produced by the ACL Template Generator To illustrate suppose a derived data 000 002 004 006 002 t 013 depends on the raw data 002 r 006 002 020 and 002 021 where 002 004 023 002 r 025 002 020  and 002 t 023 030 031 002 033  When a template about the pair is generated the ACL Template Generator attaches the ACLs of 002 r and 002 020 to 002 004  and the ACL of 002 021 to 002 t  If a requester wishes to obtain the pair but he has no permission to view 002 r then 002 004 will be 036ltered out and only 002 t is provided For some applications rather than 036ltering out entirely a component of a derived data a more sophisticated template may be developed to leave the component but removing the effect of the raw data on which the component depends but a requester has no permission to view it This will be left to our future work 7 Future Work Other than a concrete implementation of DDS there are many interesting things left to be done st we observe that this paper focuses on user behaviors in using services in cyberspace Similar methods may be used to develop a framework for studying user behaviors in more general applications Secondly current design in DDS does not consider storage limitation The retention of outdated logs and their destruction time may be considered to save storage space Third XQuery is u sed in DDS for derived data de\036nition However XQuery provides only simple aggregate functions such as sum count min max etc More complicated data mining functions such as 036nding association rules or sequence patterns may be included Finally in case a user wishes to manually modify the generated derived data should such modi\036cation be allowed If so should requesters be aware of such modi\036cation and how References  G  A dom a v icius a nd A  T u zhilin U s i ng data m i ning m e thods to b u ild customer pro\036 les Computer  34\(2 Feb 2001  R  M  A rlein B J a i M J a k obs s on F  Monros e and M  K  R eiter Privacy\227preserving global customization In Proc ACM EC  pp 176\226184 2000  A  L  B er ger a nd V  O  M ittal O celot a s y s t em for s um m a rizing web pages In Proc ACM SIGIR  pp 144\226151 2000  S  B oag D Cham berlin M  F  F ernandez D Flores cu J  R obie J Simeon and M Stefanescu XQuery 1.0 An XML Query Language In W3C Working Draft  2002  D  B rickle y a nd R Guha R DF V o cab ulary D es cription L anguage 1.0 RDF Schema In W3C Working Draft  2003  S  C Cha On the Realization of a Universal Pro\036 le System in Cyberspace  PhD thesis National Taiwan University Taipei Taiwan 2003  S  C Cha Y  J  J oung and Y  E  L u e Building uni v e rs al pro\036 le systems over a peer-to-peer network In Proc WIAPP  pp 142\226151 2003  S  C Cha W  Y a ng and Y  Z  J oung T h e i nte g ration o f w eb bro w s ing behavior In Proc 4th Taiwan Conference on Doctoral Consortium in Information Management  pp 7\22612 Shanghai China Apr 2002  L  C hen a nd K Sycara W e bMate A p ers onal a gent for b ro ws ing and searching In Proc Agents  pages pp 132\226139 1998  J  H  Chim  R  W  L au a nd A  S i  M ultir e s o lution cache m anagement in digital virtual library In Advances in Digital Libraries Conference  pp 66\22675 Apr 1998  I Cingil S upporting g lobal u s e r p ro\036 l es through trus ted a uthorities  In ACM SIGMOD Record  volume 31 pp 11\22617 2002  I Cingil A Dogac and A  A zgin A broader a pproach to pers onalization CACM  43\(8 Aug 2000  J  Clark XSL T rans form ations XSL T   V ers i on 1 0 W 3C Recom mendation http://www.w3.org/TR/xslt  Nov 19 1999  L  Cranor  M  L angheinrich M  M ar chiori M Presler-Marshall and J Reagle Platform for Privacy Preference P3P In W3C Recommendations  2002  A Deuts c h M Fernandez D Florescu A Levy and D Suciu XML-QL A Query Language for XML In Submission to the World Wide Web Consortium  1998  D oubleClick I nc h ttp://w w w  doubleclick com    D  C F a lls ide X M L S chem a P ar t 0  P r i m e r  I n W3C Recommendation  2001  X Fu J  B udzik a nd K J  Ham m ond Mining navigation history for recommendation In H Liebermann editor in Proc IUI  pp 106\226 112 Jan 9\22612 2000  T  J o achim s  D  F r eitag and T  M  M itchell W e b w atcher  A tour guide for the world wide web In IJCAI 1  pp 770\226777 1997  T  C K i nnear and J  R  T aylor  Marketing Research\227an Applied Approach  McGRAW-HILL Inc 4th edition 1991  Y  L a brou and T  F inin Y ahoo as an ontology Us ing y ahoo categories to describe documents In Proc CIKM  pp 180\226187 Nov 2\2266 2000  O L a ssila a n d R  R  S wic k  R e s ourc e De sc ription F ra m e w o rk RDF Model and Syntax Speci\036 cation In W3C Recommendation  1999  W  L itw in and A  A bdellatif A n o v e rvie w o f t he m u lti-databas e manipulation language MDSL Proc IEEE  75\(5 pp 621\226631 May 1987  A L uotonen T h e c om m o n l og\036 le form at 1995  Micros oft Micros oft P as s port T echnical W h ite P a per  Mar  2001  C Ne well A O L quietly launches m agic carpet In eWeek.com  2002  B P a dm anabhan Z  Z h eng and S  O  K im brough Pers onalization from incomplete data what you don\222t know can hurt In Knowledge Discovery and Data Mining  pp 154\226163 2001  M Perk o w itz and O  E tzioni A dapti v e W eb s ites  CACM  43\(8 Aug 2000  G Salton Automatic text processing The transformation analysis and retrieval of information by computer  Addison-Wesley Reading MA USA 1989  A P  Sheth a nd J  A L a rs on Fede rated database systems for managing distributed heterogeneous and autonomous databases ACM Computing Surveys  22\(3 Sept 1990  G L  Soml o a nd A E  Ho we  I nc remental clustering for pro\036 le maintenance in informatio n gathering web agents In Proc AAMAS  pp 262\226269 May 2001  F  v a n H arm e len J  Hendler  I  H orrocks  D L  McGuinnes s  P  F  Patel-Schneider and L A Stein OWL Web Ontology Language In W3C Working Draft  2003  S W e ibel J  K unze C L a goze and M  W olf RFC 2413 Dublin Core metadata for resource discovery 1998  H Z h a Generic s um m a rization a nd k e yphras e e xtraction u s i ng m u tual reinforcement principle and sentence clustering In Proc ACM SIGIR  pp 113\226120 2002 Proceedings of the 2005 Symposium on Applications and the Internet \(SAINT\22205 0-7695-2262-9/05 $ 20.00 IEEE 


  0 1000 2000 3000 4000 0.00 0.50 1.00 1.50 2.00 Support No. of Patterns Checked Apriori BDFS\(b Figure 12 Number of patterns checked by Apriori and BDFS\(b\or T10I28D100K with varying supports   0 10 20 30 40 50 050100150 No. of Transactions \(x 1000 Time \(s b=100K b=10K b=1K  Figure 13 Time scalability of BDFS\(b\with increasing no. of transactions for T5I4D1K,10K,100K and b=1K,10K and 100K, support 0.5  0 0.2 0.4 0.6 0.8 1 0 200 400 600 800 1000 1200 No. of Items Time \(s b=100K b=10K b=1K  Figure 14 Scalability Test of BDFS\(b\with number of items for T5I4, support 0.5 It will provide decision makers with more accuracy and reduced time lag and help in real-time decision-making In this paper, we have proposed an algorithm BDFS\(b\which is a brute force version of the Block Depth First Search\(BDFS w e  h a v e co m p ared the performance of BDFS\(b\ith FP-Growth and Apriori and shown that it does significantly better than both Moreover, by adjusting its block size properly BDFS\(b\as the extra ability to run with limited available memory, which often becomes a point of concern in other algorithms. We have then shown that while running under real-time constraints it outputs large chunks of frequent patterns with fractional execution times. We have made detailed performance evaluation based on empirical analysis using several commonly used synthetic datasets and one real-life dataset          93 94 95 96 97 98 99 10 0 0 20 4060 80100 Tim e Patterns  Figure 15 Time-patterns % of BDFS\(b\or 0.05 support of  T6I5D10K 50.00 60.00 70.00 80.00 90.00 100.00 0.00 20.00 40.00 60.00 80.00 100.00 time pattern 0.03% supp 0.04% supp 0.05% supp 0.06% supp 0.07% supp 0.08% supp 0.09% supp 0.1% supp  Figure 16 Time-patterns % of BDFS\(b\or varying support for T6I5D10K Thus, we have demonstrated that real-time frequent pattern mining can be done successfully using BDFS\(b This algorithm may be modified for matching the memory and time constraints dynamically. It may be worthwhile to generalize this algorithm for other application domains having specialties such as sequential or temporal data This proposed brute force version of BDFS\(b expected to handle well problems of moderate to large size. For very large databases it may be beneficial to design domain specific heuristics for enhanced efficiency We believe this study will encourage use of AI search techniques in real-time frequent pattern mining 0-7695-2268-8/05/$20.00 \(C Proceedings of the 38th Hawaii International Conference on System Sciences - 2005 8 


  0 50 100 150 200 250 N o  o f P a tte r n s  F[4 F[5 F[6 F  7 16 45 75 95 Frequent Pattern Length Time 15.67 25.60 45.44 65.28 75.20 85.12 95.04 100.00  Figure 17 Real-time output of frequent patterns of T6I5D10K, support 0.05%, b =1K 0 50 100 150 200 250 No. of Patterns F F  4 F  5 F  6 F  7 8.97 25.00 50.64 76.28 100.00 Frequent Pattern Length Time 8.97 12.18 25.00 37.82 50.64 63.46 76.28 89.10 100.00  Figure 18 Real-time output of frequent patterns of T6I5D10K support 0.05%, b =10K 0 50 100 150 200 250 No. of Patterns F[3 F[4 F[5 F[6 F[7 8.64 24.07 54.94 85.80 Frequent Pattern Length Time 8.64 17.90 24.07 39.51 54.94 70.37 85.80 100.00  Figure 19 Real-time output of frequent patterns of T6I5D10K support 0.05%, b=100K      Tim e 1.72 4.18 14.01 23.83 38.58 48.41 63.15 97.55 100.00     350    350    350    350    350    350    350    350 F  350     2319    2319    2319    2319    2319    2319    2319    2319    2319     612    1028    1542    1488    1783    1935    2078    2695    3049     488    607    953    944    1070    1163    1250    1456    1790     299    301    347    331    363    376    390    445 F  508     134    134    134    134    134    136    136    137 F  141     1    31    31    31    31    31    31    31 F  31   F F  8 3 F  8 3 F  8] : 3 F  8] : 3 F  8 3 F  8 3 F  8 3  Bor der Sets BS[4 524 BS[4 879 BS[4 2469 BS[4 2446 BS[4 2890 BS[4 3159 BS[4 3676 BS[4 4820 BS[4 8127  BS[5 285 BS[5 310 BS[5 625 BS[5 625 BS[5 697 BS[5 747 BS[5 771 BS[5 927 BS[5 1865  BS[6 90 BS[6   90 BS[6 106 BS[6 101 BS[6 110 BS[6 118 BS[6 118 BS[6 136 BS[6 170  BS[7 21 BS[7 21 BS[7 21 BS[7 21 BS[7 21 BS[7 21 BS[7 21 BS[7 21 BS[7 21  Can dida te Sets C   17180 C   14570 C   10755 C   11698 C   9632 C   8504 C   7345   Figure 20 Frequent pattern output along with border sets and candidates patterns of BDFS\(b\or BMS-Web View-1 with support 0.08%. N= 497, T=2.5, D=59602, b = 497 0.00 20.00 40.00 60.00 80.00 100.00 0 20406080100 Time Patterns Output patterns including F\(1\ & F\(2 Output patterns excluding F\(1\ & F\(2  Figure 21 Time … patterns% comparison of BDFS\(b\or BMS-WebView-1 with support 0.08% and b = 497    0-7695-2268-8/05/$20.00 \(C Proceedings of the 38th Hawaii International Conference on System Sciences - 2005 9 


 7. Reference  1 B. G o e t ha ls  M em or y Is s u e s  in Fre q ue nt P a tte r n  Mining," in Proceedings of SAC'04 Nicosia, Cyprus ACM, 2004 2 B. G o e t ha ls  S urv e y on Fre que nt P a tte rn Mi ning   vol. 2004, 2003 3 A  Ma ha nti, S. G hos h  a nd A  K   P a l A H i g h  Performance Limited-Memory Admissible and Real Time Search Algorithm for Networks," University of Maryland at College Park, MD 20742, Maryland College Park, Computer Science Technical Report Series CS-TR-2858 UMIACS-TR-92-34, March 1992 1992  M  L  G o n zales Un earth BI in Real-tim e vo l  2004: Teradata, 2004 5 G a rtn er T h e RealT i m e En terp rise v o l. 2 0 0 4   2004 6 K  R  B hote  B ey ond C u s t o m e r Sa tisf a c tion to  Customer Loyalty," in Proceedings of the American Management Association New York, NY, 1996  S  L a n g en f e ld  CRM an d t h e Cu sto m er Driven  Demand Chain," vol. 2004, 2004 8 W  L i n, "A ssoc ia tion Rule  Min i n g f o r Colla b o ra tiv e  Recommender Systems," in Computer Science  Worcester Polytechnique Institute www.wpi.edu/Pubs/ETD/Available/etd-0515100145926 unrestricted/wlin.pdf, 2000, pp. 64 9 J  Sc ha f e r, J   K ons ta n, a nd J  Rie d l E le c t ronic  Commerce Recommender Applications Journal of Data Mining and Knowledge Discovery vol. 5, pp 115-152, 2001 1 R L a w r en ce  G   A l masi V  Ko tlyar M  V i vero s an d S. Duri, "Personalization of Supermarket Product Recommendations Journal of Data Mining and Knowledge Discovery vol. 5, pp. 11-32, 2001 1 Y. D. S h en  Q. Ya n g Z Zh a n g an d H L u  M i n in g  the Customer's Up-To-Moment Preferences for Ecommerce Recommendation," in Proceedings of the Advances in Knowledge Discovery and Data Mining 7th Pacific-Asia Conference, PAKDD 2003, Seoul Korea, April 30 - May 2 vol. 2637 / 2003 Lecture Notes in Computer Science K.-Y. Whang, J. Jeon, K Shim, and J. Srivastava, Eds. Heidelberg: SpringerVerlag, 2003, pp. 166-177 12 R. Ka la k o ta J. Sta lla e r t, a n d A  C. W h inston   Implementing Real time Supply Chain Optimization Systems," presented at Supply Chain Management Hong Kong, 1995 1 J D y ch e  Real T i me o r Righ t T i m e E x p l ain i n g T h e Real Time Enterprise," vol. 2004: CRM Guru, 2003 1 Op en S e rviceIn c  Real-T i m e En terp rise Risk an d Vulnerability Management," vol. 2004: Open Service Incorporation, 2004 15  Se e B ey ond R e a l T i m e Stoc k Ma na g e m e nt a n d  VMI," vol. 2004, 2004 16 W   L e e  S. J  Stolf o, P  K  Cha n E. Es k i n, W  Fa n, M  Miller, S. Hershkop, and J. Zhang, "Real time data mining-based intrusion detection," presented at DARPA Information Survivability Conference Exposition II, Anaheim, CA , USA, 2001 17 P. Ha je k  I. Ha v e l, a nd M. Chy til T he  G uha Me thod  of Automatic Hypotheses Generation Computing  vol. 1, pp. 293-308, 1966 18 R. Ag a r wa l, T  I m ie lin sk i, a nd A  S w a m i M ining  Association Rules Between Sets of Items in Large Datasets," in Proceedings of the ACM SIGMOD Conference on Management of Data  Washington,D.C.: ACM, 1993, pp. 207-216 1 J Hip p  U G u n t zer an d  G  Na kh aeizad e h   Algorithms for Association Rule Mining -- A general Survey and Comparision," in Proceedings of ACM SIGKDD vol. 2: ACM, 2000, pp. 58-64 20 R. Ag ra w a l a nd R. Srik a n t M ining Se que n tia l  Patterns," in Proceedings of the 11th IEEE International Conference on Data Engineering  Taipei, Taiwan: IEEE, 1995 2 A  S a vaser e E  O m i eci n s ki  an d S  B Navat h e   A n  Efficient Algorithm for Mining Association Rules in Large Databases," in Proceedings of the 21nd International Conference on Very Large Databases  Zurich, Swizerland, 1995, pp. 432-444 22  H  T o iv one n S a m pling L a r g e D a ta ba se s  f o r Association Rules," in Proceedings of the 22nd International Conference on Very Large Databases  Mumbai, India, 1996, pp. 134-145 23  C. H i dbe r O nline A s s o c i a tion Rule Mini ng  in Proceedings ACM SIGMOD International Conference on Management of Data Philadephia Pennsylvania: ACM, 1999, pp. 145-156 2 M  J Z aki  S cal ab l e A l go ri t h ms f o r A sso ci at i o n  Mining IEEE Transactions on Knowledge and Data Engineering vol. 12, pp. 372-390, 2000 25  J  H a n, J   P e i, a nd Y  Y i n M i n i n g Fre que nt P a tte rns  Without Candidate Generation," in Proceedings of the 2000 ACM SIGMOD International Conference on Management of Data Dallas,TX: ACM, 2000, pp. 112 26  J  H Su a nd W  Y  L i n CBW  A n Eff i c i e n t Algorithm for Frequent Itmeset Mining," in Proceedings of the 37th Hawaii International Conference on System Sciences Hawaii: IEEE, 2004 27  R  K oha v i a nd F P r ov os t A pplic a t i ons of D a ta  Mining to Electronic Commerce Journal of Data Mining and Knowledge Discovery vol. 5, pp. 5-10 2001 28  M. S Ra hm a n N  L  Ma rti n  a nd S   P a ul D a t a  Mining, Group Memory, Group Decision Making: A Theoretical Framework," presented at Ninth Americas Conference on Information Systems, 2003 29  Deshpande, M. and G. Karypis Item Based Top-N Recommendation Algorithms 2003     0-7695-2268-8/05/$20.00 \(C Proceedings of the 38th Hawaii International Conference on System Sciences - 2005 10 


xt a ppl i c a t i on oc t e t s t re a m 22832 xt t e xt  pl a i n 17993 


the initial global candidate set would be similar to the set of global MFIs. As a result, during the global mining phase the communication and synchronization overhead is low  0 2 4 6 8 1 0 Number of Nodes Figure 5. Speedup of DMM 4.4.2 Sizeup For the sizeup test, we fixed the system to the 8-node con figuration, and distributed each database listed in Table 2 to the 8 nodes. Then, we increased the local database sire at each node from 45 MB to 215 MB by duplicating the initial database partition allocated to the node. Thus, the data distribution characteristics remained the same as the local database size was increased. This is different from the speedup test, where the database repartitioning was per formed when the number of nodes was increased. The per formance of DMM is affected by the database repartitioning to some extent, although it is usually very small. During the sizeup test, the local mining result of DMM is not changed at all at each node The results shown in Figure 6 indicate that DMM has a very good sizeup property. Since increasing the size of local database did not affect the local mining result of DMM at each node, the total execution time increased just due to more disk U 0  and computation cost which scaled almost linearly with sizeup 5 Conclusions In this paper, we proposed a new parallel maximal fre quent itemset \(MFI Max-Miner \(DMM tems. DMM is a parallel version of Max-Miner, and it re quires low synchronization and communication overhead compared to other parallel algorithms. In DMM, Max Miner is applied on each database partition during the lo 0 45 90 135 180 225 270 Amwnt of Data per Node \(ME Figure 6. Sizeup of DMM cal mining phase. Only one synchronization is needed at thc end of this phase to construct thc initial global candi date set. In the global mining phase, a top-down search is performed on the candidate set, and a prefix tree is used to count the candidates with different length efficiently. Usu ally, just a few passes are needed to find all global maximal frequent itemsets. Thus, DMM largely reduces the number of synchronizations required between processing nodes Compared with Count Distribution, DMM shows a great improvement when some frequent itemscts are large \(i.e long patterns employed by DMM for efficient communication between nodes; and global support estimation, subset-infrequency based pruning, and superset-frequency based pruning are used to reduce the size of global candidate set. DMM has very good speedup and sizeup properties References I ]  R. Agrawal and R. Srikant  FdSt Algorithms for Mining As sociation Rules  Pmc. o f f h e  ZOrh VLDB Conf, 1994, pp 487499 2] R. Agrawal and I. C. Shafer  Parallel Mining of Association Rules  IEEE Trans. on Knowledge and Dura Engineering Vol. 8, No. 6, 1996, pp. 962-969 3] R. I. Bayardo  Efficient Mining Long Patlems from Databases  Proc. ofrhe ACM SIGMOD Inf  l Conf on Man ogemenr ofDara, 1998, pp. 85-91 4] S.  M. Chung and J. Yang  A Parallel Distributive Join Al gorithm for Cube-Connected Multiprocessors  IEEE Trans on Parallel and Disrribured Systems, Vol. 7, No. 2, 1996, pp 127-137 51 M. Snir, S. Otto. S. Huss-Lederman, D. Walker, and J. Don gana, MPI: The Complete Reference, The MIT Press, 1996 


gana, MPI: The Complete Reference, The MIT Press, 1996 6] R. Rymon  Search through Systematic Set Enumeralion   Pmc. of3rd Inr  l Con$ on Principles of Knowledge Repre sentation and Reasoning, 1992, pp. 539-550 507 pre></body></html 


sketch-index in answering aggregate queries. Then Section 5.2 studies the effect of approximating spatiotemporal data, while Section 5.3 presents preliminary results for mining association rules 5.1 Performance of sketch-indexes Due to the lack of real spatio-temporal datasets we generate synthetic data in a way similar to [SJLL00 TPS03] aiming at simulation of air traffic. We first adopt a real spatial dataset [Tiger] that contains 10k 2D points representing locations in the Long Beach county \(the data space is normalized to unit length on each dimension These points serve as the  airbases  At the initial timestamp 0, we generate 100k air planes, such that each plane \(i uniformly generated in [200,300], \(ii, iii destination that are two random different airbases, and iv  the velocity direction is determined by the orientation of the line segment connecting its source and destination airbases move continually according to their velocities. Once a plane reaches its destination, it flies towards another randomly selected also uniform in [0.02, 0.04 reports to its nearest airbase, or specifically, the database consists of tuples in the form &lt;time t, airbase b, plane p passenger # a&gt;, specifying that plane p with a passengers is closest to base b at time t A spatio-temporal count/sum query has two parameters the length qrlen of its query \(square number qtlen of timestamps covered by its interval. The actual extent of the window \(interval uniformly in the data space \(history, i.e., timestamps 0,100 air planes that report to airbases in qr during qt, while a sum query returns the sum of these planes  passengers. A workload consists of 100 queries with the same parameters qrlen and qtlen The disk page size is set to 1k in all cases \(the relatively small page size simulates situations where the database is much more voluminous specialized method for distinct spatio-temporal aggregation, we compare the sketch-index to the following relational approach that can be implemented in a DBMS. Specifically, we index the 4-tuple table lt;t,b,p,a&gt; using a B-tree on the time t column. Given a count query \(with window qr and interval qt SELECT distinct p FROM &lt;t,b,p,a&gt WHERE t?qt &amp; b contained in qr The performance of each method is measured as the average number of page accesses \(per query processing a workload. For the sketch-index, we also report the average \(relative Specifically, let acti and esti be the actual and estimated results of the i-th query in the workload; then the error equals \(1/100 set the number of bits in each sketch to 24, and vary the number of sketches The first experiment evaluates the space consumption Figure 5.1 shows the sketch index size as a function of the number of sketches used \(count- and sum-indexes have the same results more sketches are included, but is usually considerably smaller than the database size \(e.g., for 16 signatures, the size is only 40% the database size 0 20 40 60 80 


80 100 120 140 160 8 16 32 number of sketches size \(mega bytes database size Figure 5.1: Size comparison Next we demonstrate the superiority of the proposed sketch-pruning query algorithm, with respect to the na  ve one that applies only spatio-temporal predicates. Figure 5.2a illustrates the costs of both algorithms for countworkloads with qtlen=10 and various qrlen \(the index used in this case has 16 sketches also illustrate the performance of the relational method which, however, is clearly incomparable \(for qrlen?0.1, it is worse by an order of magnitude we omit this technique Sketch-pruning always outperforms na  ve \(e.g., eventually two times faster for qrlen=0.25 increases with qrlen, since queries returning larger results tend to set bits in the result sketch more quickly, thus enhancing the power of Heuristics 3.1 and 3.2. In Figure 5.2b, we compare the two methods by fixing qrlen to 0.15 and varying qtlen. Similar to the findings of [PTKZ02]4 both algorithms demonstrate  step-wise  growths in their costs, while sketch-pruning is again significantly faster The experiments with sum-workloads lead to the same observations, and therefore we evaluate sketch-indexes using sketch-pruning in the rest of the experiments 4 As explained in [PTKZ02], query processing accesses at most two paths from the root to the leaf level of each B-tree regardless the length of the query interval Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE sketch-pruning naive relational 0 100 200 300 400 500 600 700 800 900 0.05 0.1 0.15 0.2 0.25 number of disk accesses query rectangle length 300 0 100 200 400 500 600 1 5 10 15 20 number of disk accesses query interval length a qtlen=10 b qrlen=0.15 Figure 5.2: Superiority of sketch-pruning \(count As discussed in Section 2, a large number of sketches reduces the variance in the resulting estimate. To verify this, Figure 5.3a plots the count-workload error of indexes 


using 8-, 16-, and 32- sketches, as a function of qrlen qtlen=10 error \(below 10 it increases slowly with qrlen used, however, the error rate is much higher \(up to 30 and has serious fluctuation, indicating the prediction is not robust. The performance of 16-sketch is in between these two extremes, or specifically, its accuracy is reasonably high \(average error around 15 much less fluctuation than 8-sketch 32-sketch 16-sketch 8-sketch relative error 0 5 10 15 20 25 30 35 0.05 0.1 0.15 0.2 0.25 query rectangle length relative error 0 5 10 15 20 25 30 35 1 5 10 15 20 query interval length a qtlen=10, count b qrlen=0.15, count relative error query rectangle length 0 5 10 15 20 25 0.05 0.1 0.15 0.2 0.25 relative error query interval length 0 5 10 15 20 25 30 1 5 10 15 20 c qtlen=10, sum d qrlen=0.15, sum Figure 5.3: Accuracy of the approximate results The same phenomena are confirmed in Figures 5.3b where we fix qrlen to 0.15 and vary qtlen 5.3d \(results for sum-workloads number of sketches improves the estimation accuracy, it also leads to higher space requirements \(as shown in Figure 5.1 Figures 5.4a and 5.4b show the number of disk accesses for the settings of Figures 5.3a and 5.3b. All indexes have almost the same behavior, while the 32-sketch is clearly more expensive than the other two indexes. The interesting observation is that 8- and 16-sketches have 


interesting observation is that 8- and 16-sketches have almost the same overhead due to the similar heights of their B-trees. Since the diagrams for sum-workloads illustrate \(almost avoid redundancy 32-sketch 16-sketch 8-sketch number of disk accesses query rectangle length 0 50 100 150 200 250 300 350 400 0.05 0.1 0.15 0.2 0.25 number of disk accesses query interval length 0 50 100 150 200 250 300 350 1 5 10 15 20 a qtlen=10 b qrlen=0.15 Figure 5.4: Costs of indexes with various signatures Summary: The sketch index constitutes an effective method for approximate spatio-temporal \(distinct aggregate processing. Particularly, the best tradeoff between space, query time, and estimation accuracy obtained by 16 sketches, which leads to size around 40 the database, fast response time \(an order of magnitude faster than the relational method average relative error 5.2 Approximating spatio-temporal data We proceed to study the efficiency of using sketches to approximate spatio-temporal data \(proposed in Section 4.1 as in the last section, except that at each timestamp all airplanes report their locations to a central server \(instead of their respective nearest bases maintains a table in the form &lt;time t, plane p, x, y&gt;, where x,y with parameters qrlen and qtlen distinct planes satisfying the spatial and temporal conditions. For comparison, we index the table using a 3D R*-tree on the columns time, x, and y. Given a query, this tree facilitates the retrieval of all qualifying tuples, after which a post-processing step is performed to obtain the Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE number of distinct planes \(in the sequel, we refer to this method as 3DR method introduces a regular res  res grid of the data space, where the resolution res is a parameter. We adopt 16 sketches because, as mentioned earlier, this number gives the best overall performance Figure 5.5 compares the sizes of the resulting sketch indexes \(obtained with resolutions res=25, 50, 100 the database size. In all cases, we achieve high compression rate \(e.g., the rate is 25% for res=25 evaluate the query efficiency, we first set the resolution to the median value 50, and use the sketch index to answer workloads with various qrlen \(qtlen=10 


workloads with various qrlen \(qtlen=10 size \(mega bytes database size 0 20 40 60 80 100 120 140 160 25 50 100 resolution Figure 5.5: Size reduction Figure 5.6a shows the query costs \(together with the error in each case method. The sketch index is faster than 3DR by an order of magnitude \(note that the vertical axis is in logarithmic scale around 15% error observations using workloads with different qtlen Finally, we examine the effect of resolution res using a workload with qrlen=0.15 and qtlen=10. As shown in Figure 5.6c, larger res incurs higher query overhead, but improves the estimation accuracy Summary: The proposed sketch method can be used to efficiently approximate spatio-temporal data for aggregate processing. It consumes significantly smaller space, and answers a query almost in real-time with low error 3D Rsketch number of disk accesses query rectangle length 1 10 100 1k 10k 0.05 0.1 0.15 0.2 0.25 16 14% 15 15% 13 relative error number of disk accesses query interval length 1 10 100 1k 10k 1 5 10 15 20 16 15% 15% 12% 11 relative error a qtlen=10, res=25 b qrlen=0.15, res=25 0 500 1000 1500 2000 2500 25 50 100 number of disk accesses resolution 20% 15% 14 relative error c qrlen=0.15, qtlen=10 


c qrlen=0.15, qtlen=10 Figure 5.6: Query efficiency \(costs and error 5.3 Mining association rules To evaluate the proposed algorithm for mining spatiotemporal association rules, we first artificially formulate 1000 association rules in the form \(r1,T,90 with 90% confidence i randomly picked from 10k ones, \(ii in at most one rule, and \(iii Then, at each of the following 100 timestamps, we assign 100k objects to the 10k regions following these rules. We execute our algorithms \(using 16 sketches these rules, and measure \(i  correct  rules divided by the total number of discovered rules, and \(ii successfully mined Figures 5.7a and 5.7b illustrate the precision and recall as a function of T respectively. Our algorithm has good precision \(close to 90 majority of the rules discovered are correct. The recall however, is relatively low for short T, but gradually increases \(90% for T=25 evaluated in the previous sections, the estimation error decreases as the query result becomes larger \(i.e., the case for higher T 78 80 82 84 86 88 90 92 94 96 5 10 2015 25 precision HT 78 80 82 84 86 88 90 92 94 96 5 10 2015 25 recall HT a b Figure 5.7: Efficiency of the mining algorithm Summary: The preliminary results justify the usefulness of our mining algorithm, whose efficiency improves as T increases Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE 6. Conclusions While efficient aggregation is the objective of most spatio-temporal applications in practice, the existing solutions either incur prohibitive space consumption and query time, or are not able to return useful aggregate results due to the distinct counting problem. In this paper we propose the sketch index that integrates traditional approximate counting techniques with spatio-temporal indexes. Sketch indexes use a highly optimized query algorithm resulting in both smaller database size and faster query time. Our experiments show that while a sketch index consumes only a fraction of the space required for a conventional database, it can process 


required for a conventional database, it can process queries an order of magnitude faster with average relative error less than 15 While we chose to use FM sketches, our methodology can leverage any sketches allowing union operations Comparing the efficiency of different sketches constitutes a direction for future work, as well as further investigation of more sophisticated algorithms for mining association rules. For example, heuristics similar to those used for searching sketch indexes may be applied to improve the brute-force implementation ACKNOWLEDGEMENTS Yufei Tao and Dimitris Papadias were supported by grant HKUST 6197/02E from Hong Kong RGC. George Kollios, Jeffrey Considine and were Feifei Li supported by NSF CAREER IIS-0133825 and NSF IIS-0308213 grants References BKSS90] Beckmann, N., Kriegel, H., Schneider, R Seeger, B. The R*-tree: An Efficient and Robust Access Method for Points and Rectangles. SIGMOD, 1990 CDD+01] Chaudhuri, S., Das, G., Datar, M., Motwani R., Narasayya, V. Overcoming Limitations of Sampling for Aggregation Queries. ICDE 2001 CLKB04] Jeffrey Considine, Feifei Li, George Kollios John Byers. Approximate aggregation techniques for sensor databases. ICDE, 2004 CR94] Chen, C., Roussopoulos, N. Adaptive Selectivity Estimation Using Query Feedback. SIGMOD, 1994 FM85] Flajolet, P., Martin, G. Probabilistic Counting Algorithms for Data Base Applications JCSS, 32\(2 G84] Guttman, A. R-Trees: A Dynamic Index Structure for Spatial Searching. SIGMOD 1984 GAA03] Govindarajan, S., Agarwal, P., Arge, L. CRBTree: An Efficient Indexing Scheme for Range Aggregate Queries. ICDT, 2003 GGR03] Ganguly, S., Garofalakis, M., Rastogi, R Processing Set Expressions Over Continuous Update Streams. SIGMOD, 2003 HHW97] Hellerstein, J., Haas, P., Wang, H. Online Aggregation. SIGMOD, 1997 JL99] Jurgens, M., Lenz, H. PISA: Performance Models for Index Structures with and without Aggregated Data. SSDBM, 1999 LM01] Lazaridis, I., Mehrotra, S. Progressive Approximate Aggregate Queries with a Multi-Resolution Tree Structure. SIGMOD 2001 PGF02] Palmer, C., Gibbons, P., Faloutsos, C. ANF A Fast and Scalable Tool for Data Mining in Massive Graphs. SIGKDD, 2002 PKZT01] Papadias,  D., Kalnis, P.,  Zhang, J., Tao, Y Efficient OLAP Operations in Spatial Data Warehouses. SSTD, 2001 PTKZ02] Papadias, D., Tao, Y., Kalnis, P., Zhang, J Indexing Spatio-Temporal Data Warehouses ICDE, 2002 SJLL00] Saltenis, S., Jensen, C., Leutenegger, S Lopez, M.A. Indexing the Positions of Continuously Moving Objects. SIGMOD 2000 SRF87] Sellis, T., Roussopoulos, N., Faloutsos, C The R+-tree: A Dynamic Index for MultiDimensional Objects. VLDB, 1987 TGIK02] Thaper, N., Guha, S., Indyk, P., Koudas, N Dynamic Multidimensional Histograms 


SIGMOD, 2002 Tiger] www.census.gov/geo/www/tiger TPS03] Tao, Y., Papadias, D., Sun, J. The TPR*Tree: An Optimized Spatio-Temporal Access Method for Predictive Queries. VLDB, 2003 TPZ02] Tao, Y., Papadias, D., Zhang, J. Aggregate Processing of Planar Points. EDBT, 2002 TSP03] Tao, Y., Sun, J., Papadias, D. Analysis of Predictive Spatio-Temporal Queries. TODS 28\(4 ZMT+01] Zhang, D., Markowetz, A., Tsotras, V Gunopulos, D., Seeger, B. Efficient Computation of Temporal Aggregates with Range Predicates. PODS, 2001 ZTG02] Zhang, D., Tsotras, V., Gunopulos, D Efficient Aggregation over Objects with Extent PODS, 2002 Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE pre></body></html 


