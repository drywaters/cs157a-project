CODEM: A Novel Spatial Co-location and De-location Pa tterns Mining Algorithm  You Wan a Jiaogen Zhou b, c Fuling Bian a  a Research Center of Spatial Information and Digita l Engineering, International School of Software Wuhan University, 129 Luoyu Road, Wuhan 430079, China b Institute of remote sensing applications, Chinese academy of sciences, Beijing 100101 China c National Engineering Research Center for inform ation technology in Agri culture, Beijing Academy of Agriculture and Forestry Sciences, Beijing 100097, China E-mail:wanyou9@gmail.com   Abstract   Spatial co-location and de-location patterns represent subsets of Boolean spatial feature types whose instances are often located in close/separate geographic proximity Existing literatures pay more attention on mining colocation patterns based on distance threshold spatial relation. In this paper, we proposed a novel co-location and de-location patterns mining algorithm \(CODEM\ to discover useful co-location and de-location patterns in large spatial datasets. We used k nearest features \(k-NF to measure spatial close/separate relationships of colocation/de-location patterns in spatial datasets. The kNF set of one feature type's instances was used to evaluate the close/separation relationship between other features and one feature. Then, a correlation checking operation was adopted to filter the uninteresting patterns and moreover a grid index method was used to accelerate the k nearest features query, while a T-tree \(Total support tree\ structure was also used to compress the candidate frequent and infrequent item sets, and generate patterns efficiently. Experimental results prove that the algorithm is accurate and efficient, has a time complexity of O\(n  1. Introduction  Extracting interesting and useful patterns from spatial datasets is more difficult than extracting untrivial patterns from traditional numeric and categorical data due to the complexity of spatial data types, spatial relationships and spatial autocorrelation. Spatial co-location and de-location patterns are similar to positive and negative association rules. Spatial co-location patterns represent subsets of Boolean spatial feature types whose instances are often located in close geographic proximity 1 Spatial delocation patterns extend traditional spatial associations to include association rules in the form of A 000  B which indicate that B will not exist nearby A They are both very useful patterns in some spatial problems and are capable of extracting some useful and previously unknown hidden information Figure 1 shows a sample spatial dataset S four spatial feature types named by lexicographic order A  B  C  D  and represented by different shapes. As can be seen instances of spatial features in sets A  C and B  D  tend to be located together; and instances of spatial features in sets A  D and B  C tend to be tends to be separate. We identify A  C and B  D are two colocation patterns A  D and B  C are two de-location patterns in S   Figure 1 A sample spatial dataset   2. Related works   In data mining area, approaches to discover co-location patterns in the literature can be classified into four general categories: \(i\ustering-based map overlay approach   ii\erence feature based approach  iii\ata-partition approach  and \(iv\ event centric model based approach   All above-mentioned approaches have some shortcomings. The clustering-based map overlay approach assumes instances of each spatial feature are clustered, but many spatial features can be completely spatially random or de-clustered at many scales. Other three approaches use a distance threshold to treat spatial close relationship. Spatial features which have a distance below this threshold are considered to be close relationship. However, it is hard to decide the distance threshold for each spatial dataset without specific prior knowledge. Moreover, spatial datasets are not usually even distributed, so a unique distance value cannot fit an 
Fifth International Conference on Fuzzy Systems and Knowledge Discovery 978-0-7695-3305-6/08 $25.00 © 2008 IEEE DOI 10.1109/FSKD.2008.467 576 


irregularly distributed spatial dataset well. In the end, they donít have a correlation or interestingness judgment to the patterns they have got, so some useless and confusion patterns may exist in the results The spatial de-location pattern mining problem could be treated as the combination of spatial negative association rules mining and spatial co-location pattern mining. Sharma et al. proposed an approach  combine Wuís interestingness function  with  Koperskiís Multilever spatial association rules mining algorithm  can extract interesting positive and negative association rules in spatial data sets. However, two shortcomings exist Firstly, the infrequent itemsets are generated from frequent itemsets, which means that only a few infrequent itemsets can be discovered and in turn only a few negative association rules can be obtained. And the negative association rules in infrequent itemsets have not been discovered. Although Dong  used multi-confidence and multi-level support thresholds to get more interesting negative association rules, the value of different kinds of confidence and the support thresholds to different lengths of items are not easy to choose, and also complicated Secondly, Existing algorithms pay more attention on how to effectively identify negative association rules of interest in those infrequent itemsets. The methods to generate infrequent and frequent itemsets are all use Aprior algorithm, which is inefficient enough In this paper, we defined a k nearest features k NF based spatial close relationship measurement. The k NF set of one feature typeís instances is used to evaluate close/separate relationship between other features and this feature. The itemsetsí support value in one feature typeís k NF set is used to measure the frequency of their close relationship. A k nearest features based CO-location and DE-location pattern Mining \(CODEM\ algorithm was proposed to discover useful co-location and de-location patterns from k NF sets, which contains a three level support thresholds strategy. A grid index and a T-tree structure were adopted to mine co-location and delocation patterns in large spatial dataset efficiently Experimental results prove that CODEM can handle large spatial datasets very accurately and efficiently  3. Problem formulation   The k nearest neighbor relationship is widely used in data mining area, like classification, clustering. However different from those traditional k nearest neighbor based algorithms, the close relationships of spatial features are between distinguished spatial features. In this section, we used Euclidean distance to evaluate the distance between two spatial feature objects p  q oted as dist p  q  and gave the definition of k NF instances set. Then introduce the quantized k nearest features based colocation and de-location pattern Definition 2: k-nearest feature instances set \(short for k NF i et i be a feature instance in dataset S k-NF i  is a subset of  the top k NF instances of i and any instance in k NF i as the same feature type of i is omitted. That is a k NF i  002 k  b i 003 k NF i  c i s feature type is O where O  004 S  005 p 004 k NF i  then p s feature type is not O  d p  q are i s k th and k 1\th nearest feature instances, then dist i  q  006 dist i  p  Definition 3 k nearest feature types set \(short for k NF O et O be a feature type in S  k NF O the union of each O s instance i s k NF i d then abstracted to feature type level. It can be formally represented as k NF O  007 k NF i  i 004 O  Set O is the complementary feature type set of O  S   O 007 O then the range of k NF O the subset of all unions of each element in O The maximize number of different elements of k NF O  1 1 k i m i C   000 Here m is the number of feature types k is the threshold value. To exhaust all the elements may exist in each k NF O will cost much, as the space needed is m 2 m In the algorithm we create T-trees for each spatial feature type O to store all the elements in k NF O d to calculate each elementís support value. Each node in the T-tree is an object comprised of a support value and a reference to an array of child T-tree node. A detailed explanation is in section 5 Definition 4: Support of k NF O s k nearest feature types set O Denote as Support O  O Let O is a subset of O and O  004 k NF O we record the number of times when O and O s super set exists in k NF O s N  then the Support of O can be evaluated as follows Support O  O  N  k NF O range from 0 to1 Because the patterns we found are spatial feature type oriented, instead using the total number of all feature objects, here we use each feature typeís instance number to calculate every itemsetís support value, which can be more accurate in getting the close relationship between feature types Definition 5: Frequent k nearest feature types set Denote as Frequent O  O iven a support threshold 010  O is a frequent k nearest feature types set in k NF O  only if O  004  k NF O d Support O  O  006 010  Definition 6: Infrequent k nearest feature types set Denote as Infrequent O  O iven a support threshold 010   O is a infrequent k nearest types set in k NF O ly if O  004  k NF O d Support O  O  002 010   Definition 7: Correlation value between feature types Denote as Correlation O  O Given Frequent O  O or Inrequent O  O  O is a frequent\(infrequent k nearest types set in k NF O et P  Q are subset of O  P 011 Q  012  
577 


and P 007 Q  O Then, Correlation O  O Support O  O  Support O  P Support O  Q Here we choose PiatetskyShapiroís interestingness measurement 10 to check whether two itemsets have correlation ship. Spatially, the correlations are calculated between consequent side of the frequent and infrequent k NF types setís items. If the Correlation O  O  013 0, then P and Q are approximately independent, which means the frequent O  O  Infrequent O  O ot interesting Definition 8 k nearest features based spatial Colocation pattern \(Denote as Co-locationk O 014 O en the correlation threshold 015 a value near to zero O and O is a couple of co-location features only if O  004  k NF O  016 Frequent O  O  016 Correlation O  O  006  015  Definition 9 k nearest features based spatial Delocation pattern \(Denote as De-locationk O 014 O en the correlation threshold 015  O and O is a couple of delocation features only if O  004  k NF O  016 Inrequent O  O  016 Correlation O  O  006  015   4. CODEM algorithm  The CODEM algorithm can be decomposed into three sub-problems 1\d each spatial feature instance i s k NF i  2\uild T-tree for each spatial feature typeís k NF O d calculate Support O  O  3\erate co-location k and de-location k patterns from each T-tree A detailed description is below for these three parts  4.1 Grid index structure for the k NF query  The k nearest neighbors k nn\ query problem is usually a high computational complexity process, which affects the whole algorithmís performance very much. In CODEM algorithm, we use the grid index structure to divide data space into appropriate numbers of cells, one instanceís k NF query is only done to those features locate in the same cells and cells nearby. So the calculations will only happen to a constant number of objects. In this way, the k NF query process is very efficient, even for large spatial datasets The cellís length is the key parameter to k NF query process. In CODEM, take two dimensional attributes for example, the Cellís length row count row_cnt d column count col_cnt be calculated as blow The domain's D_length  max_x min_x  D_width  max_y min_y  000 Its area D_area  D_length  D_width  The cell's total number m  N  k  000 Cell's length square D_area  m  000 Cell's row_cnt  height  Cell.length  000 Cell's col_cnt  width  Cell.length   4.2 Three level support thresholds for the T-tree generation  Unlike previous co-location pattern mining algorithm a T-tree structure is used in the CODEM algorithm to compress the dataset and candidate frequent itemsets, then generate co-location and de-location patterns. T-tree is based on Rymonís set enumeration tree  The T-tree representing the target sets for which the total support is to be calculated. Compared with Fp-tree based algorithms  T-tree based algorithms  also need scan dataset twice. But they offer significant advantages in terms of storage and execution time. As they can save memory space by fewer pointers and do not need to reorder the itemsets In order to mining both co-location and de-location patterns effectively, CODEM algorithm uses a three level support thresholds strategy. One minimum interestingness support threshold MIS or specializing all frequent close sets; and one minimum un-interestingness support threshold MUS or all separate sets, and additionally a middle support value mid_supp average value of MIS  adds MUS or pruning the usefulness itemsets after each iteration. The experiments in section 6 give a strong support that a mid_supp will not cost much time in the whole algorithm, and it can get better results  4.3 Co-location and de-location patterns generation  The co-location patterns generation is just a traverse operation on the created T-tree structure, with a MIS  threshold in it. However, the de-location patterns generation is a different thing. As the infrequent itemsets are all pruned after each level of T-tree generated, no delocation pattern left in the final T-tree. So we have to check and store each de-location pattern before pruning the infrequent itemsets during each iteration  5. Experiments   We implemented the algorithm by Java language, and the experimental platform is a Pentium \037 2.66GHz-based machine with 512MB main memory. The experimental data is ìStreetMap of USA on 2004î from Environmental Systems Research Institute \(ESRI\which contains over 330 thousands spatial instance in it  5.1 Mining co-location and de-location patterns  The first experiment was done on one State California of StreetMap data set, seven kinds of spatial feature about Californiaís culture theme places exist in this dataset and the total number of places is 6195. A detailed explanation is shown in table 1. And we aimed to 
578 


mine important co-location and de-location patterns between different kinds of places in California  Table 1 Seven kinds of culture places in California Places Marks Number Airport A 977 Cemetery B 675 Church C 1383 Hospital D 464 Park  E 1037 Post Office F 363 School G 1296  Using CODEM algorithm, when set k 5 010 60 010   20% and 015 0.05, we got some results shown in table 2  Table 2 Patterns between different kinds of places Co-location 5 support De-location 5 support B  014  A  0.64 B  014  CG  0.13 C  014  D 0.68 B  014  CE 0.14 D  014  G 0.67 D  014  CE 0.18 E  014  G 0.73 E  014  AC 0.09 G  014  E 0.66 E  014  CD 0.19 E  017  G  0.66 G  014  F  0.19  From table 2, we could make some conclusions: The assertion that a hospitalís five nearest neighbour places  5 NF\will contain school has a 67% possibility. The assertion that all parks and schools may exist in each otherís 5 NF has a 66% possibility. The assertion that one schoolís 5 NF will not contain post office has an 81 possibility. Other conclusions can also be made like this  5.2 Influence of parameters on CODEM  5.2.1 Middle support value  The pruning strategy of T-treeís generation is impaired by different support values. Here, two experiments were done on the same dataset as in 6.1, to test the influence of mid_supp on CODEM When set different 010 to test the influence on T-treeís storage, we found the algorithm using three level thresholds needs more storages than that with the two thresholds situation, but it still not cost much due to the great effect of T-treeís compression Then a comparison test was made between CODEM algorithm with and without mid_supp From figure 2, the co-location patterns number was the same whether using or not using mid_supp as the same MIS value was taken However, the de-location patterns number had a little difference. The algorithm with three lever thresholds found more useful de-location patterns when 010 has a large value. And the number of found patterns decreased smoothly when using mid_supp   Figure 2 Influence of support values on pattern number  Figure 3 Time complexity on different data sizes  5.2.2 Different data sizes  To test the scalability of CODEM to large datasets, we ran the algorithm on four datasets with different data sizes from 50 thousand to 290 thousand. When set parameter k 5 010 60 010  20% and 015 0.05, we got a series of results in figure 3. The total time cost of CODEM was divided into two parts k NF calculation and patterns generation. It is clear that the key problem in CODEM is k NF calculation. As we used a efficient grid index-based method, the time complexity of k NF dropped to O\(n Although the data size is up to 200 thousand, the time cost of patterns generation is only a few seconds. So, the algorithm with a grid index and T-tree structure is competent enough for large datasetís co-location and delocation pattern mining tasks  5.2.3 Different k values  
579 


As the most significant parameter k influences the results of CODEM very much. To test the influence of different k values on the number of patterns generated, an experiment on StreetMap dataset, containing 330 thousand spatial objects, was done. Taking 010 as 60%, and 010  as 20%, we got a series of results in figure 4  Figure 4 Influence of k values on patterns number  It is obvious that the number of co-location patterns founded increase when increasing k value, while the number of de-location patterns identified decrease when increasing k Figure 4 indicates that k value should not be too large or too small; otherwise, the results may be confused. Too large k value will impair the close relationships in k NF set, lead to many useless co-location patterns and fewer de-location patterns. Moreover, the time consuming is increased rapidly as k value increasing because k value can affects the k NF calculation and limits the T-treeís total lever \(its total lever is less than k 1\. On the other hand, too small k values lead to fewer co-locations and many useless de-location patterns. A feasible suggestion is to set the k value under 10. In the StreetMap of USA, which has 7 different feature types we set the k value to 5  6. Conclusions   In this paper, we proposed a novel co-location and delocation patterns mining algorithm \(CODEM\ discover both spatial co-location and de-location patters in spatial datasets. In the algorithm k nearest features were used to measure the spatial close/separate relationships of colocation/de-location patterns, and a grid index and a Ttree structure were also adopted to reduce the computational complexity of the algorithm. Finally, a three level support thresholds strategy was presented to prune away trivial candidate item sets and discover interesting patterns. Experimental results prove that CODEM algorithm is accurate and efficient  Acknowledgement  The work was supported by natural Science foundation of Beijing \(4061002\Project of Chinese Ministry of Agriculture \(2006-G63\d the National High Tech R&D Program of China \(2007AA01Z179  References   1 S. She kha r a n d Y  H u a n g  C o l o c a t i o n R u l e s M i ni ng   A Summary of Resultsî. In Proc. of Symposium on Spatio and Temporal Database \(SSTD\, 2001, pp. 236256 2 Estiv ill C a s tro an d A  Mu rra y   D isco v e ri n g  Associations in Spatial Data - An Efficient Medoid Based Approachî. In Proc. of 2 th Pacific-Asia Conference on Knowledge Discovery and Data Mining \(PAKDD pp.110-121  Kopers k i an d J  H a n   D i s cov e r y o f S p atial  Association Rules in Geographic Information Databases Proc. of Fourth International Symposium on Spatial Databases, 1995, pp.47-66 4 Y  Mo r i m o t o  M i n i n g F r e q ue nt N e i ghb o r i n g Cl a s s  Sets in Spatial Databasesî, Proc. ACM SIGKDD Intíl Conf. Knowledge Discovery and Data Mining, 2001 pp.353-358 5 Y  H u a ng L  Z h a n g P  Y u  Ca n W e  A p p l y Projection Based Frequent Pattern Mining Paradigm to Spatial Co-location Mining?î In Proc. of 9 th Pacific-Asia Conference on Knowledge Discovery and Data Mining PAKDD\pp.719-725  o en en F., Gou l bou rn e, G. an d L e n g  P   T ree  Structures for Mining Association Rulesî, Data Mining and Knowledge Discovery, Vol. 8, 2004, pp. 25-51 7  W u  X   Zha n g C  Z h a n g S  E ff i c i e nt M i ni ng o f  Both Positive and Negative Association ruleî. ACM Tran On Information System, Vol22.No.3, 2004, pp.381-405  g  X., Sun  F., Han, X., Hou  R    S t u d y o f  Positive and Negative Association Rules Based on Multiconfidence and Chi-Squared Testî. In: Li, X., Zarane O.R., Li, Z. \(eds.\DMA 2006. LNCS \(LNAI\ol 4093, Springer, Heidelberg \(2006\ pp. 100ñ109  ar m a L  K., V y a s O.P   T i w a r y U.S., V y as R    A  Novel Approach of Multilevel Positive and Negative Association Rule Mining for Spatial Databasesî. In Perner, P., Imiya, A. \(eds.\DM 2005. LNCS \(LNAI vol. 3587, Springer, Heidelberg \(2005\ pp. 620ñ629  T E T SKYSH A P IR O  G. ìDis co v e r y a n al y s i s   and presentation of strong rulesî. In Knowledge discovery in Databases. AAAI/MIT, Menlo Park, Calif., USA, 1991 pp.229ñ248 11 R y m o n R Se a r c h t h r o ug h s y st e m a t i c se t  enumerationî, In Proc. 3 rd International Conf. on Principles of Knowledge Representation and Reasoning 1992, pp. 539ñ550 
580 


R EFERENCES  1  B. H. Calhoun, D. C. Daly, N. Verma, D. Finchelstein, D D. Wentzloff, A. Wang, S.-H. Cho, and A. P Chandrakasan, çDesign Considerations for Ultra-low Energy Wireless Microsensor Nodes IEEE Transactions on Computers Vol 54\(6\ pp. 727-749, June 2005 2  L. Clare, G. Pottie, and J. Agre. çSelf-Organizing Distributed Sensor Networks SPJE Conference on Unattended Ground Sensor Technologies and Applications pp. 229-237, April 1999 3  T. Wong, T. Tsuchiya, and T. Kikuno, çA Self-organizing Technique for Sensor Placement in Wireless MicroSensor Networks,é in Proc. of 18th International Conference on Advanced Information Networking and Applications AINA\, pp. 78-83, March 2004, Fukuoka Japan, IEEE Computer Society 4  A. Ghosh and S. Sen, çAgent-Based Distributed Intrusion Alert System,é to appear in Proc. 61h International Workshop on Distributed Computing December 2004 5  R. Gopalakrishna and E. H. Spafford, çA Framework for Distributed Intrusion Detection using Interest Driven Cooperating Agents Web Proceedings of the Fourth International Workshop on Recent Advances in Intrusion Detection \(RAID 2001 6  Y. Fu, J. He, G. Li, çA Distributed Intrusion Detection Scheme for Mobile Ad Hoc Networks,é in Proc. of 31 st  Annual International Computer Software and Applications Conference COMPSAC\, Vol. 2,  pp. 7580, 2007 7  W. B. Heinzelman, A P. Chandrakasan, and H Balakrishnan, çAn Application-Specific Protocol Architecture for Wireless Microsensor Networks IEEE Transactions on Wireless Communications Vol. 1, No.4 2002 8  M.-Y. Huang and T. M. Wicks, çA Large-scale Distributed Intrusion Detection Framework Based on Attack Strategy Analysis,é in Web Proc. of the 1st International Workshop on Recent Advances in Intrusion Detection RAID\, 1998 9  A. Abraham, R. Jain, J. Thomas and S. Y. Han, çDSCIDS: Distributed soft computing intrusion detection system Journal of Network and Computer Applications  Vol. 30, pp. 81Ö98, 2007   C. Intanagonwiwat, R. Govindan and D. Estrin. çDirected Diffusion: A Scalable and Robust Communication Paradigm for Sensor Networks,é in Proc. of Annual International Conference on Mobile Computing and Networks MobiCOM\, August 2000   C. Karlof and D. Wagner, çSecure Routing in Wireless Sensor Networks: Attacks and Countermeasures,é Proc of 1st IEEE International Workshop on Sensor Network Protocols and Applications 2003   S. Meguerdichian, F. Koushanfar, M. Potkonjak, and M B. Srivastava, çCoverage Problems in Wireless Ad-hoc Sensor Networs IEEE Infocom Vol 3, pp. 1380-1387 April 2001   P. Papadimitratos and Z. J. Haas, çSecure routing for mobile ad hoc networks,é in SCS Communication Networks and Distributed Systems Modeling and Simulation Conference CNDS\ January 2002   A. Perrig, R. Szewczyk, V. Wen, D. Culler, and J. D Tygar, çSPINS: Security protocols for sensor networks in Proc. of Mobile Networking and Computing 2001   B. S. Snapp and G. D. et al., çDids \(distributed intrusion detection system\ motivation, architecture, and an early prototype,é In Fourteen National Computer Security Conference October 1991   T. Peng, C. Leckie and K. Ramamohanarao, çInformation sharing for distributed intrusion detection systems Journal of Network and Computer Applications Archive  Vol.  30\(3\, pp. 877-899, 2007   E. H. Spafford and D. Zamboni, çIntrusion detection using autonomous agents Computer Networks Vol 34\(4\ 2000   Y. Zhang and W. Lee. çIntrusion Detection in Wireless Ad-Hoc Networks,é in Proc. of the 6th Annual International Conference on Mobile Computing and Networking Mobicom\, 2000   B. Sun, K. Wu, Y. Xiao and R. Wang, çIntegration of mobility and intrusion detection for wireless ad hoc networks: Research Articles International Journal of Communication Systems archive Vol. 20\(6\, pp. 695-721 2007   L. Zhou and Z. Haas, çSecuring ad hoc networks IEEE Network Magazine vol. 13, no. 6, 1999   R. Agrawal, T. Imielinski, and A. N. Swami, çMining Assoc iation Rules between Sets of Items in Large Databases ACM SIGMOD Conference May 1993   M. Halatchev and  L. Gruenwald, çEstimating Missing Values in Related Sensor Data Streams,é in Proc. of Intl Conference on Management of Data January 2005   N. Jiang and L. Gruenwald: CFI-Stream: Mining Closed Frequent Itemsets in Data Streams; ACM SIGKDD international conference on knowledge discovery and data mining, August 2006   L. Gruenwald, H. Chok and M. Aboukhamis, çUsing Data Mining to Estimate Missing Data,é Proceedings of the 7th IEEE International Conference on Data Mining Workshop on Optimization-based Data Mining Techniques with Applications 2007   NASA/JPL Sensor Webs Project http://caupanga.huntington.org/swim/, a ccessed January 2006   S. Papadimitriou,  J. Sun, and C. Faloutsos, çPattern Discovery in Multiple Time-Series International Conference on Very Large Data Bases September 2005   S. Madden, M. Franklin,  J. Hellerstein, and W. Hong TinyDB: An Acquisitional Query Processing System for Sensor Networks ACM Transactions on Database Systems 2005   R. Little and D. Rubin, çStatistical Analysis with Missing Data New York: John Wiley & Sons 1987     509 


D j 222 38 
Return 
Figure 5 Algorithm for reassessing clusters composition for dynamic XML documents  6. Experimental results  To test our proposed method we used XML documents \(20kB and 50kB\xtracted from the   with an average number of levels of 4 Firstly, we clustered the documents to get the initial clusters composition \(Step 1 in framework in Section 3\, using minimum pair-wise distances; at this stage we also stored the distances between documents in the clustering solution together with the set of operations corresponding to each minimum distance. Then, in order to assess the efficiency of Step 2, we applied different percentages of changes to the documents in the clustered solution, in order to obtain new versions The purpose of the tests was to compare, after each set of changes, the time required to reassess the distance between documents using the same method as for the initial clustering \(i.e. full pair-wise comparison of the XML documents\ to the time of reassessing each distance using the method proposed in this paper and formulas in Definitions 5a, 5b and 5c  Figure 6 Test results for 50kB doc \(part 1  We show in Figures 6, 7, 8 and 9 some of the obtained results. They demonstrate clearly that our proposed technique to reassess the distances in dynamic XML clusters is much faster than performing a full pair-wise comparison on all new versions of the clustered documents. This can be explained by our technique: \(i\rforming only a minimum number of calculations and \(b\ reassessing distances only for those pairs of XML documents where at least one of them has changed Figure 8 Test results for 20kB doc \(part 1    Figure 9 Test results for 20kB doc \(part 2   Also, from Figures 6, 7, 8 and 9 it can be noticed that the difference between the full pair-wise and our proposed technique is more evident for higher number of documents modified or for higher percentages of changes applied                  V arious number of medium-sized documents \(50kB affected by 10% changes 0 20 40 60 80 100 51020 number of documents time\(second s    pair-w ise f ull comparison   proposed reassessing technique                50 small-sized documents \(20kB\ affected by various percentages of changes 0 50 100 150 10 20 50 percentage of change time\(second s    pair-w ise f ull comparison   proposed reassessing technique                  20 medium-sized documents \(50kB\ affected by various percentages of changes 0 50 100 150 3 5 10 25 percentage of change time\(second s    pair-w ise f ull comparison   proposed reassessing technique              V ar ious number of small documents \(20kB\ affected by 15% changes 0 10 20 30 40 50 60 51020 number of documents time\(second s    pair-w ise f ull comparison   proposed reassessing technique  
End if 
002 
37 prune edge D i 222 C\222={C 1 222,C 2 222,\205C n\222 222  ______________________________  
 Figure 7 Test results for 50kB doc \(part 2   
39 D i 222,D j 222 40 
 
Next 
455 
455 


 7. Conclusions  In this paper we have proposed an intelligent and efficient technique to reassess the distances between dynamic XML documents when one or all of the initially clustered documents have changed. After the changes, the initial clustering solution might become obsolete - the distances between clustered XML documents might have changed more or less depending on the degree of modifications \(insert update, delete\hich have been applied. Re-running full pair-wise comparisons on the entire set of modified documents is not a viable option, because of the large number of redundant operations involved Our proposed technique allows the user to reassess the pair-wise XML document distances, not by fully comparing each new pair of versions in the clustering solution, but by determining the effect of the temporal changes on the previously known distances between them. This approach is both time and I/O effective, as the number of operations involved in distance reassessing is greatly reduced  References  1  Beringer, J. and H\374llermeier, E., Online clustering of parallel data streams Data and Knowledge Engineering 58\(2\,  2006, 180-204 2  Catania, B. and Maddalena A., A Clustering Approach for XML Linked Documents, Proceedings of the 13th International Workshop on Database and Expert Systems Applications \(DEXA\22202\, IEEE 2002 3  Chen, M.S., Han, J. and Yu, P., Data Mining: An Overview from Database Perspective, IEEE Transactions on Knowledge and Data Engineering vol. 8, 1996, 866-883 4  Cormen, T., Leiserson, C. and Rivest, R Introduction to algorithms, MIT Press, 1990 5  Costa, G., Manco, G., Ortale, R. and Tagarelli, A., A tree-based Approach to Clustering XML documents by Structure, PAKDD 2004, LNAI 3202, 137-148 Springer 2004 6  Dalamagas, T., Cheng, T., Winkel, K.J. and Sellis, T 2004, Clustering XML documents by Structure SETN 2004, LNAI 3025, 112-121, Springer 2004 7  Ester, M., Kriegel, H.P., Sander, J., Wimmer,M. and Xu, X., Incremental Clustering for Mining in a Data Warehousing Environment, Proc.of the 24 th VLDB Conference, New York, USA, 1998 8  Garofalakis, M., Rastogi, R., Seshadri, S. And Shim K., Data Mining and the Web: Past, Present and Future Proceedings of WIDM 99 Kansas, US, ACM 1999 9  Mignet, L., Barbosa, D. and Veltri, P., The XML web : a first study, In Proceedings of the 12 th  International Conference on WWW, 500-510 2003   Nayak, R., Xu, S., XCLS: A Fast and Effective Clustering Algorithm for Heterogeneous XML Documents, In Proceedings of the 10 th Pacific-Asia Conference on Advances in Knowledge Discovery and Data Mining, Singapore, LNCS 3918, 2006   Rusu, L.I., Rahayu, W. and Taniar, D., A methodology for Building XML Data Warehouses International Journal of Data warehousing Mining, 1\(2 67-92, 2005   Rusu, L.I., Rahayu, W. and Taniar D.,  Maintaining Versions of Dynamic XML Documents, In Proceedings of the 6th International Conference on Web Information Systems Engineering, New York NY, USA, November 20-22, 2005, LNCS 3806   Rusu, L.I., Rahayu, W. and Taniar, D., Warehousing Dynamic XML Documents, In Proceedings of the 8 th  International Conference on Data Warehousing and Knowledge Discovery \(DaWaK 2006 LNCS 4081 Springer, 175-184, 2006   Shen, Y. and Wang, B., Clustering Schemaless XML documents, CoopIS / DOA/ODBASE 2003, LNCS 2888, 767-784, Springer 2003   Yoon, J. P., Raghavan, V., Chakilam, V., and Kerschberg, L., BitCube: A Three-Dimensional Bitmap Indexing for XML Documents J. Intel. Inf Syst 17, 2-3 \(Dec. 2001\, 241-254   XML data repository, online at http www.cs.washington.edu / research / projects / xmltk xmldata  
456 
456 


5 Related Work There exists extensive previous work on both the mining of software repositories and on the use of clustering algorithms in software engineering This discussion focuses on the most similar and recent work in the area of software evolution Mining Software Repositories Our technique was partially inspired by the work of Zimmermann et al and Y ing et al 17 on the mining of association rules in change history As described in Section 1 we sought to expand the technique to be able to recommend larger but less precise clusters of elements to guide program navigation Bouktif et al also investigated how to recommend cochanges in software development As opposed to the work cited above Bouktif et al used change patterns instead of association rules Also their approach does not attempt to reconstruct transactions and can consider associated 002les that were changed in different transactions ChangeDistiller is a tool to classify changes in a transaction into 002ne-grained operations e.g addition of a method declaration and determines how strongly the change impacts other source code entities Our approach uses similar repository analysis techniques but is focused on providing task-related information as opposed to an overall assessment of a system's evolution Finally repository mining can also be used to detect aspects in the code In this conte xt aspects are recurring sets of changed elements that exhibit a regular structure Aspects differ from the clusters we detect in the regular structure they exhibit which may not necessarily align with the code that is investigated as part of change tasks Clustering Analysis The classical application of clustering for reverse engineering involves grouping software entities based on an analysis of various relations between pairs of entities of a given version of the system Despite its long and rich history  e xperimentation with this approach continues to this day For example Andreopoulos et al combined static and dynamic information K uhn et al used a te xtual similarity measure as the clustering relation and Christl et al used clustering to assist iterative semi-automated reverse engineering The main dif ferences b e tween most clusteringbased reverse engineering techniques and the subject of our investigation is that the entities we cluster are transactions rather than software entities in a single version of a system For this reason our analysis is based strictly on the evolving parts of the system Both Kothari et al and V an ya et al 15 recently reported on their use of clustering to study the evolution of software systems The idea of using change clusters is the same in both works and ours but the purpose of the work is different Kothari et al use change clusters to uncover the types of changes that happened e.g feature addition maintenance etc during the history of a software system Vanya et al use change clusters which they call evolutionary clusters to guide the partitioning of a system that would increase the likelihood that the parts of the system would evolve independently In contrast we cluster transactions based on overlapping elements not 002les to recommend clusters to support program navigation as opposed to architectural-level assessment of the system Finally Hassan and Holt evaluated on 002ve open source systems the performance of several methods to indicate elements that should be modi\002ed together This study found that using historical co-change information as opposed to using simple static analysis or code layout offered the best results in terms of recall and precision The authors then tried to improve the results using 002ltering heuristics and found that keeping only the most frequently cochanged entities yielded the best results As opposed to our approach the evaluated 002ltering heuristics were only applied on entities recovered using association rules and not using clustering techniques The focus of their study was also more speci\002c as they recommend program elements that were strictly changed  as opposed to recommending elements that might be inspected by developers 6 Conclusion Developers often need to discover code that has been navigated in the past We investigated to what extent we can bene\002t from change clusters to guide program navigation We de\002ned change clusters as groups of elements that were part of transactions or change sets that had elements in common Our analysis of close to 12 years of software change data for a total of seven different open-source systems revealed that less than 12 of the changes we studied could have bene\002ted from change clusters We conclude that further efforts should thus focus on maximizing the quality of the match between the current task and past transactions rather than 002nding many potential matches Our study has already helped us in this goal by providing reliable evidence of the effectiveness of some 002ltering heuristics and useful insights for the development of additional heuristics Acknowledgments The authors thank Emily Hill and Jos  e Correa for their advice on the statistical tests and the anonymous reviewers for their helpful suggestions This work was supported by NSERC 
25 
25 
25 
25 
25 


References  B Andreopoulos A An V  Tzerpos and X W ang Multiple layer clustering of large software systems In Proc 12th Working Conf on Reverse Engineering  pages 79ñ88 2005  S Bouktif Y G Gu  eh  eneuc and G Antoniol Extracting change-patterns from cvs repositories In Proc 13th Working Conf on Reverse Engineering  pages 221ñ230 2006  S Breu and T  Zimmermann Mining aspects from v ersion history In Proc 21st IEEE/ACM Int'l Conf on Automated Software Engineering  pages 221ñ230 2006  A Christl R K oschk e and M.-A Store y  Equipping the re\003exion method with automated clustering In Proc 12th Working Conf on Reverse Engineering  pages 89ñ98 2005  D 020 Cubrani  c G C Murphy J Singer and K S Booth Hipikat A project memory for software development IEEE Transactions on Software Engineering  31\(6 465 2005  B Fluri and H C Gall Classifyi ng change types for qualifying change couplings In Proc 14th IEEE Int'l Conf on Program Comprehension  pages 35ñ45 2006  A E Hassan and R C Holt Replaying de v elopment history to assess the effectiveness of change propagation tools Empirical Software Engineering  11\(3 2006  D H Hutchens and V  R Basili System s tructure analysis Clustering with data bindings IEEE Transactions on Software Engineering  11\(8 1985  D Janzen and K De V older Na vig ating and querying code without getting lost In Proc 2nd Int'l Conf on AspectOriented Software Development  pages 178ñ187 2003  J K ot hari T  Denton A Shok ouf andeh S Mancoridis and A E Hassan Studying the evolution of software systems using change clusters In Proc 14th IEEE Int'l Conf on Program Comprehension  pages 46ñ55 2006  A K uhn S Ducasse and T  G  021rba Enriching reverse engineering with semantic clustering In Proc 12th Working Conf on Reverse Engineering  pages 133ñ142 2005  M P  Robillard T opology analysis of softw are dependencies ACM Transactions on Software Engineering and Methodology  2008 To appear  M P  Robillard and P  Mangg ala Reusing program in v estigation knowledge for code understanding In Proc 16th IEEE Int'l Conf on Program Comprehension  pages 202 211 2008  J Sillito G Murph y  and K De V older Questions programmers ask during software evolution tasks In Proc 14th ACM SIGSOFT Int'l Symposium on the Foundations of Software Engineering  pages 23ñ34 2006  A V an ya L Ho\003and S Klusener  P  v an de Laar and H van Vliet Assessing software archives with evolutionary clusters In Proc 16th IEEE Int'l Conf on Program Comprehension  pages 192ñ201 2008  N W ilde and M C Scully  Softw are reconnaissance Mapping program features to code Software Maintenance Research and Practice  7:49ñ62 1995  A T  Y ing G C Murph y  R Ng and M C Chu-Carroll Predicting source code changes by mining change history IEEE Transactions on Software Engineering  30\(9 586 2004  A Zeller  The future of programming en vironments Integration synergy and assistance In Proceedings of the 29th International Conference on Software Engineering The Future of Software Engineering  pages 316ñ325 2007  T  Zimmermann and P  W eiﬂgerber  Preprocessing C VS data for 002ne-grained analysis In Proc 1st Int'l Workshop on Mining Software Repositories  pages 2ñ6 May 2004  T  Zimmermann P  W eiﬂgerber  S Diehl and A Zeller  Mining version histories to guide software changes In Proc 26th ACM/IEEE Int'l Conf on Software Engineering  pages 563ñ572 2004 A Clustering Algorithm This algorithm is not sensitive to whether a given program element exists or not in a given version of a program For example if method m exists in one version it is considered a valid program element even if it is removed in a later version In the rest of this section we use the term program element to refer to the uniquely identifying representation of the element e.g a Java fully-quali\002ed name Let T be a transaction modeled as a set of program elements changed together during the history of a software system Let T be a sequence of transactions In this algorithm a cluster is also modeled as a set of elements 1 Input  T  A sequence of transactions 2 Parameter  M IN O VERLAP  A positive non-zero value indicating the minimum overlap between two transactions in a cluster 3 Var  C  A set of clusters initially empty 4 for all T i 2 T do 5 MaxOverlap  0 6 MaxIndex  000 1 7 for all C j 2 C do 8 if j C j  T i j  MaxOverlap then 9 MaxOverlap  j C j  T i j 10 MaxIndex  j 11 end if 12 end for 13 if MaxIndex   0  MaxOverlap 025 M IN O VERLAP  then 14 C MaxIndex   C MaxIndex  T i  15 else 16 NewCluster  T i 17 C  C  f NewCluster g 18 end if 19 end for 20 return C B Systems Analyzed System home pages last veri\002ed 7 May 2008 Ant ant.apache.org Azureus azureus.sourceforge.net Hibernate www.hibernate.org JDT-Core www.eclipse.org/jdt/core JDT-UI www.eclipse.org/jdt/ui Spring springframework.org Xerces xerces.apache.org 
26 
26 
26 
26 
26 


