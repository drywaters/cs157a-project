Mining Signi\336cant Pairs of Patterns from Graph Structures with Class Labels Akihiro Inokuchi and Hisashi Kashima Tokyo Research Laboratory IBM Japan 1623-14 Shimotsuruma Yamato Kanagawa 242-8502 Japan 000 inokuchi,hkashima 001 jp.ibm.com Abstract In recent years the problem of mining association rules over frequent itemsets in transactional data has been frequently studied and yielded several ms that n 336nd association rules within a limited amount of time Also re lex patterns have een ered such as ordered trees unordered trees r labeled raphs Although some approaches can ef\336ciently derive all frequent subgraphs from a massive dataset of graphs a subgraph or subtree that is ematically de\336ned is not necessarily a 
better knowledge representation In this paper we propose an ef\336cient approach to ver signi\336cant rules to ssify positive and negative graph es by estimating a tight upper bound on e tistical metric This approach abandons unimportant rules earlier in the mputations and thereby accelerates the overall performance The perrmance has been evaluated g l world datasets and e cy and effect of our approach has been con\336rmed with respect to the amount of data and the computation time 1 Introduction In recent years the problem of mining association rules over frequent itemsets in transactional data has been thoroughly studied and led to several algorithms that can 336nd association rules within a limited amount of time Also more 
complex patterns have been considered such as ordered trees unordered trees or labeled graphs Modeling objects using such complex structures allows us to represent arbitrary relations among entities R ecently some approaches which can ef\336ciently mine frequent substructures from a set of structured data such as graphs or trees have been proposed 6 10 19 20 1 T h e y m i ne fre que nt pa t t e rns s t e pwise in ascending order of their sizes beginning with frequent patterns of size 1 based on the anti-monotonic property of their support values AGM 6 T re e M i n e r 20   and FREQT m i n e i n a s t e p w i s e m a nne r b y e xpa ndi ng a vertex whereas FSG 10 a n d g S p a n 19 a r e e xpa ndi ng a n edge From another perspective AGM FSG and FREQT use breadth-\336rst search whereas gSpan and TreeMiner are 
depth-\336rst search algorithms Although they are characterized by their strategies to traverse the search space and by r egies to expand patterns the discovered patterns that are contained in each graph or tree are frequent subgraphs which are mathematically de\336ned in the graph theory domain However a subgraph or subtree which is mathematically de\336ned is not a necessarily better knowledge representation Assume that the above gorithms are applied o cal mpounds ere each atom chemical bond atom type and bond type in a compound correspond to vertex edge vertex label and edge label in a graph respectively and that chemical compounds which contained Figure 1\(a-1 exhibit some speci\336ed activity 
1  In general a carbon atom with 2 single bonds has 2 other single bonds or a double bond When the algorithms are applied to discover patterns or rules to classify active and inactive compounds the pattern 002 003 shown in Figure 1\(b-1 may not be found b ecause a pattern is de\336ned as a subgraph and the pattern 002 003 is so contained in compounds which have Figure 1\(a-2 which may not contribute to activity Therefore a representation to mine the rules in Figure 1\(a-1 is needed  004 
005 005 a-1 004 005 005 005 a-2 
004 005 005 b-1 004 005 005 
005 b-2 Figure 1 Examples of s in Chemical mpounds Some approaches have been applied to derive negative association rules and association rules which include negative ements in the conventional Basket s A negative association rule is represented as 006 007 b t where 006 and 1 We assume that a fragment shown in Figure 1\(a-2 is contained in both active and inactive compounds Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


000 are itemsets The negative rule indicates that the presence of itemset 001 implies the sence f another itemset 000 in the same transaction An ation e with negative factors is represented as 000 001 002 003 004 002 005 003 001 002 003 004 006 007 004 000 001 002 003 004 b 007 18 suggests that ecision making in many applications such as product pl acement and investment analysis often involves a number of factors some of which play advantageous roles and others play disadvantageous roles and that negative relationships play the same important role as positive relationship from experiences in science and engineering We can represent a rule shown in Figure 1\(a-1 as that chemical compounds which contain the pattern 005 002 shown in Figure 1\(b-1 and which do not contain the pattern 005 006 shown in Figure 1\(b-2 are associated with activity We seek to discover rules with negative factors from the labeled graphs A straightforward approach to derive the rules is to 336rst enumerate all of the patterns which are contained as subgraphs in the abase and then to combine two patterns 005 002 and 005 006 whose subgraph is 005 002 in postprocessing It is inef\336cient because the set of potential patterns is too large and its combinations are intractable To design a more ef\336cient algorithm we use the method of estimating a tight upper bound for the statistical metric AprioriSMP which uses the upper bound can ef\336ciently discover correlation rules maximizing a certain atistical measure from ransactional database when an item corresponding to the right hand side of a rule is speci\336ed 12 It c a n e a s i l y be i n t e ed into graph mining algorithms to ne for he rules such as 005 004 t n 002 001 013 003 where 005 is a graph with no negative factors Furthermore it can be easily expanded to discover rules with negative factors from a transactional database For example the rule 000 001 002 003 004 002 005 003 001 002 003 004 006 007 004 000 001 002 003 004 b 007 can be derived by adding all 003 001 002 003 004 f s to a n without any 001 002 003 004 f s and applying AprioriSMP Given a set of transactions and a complete set of items he transformation of transactions is easily culated However in the case hat input dataset is a set of graphs or trees the transformation is intractable because it is dif\336cult to de\336ne a graph which contains all of the graphs in a database In this paper we propose an ef\336cient approach to discover signi\336cant rules to classify positive and negative examples The rest of this paper is organized as follows We de\336ne the problem statement to derive patterns and rules in Section 2 We introduce our algorithm in Section 3 In Section 4 we explain the algorithm in detail and in section 5 present al results Section 6 reviews related work and Section 7 concludes 2 Problem Statement Agraph r consists of 4 s the set of vertices 016 theset of edges 017  the set of vertex labels 020 021  and e set of edge labels 020 022 When 016  017  020 021 and 020 022 are provided as 023 024 025 026 027 030 026 031 030 032 032 032 030 026 033 034 030 035 024 025 036 037 024  026  030 026    026  030 026   023 034 030   024 025    026     026   023 034 030     024 025    036 037    036 037  035 034 030 respectively the graph r is mathematically de\336ned as r  0 016 005 017 005 020 021 005 020 022 1 005 where multiple vertices can have an identical label and multiple edges also can have For the ence of description the tuples of r are represented as 016 0 r 1  017 0 r 1  020 021 0 r 1 and 020 022 0 r 1 respectively Each vertex 013 2 016 and edge 003 2 017 have labels 3 4 0 013 1 2 020 5 and 3 4 0 003 1 2 020 022  respectively 2 Givenagraph r  the subgraph r 6 of r ful\336lls the following conditions 7 8 023  9    023  9  030   023  9        024    7     030  030   023  9       030   024    7    030 7     032 r  r 6 means that r 6 is a subgraph of r or r cludes r 6  A database is given as a set of examples r   000 0 r 002 005  002 1 005 0 r 006 005  006 1 005 A A A 005 0 r B 005  B 1 007 where each example 0 r f 005  f 1 is given as a pair of the graph r f and the class  f 2 000 C D 005 E D 007 that the graph belongs to Given a set r  of graph structured data the support F 0 G 1 for a graph G is de\336ned as the number of graphs including G in r   F 0 G 1  H 000 G H r 2 r  005 G I r 007 H We call a graph whose support is more than or equal to 1 a pattern  We denote that the supports for graph G on a positive dataset and a negative dataset are F J 0 G 1 and F K 0 G 1  respectively The sum of F J 0 G 1 and F K 0 G 1 is equal to F 0 G 1  The n of a pattern 005 is to add some vertices or some edges in order to generate a larger pattern 005 L Figure 2 005 is a subgraph of 005 L  For example AGM FSG gSpan and TreeMiner generate patterns of size M by joining two frequent patterns of size M E D if and y f certain conditions are ful\336lled 3  FREQT expands patterns by adding a vertex and an edge to a vertex in the right most path of the tree pattern 4  2 The method presented in this paper can be integrate into AGM FSG and gSpan which can be applied to both undirected and directed graphs 3 In the cases of AGM and TreeMiner the size is de\336ned as the number of vertices in a graph In other cases it is the number of edges in a graph 4 In the case of  a itemset N 033 and O 033 of size P are expanded to Q 033 R 027 of size P S T by joining N 033 U V W X Y Z 027  W X Y Z 031      W X Y Z 033  027  W X Y Z 033  and O 033 U V W X Y Z 027  W X Y Z 031      W X Y Z 033  027  W X Y Z 033 R 027  to generate Q 033 R 027 U V W X Y Z 027  W X Y Z 031      W X Y Z 033 R 027   Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


 000 001 000 002 000 001 000 002 a\rtex expansion b\ge expansion 000 001 000 002 000 000 002 size=3 size=4 size=4 size=5 Figure 2 Vertex and Edge n A rule discovered by our approach is denoted as 000 001 003 004 005 000 001 000 002 003 004 004 006 007 003 005 006 001 000 002 003 007 b 004 006 1 000 002 b 000 t 001 003 004 005 000 001 000 002 003 004 004 006 007 003 005 006 001 000 002 003 007 2 where 000  000 002 and 000 t are patterns nd 000 002 t 000 t  The rule 2 means that data which contains pattern 000 002 d does not contain pattern 000 t correlates with positive or ive Our approach discovers both types of rule 1 and rule 2 simultaneously When a dataset which consists of a set of graphs is given as input the problem is to discover a rule which maximizes a certain atistical metric or to list he n most signi\336cant rules with respect to the metric 3 Statistical Measurement Property Morishita et al studied a method called AprioriSMP for ef\336ciently computing signi\336cant association rules according to common statistical measures such as chi-square values or correlation coef\336cient 12 14 T h e y i n t r oduc e d a method of g a tight upper bound on e statistical metric associated with any superset of an itemset as well as a novel use of the resulting information about upper bounds to prune unproductive supersets while traversing the itemset lattices We also se is method to estimate the upper bounds of the statistical indices and expand it for our problem For he sake of mplicity in this paper we use he chi-square value method Let n 013 be a dataset and 003 and 007 be e number f positive d ative examples in the dataset n 013  respectively Let 013 be e left-hand side of e rule i.e 000 002 b 000 t where 000 002 t 000 t and f be a positive class Let r f 016 where 004 000 b 017 007 r 016 013 b 013 017 020 016 f b f 017 denotes the number of graphs that ful\336ll h 000 and 017 Let r f where 000 r 016 013 b 013 b f b f 017 denote the number of graphs that ful\336ll 000  r 021 022 represents the number of graphs that ful\336ll 013  but which are not positive examples r 021 represents the number of graphs that ful\336ll 013  which is equal to the sum f the es in e row r 021 022 020 r 021 022  We now er how to estimate the upper bound of e chi-square value for 000 002 b 000 t 001 000 004 005 000 001 000 002 003 Let 021 022 004 000 002 007 and 021 022 004 000 t 007 be e number f positive amples ich contain 000 002 and 000 t  respectively and 021 023 004 000 002 007 and 021 023 004 000 t 007 be e number f ative examples which contain 000 002 and 000 t  respectively r 021 022 024 021 022 004 000 002 007 025 021 022 004 000 t 007 and r 021 022 024 021 023 004 000 002 007 025 021 023 004 000 t 007  because graphs which contain 000 t also contain 000 002 according to 000 002 t 000 t  le 1 is a contingency table summarizing the above de\336nitions For each pair 004 000 b 017 007 r 016 013 b 013 017 020 016 f b f 017  we late an n under e n f independence 026 f 016 024 023 024 023 025 022 026 023  We enote the chi-square value as 027 t 004 000 002 b 000 t 007 or 027 030 000 004 r 021 022 b r 021 022 007 The chi-square value 027 t 004 000 002 b 000 t 007 is the normalized ation of observation from expectation namely 031 030 031 032 032 033 032 030 033 034 034 035 035 031 036 037  036 036 037  033 034  037   037  037          031 036 037    037  033 030  037   3 In this de\336nition each r f 016 must be non-negative hence   021 022 004 000 t 007  021 022 004 000 002 007  003 and   021 023 004 000 t 007  021 023 004 000 002 007  007  It s en helpful to explicitly e that r 021 022 and r 021 022 are determined by 000 002 and 000 t  and we e them as r 021 022 004 000 002 b 000 t 007 and r 021 022 004 000 002 b 000 t 007  It is known that any convex function is maximized at one of the vertices on the boundary of a convex polygon a n d it has been proven that 027 030 000 004 r 021 022 b r 021 022 007 is a convex function 12 T h e uppe r bound of t h e c hi s qua re v a l u e i s d e rived as follows Let 000  002 be a pattern which is made by expanding 000 002 and 000  be a pattern which includes 000  002  i.e  000   000  002  It can be derived that 031 030 031 032  032 033 032  033     034 035 035 031  0 031 032 032 033 036 1 033 036 034 035 035 031 1 036  2 031 032 032 033 033  036 4 because 1  036 037  031 032  032 033 032  033   0 031 032 032 033    1  036 037  031 032  032 033 032  033   2 031 032 032 033  In other words de\336ning 3 032 031 032 032 033 032 030 033 034    034 035 035 031  0 031 032 032 033 036 1 033 036 034 035 035 031 1 036  2 031 032 032 033 033  036 inequality 4 implies that when a pattern 000 002 is expanded into 000  002 to generate larger patterns 027 t 004 000  002 b 000  007 is bounded y 4 002 004 000 002 b 000 t 007  Figure 3 shows that 004 021 022 004 000  002 007 025 021 022 004 000  007 b 021 023 004 000  002 007 025 021 023 004 000  007 007 is mapped onto the gray rectangle whose vertices are 004  b  007  004 021 022 004 000 002 007 b  007  004  b 021 023 004 000 002 007 007 and 004 021 022 004 000 002 007 b 021 023 004 000 002 007 007    5 6 7 8 9           A B B C D E  F G F G H I J J K K L L M N O P Q R S T U T U V W X X Y Y Z Z  Figure 3 Mapped Space of 004 r 021 022 004 000  002 b 000  007 b r 021 022 004 000  002 b 000  007 007 Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


Table 1 Contingency Table r 000 001 000 000 000 000 001 001 001 002 002 003 002 003 004 000 001 004 004 005 005 003 002 003 004 006 row 007 002 003 004 001 005 006 006 001 007 b 007 005 006 006 001 t b 002 003 004 001 005 b 006 001 007 b 007 005 b 006 001 t b 002 003 001 005 006 001 007 b 007 005 006 001 t b 007 002 003 004 002 003 004 002 003 006 t 001 n n 013 013 002 004 001 005 b 006 013 n n n b 001 t 002 004 001 005 b 006 013 n n n b 001 013 t n 013 Moreover let 000 f 000 be a pattern which full\336ls 000 f 000 f 000 000 f 000 001  It can be derived that r t 006 001 007 016 001 017 t b 020 013 005 021 r t 022 002 006 005 006 006 001 007 b 007 005 006 006 001 t b 016 005 b 006 001 007 b b 016 t 022 002 006 005 006 006 001 007 b 016 005 b 006 001 007 b 007 005 b 006 001 t b b 017 016 5 because 005 006 006 001 007 b 007 005 006 006 001 t b 020 002 003 004 006 001 007 016 001 017 t b 020 005 006 006 001 007 b 016 005 013 020 005 b 006 001 007 b 007 005 b 006 001 t b 020 002 003 004 006 001 007 016 001 017 t b 020 005 b 006 001 007 b 021 In other words de\336ning n t 006 001 007 016 001 t b 001 013 005 021 r t 022 002 006 005 006 006 001 007 b 007 005 006 006 001 t b 016 005 b 006 001 007 b b 016 t 022 002 006 005 006 006 001 007 b 016 005 b 006 001 007 b 007 005 b 006 001 t b b 017 016 inequality 5 states hat when a pattern 000 000 is expanded into 000 f 000 to generate larger patterns 023 000 022 000 001 000 000 f 000 023 is bounded y 024 001 022 000 001 000 000 000 023  Figure 4 shows that 022 024 025 022 000 001 023 026 024 025 022 000 f 000 023 027 024 030 022 000 001 023 026 024 030 022 000 f 000 023 023 is mapped onto the gray rectangle whose vertices are 022 024 025 022 000 001 023 026 024 025 022 000 000 023 027 024 030 022 000 001 023 026 024 030 022 000 000 023 023  022 024 025 022 000 001 023 027 024 030 022 000 001 023 026 024 030 022 000 000 023 023  022 024 025 022 000 001 023 026 024 025 022 000 000 023 027 024 030 022 000 001 023 023 and 022 024 025 022 000 001 023 027 024 030 022 000 001 023 023     013 f r 016 f 013 r 017 020 021 021 022 023 024 025 026 027 030 031 032 033 034 035 034 035 036 037                       0 0 1 Figure 4 Mapped Space of 022 025 026 027 022 000 001 000 000 f 000 023 027 025 026 027 022 000 001 000 000 f 000 023 023 When the type of the discovered rule is 000 002 030 031 032 031 032 031 033 034  let 000 f be a pattern which contains 000 Since 033 034 025 026 027 034 024 025 022 000 023 027 033 034 025 026 027 034 024 030 022 000 023 027 023 000 022 000 f 023 034 2 3 4 035 036 035 031 022 024 025 022 000 023 027 033 023 027 036 035 031 022 033 027 024 030 022 000 023 023 037 5 6 Inequality 6 is described as 023 000 022 000 f 023 034 024 001 022 000 023  Although AprioriSMP uses only inequality 6 we use inequalities 4 and 5 in addition to inequality 6 4 Algorithm We propose an algorithm to mine the signi\336cant rules in ascending order of their sizes It gradually narrows down the space where 022 025 026 027 027 025 026 027 023 is mapped y expanding e patterns For he  for the sake of simplicity we consider the case that the dataset consists of itemsets However t can easily be ed into the sting frequent graph mining and tree mining algorithms When we discuss frequent itemset ng the attice ation s often used to represent the search space as in Figure 5 a The lattice of s s scanned ng with smaller s and ng to larger ones Figure 5 b shows our lattice for mining the signi\336cant rules when the dataset has three types of items A B and C Instead of an itemset for each node in the conventional representation a pair of patterns is described for each node We always retain the current maximum or 036 th largest chi-square value among all the chisquare values calculated so far and set it to the cutoff value This discards unimportant rules earlier in the computations and thereby accelerates the overall performance We begin a e with 000 001  037 024   and 000 000  037 024    It is expanded y recursively adding one item in each step If 000 001  000 000  both 000 001 and 000 000 are expanded y adding e same item or only 000 000 is expanded with an item according to inequa lities 4 and 6 Otherwise 000 000 is expanded y adding an item which 000 001 does not have according to inequa lity 5 It is not e at only 000 001 is expanded because it is not possible to narrows down the space where 022 025 026 027 027 025 026 027 023 is mapped Each node has 2 counters one of them is for support on a positive dataset and the other is for a negative dataset There are seven nodes that ave 000 000  003 004  in Figure 5 Since it is redundant to scan the dataset seven times to count the support values of the itemset 003 004   our algorithm is implemented to scan it once to count em This is done by g the algorithm as though the nodes have pointers to one another When the support value of one of them is counted the value is propagated the others In any node if 024 001 022 000 001 000 000 000 023  024 000 022 000 001 000 000 000 023 and 024 001 022 000 001 023 are all less an a cutoff value the node is pruned from the lattice according to inequa lities 4 5 and 6 For instance when traversing from a node with 000 001  037 024   and 000 000  037 024   to another node with 000 001  003  and 000 000  003 004   the space where 022 025 026 027 027 025 026 027 023 is mapped Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


is gradually narrowed down as shown in Figure 6 Figure 7 presents our algorithm for mining the most signi\336cant rule  000 001 002 003 003 000 004 005 006 007 007 005 006 007 007 b t n t n 013 f r 016 f r 017 020 020 021 000 004 022 023 024 023\022 024 022 023 024 023\022 024 022 023 024 023\022 024 022 023 024 023\022 024 Figure 6 n f Mapped Space of 000 000 001 002 001 000 001 002 002 5 Experiments The proposed algorithm was integrated into AcGM Apriori-based connected Graph Mining algorithm which is an optimized version of AGM to mine only frequent connected subgraphs 5  The method proposed in this paper was implemented using C and an IBM IntelliStation with ndows XP was used for the evaluation s with a Xeon-2.4 GHz CPU and 2 GB f main memory installed For testing we used two read world datasets in chemistry In our experiment each atom chemical bond atom type and bond type in a compound correspond to vertex edge vertex label and edge label in a graph respectively The number of vertices in a graph is called he ze of the graph 5.1 Carcinogenic Data First the molecular structure data of carcinogenic compounds was analyzed This data was provided by Predictive Toxicology Evaluation  a nd c ont a i ns i n form a t i o n o n 337 chemical compounds Each data entry is categorized to er active r inactive A total of 182 mpounds are categorized into active and 155 compounds are categorized as active e number of types of the atoms which constitute chemical compounds is 24 The atomic bonds which correspond to edges in a graph have 4 types The average size of the graph data is around 27 and the maximum size is 214 5 Our method can also be integrated into other algorithms such as gSpan FSG TreeMiner and FREQT Figure 8 shows the result of the distribution of square values for the discovered rules when the 100 most signi\336cant rules were mined by using AcGM with the proposed method d AcGM without it Although AcGM out the proposed method can mine the only type of rules 000 001 003 004 005 003 004 003 005 006  AcGM with e method can mine both types of rules 000 001 003 004 005 003 004 003 005 006 and 000 002 006 000 007 001 003 004 005 003 004 003 005 006 The 336gure shows that our proposed method can discover more signi\336cant rules than the existing frequent graph mining algorithms 025 026 027 025 027 026 030 025 030 026 030 027 031 026 027 032 031 026 027 026 031 026 027 030 031 026 033 034 035 036 037                    0   1  2 3  4 3 4 037  5 6  7 034 4 5 033 4 8   8 7 035 4 8   6  7 034 4 5 Figure 8 n f Chi-square es of Discovered Rules 5.2 HIV Data Next we used Developmental Therapeutics Program\325s AIDS Antiviral Screening Database This project has checked tens of thousands of compounds for evidence of anti-HIV activity 4 9  Th e d at as et co n t ai n s 4 2  6 8 7 ch emical compound structures and their screening data Each data entry is categorized into either active CA moderately active CM or inactive CI We used the entries which are categorized to CA and CI A total of 422 compounds are categorized into CA and 40,891 compounds are categorized as CI The chemical compounds were formed from 69 atom types in the database but hydrogen atoms are omitted and atoms with aromatic bonds are distinguished from atoms with no aromatic bonds in our experiment The atomic bonds have 4 types The average number of vertices in graph data is around 25.6 and the maximum number of vertices is 222 The AcGM algorithm ch ed with the proposed method applied to the dataset Figures 9 and 10 show the discovered rules It took about 6 hours 000 002 in Figure 9 is contained in 4 compounds whose classes are CA d 6 Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


 000 001 002 003 000 004 002 003 000 001 002 003 005 000 004 002 003 005 000 001 002 006 000 004 002 006 000 001 002 005 000 004 002 005 000 001 002 003 006 000 004 002 003 006 000 001 002 006 005 000 004 002 006 005 000 001 002 003 006 005 000 004 002 003 006 005 000 001 002 003 000 004 002 003 005 000 001 002 003 000 004 002 003 006 005 000 001 002 006 000 004 002 003 006 000 001 002 003 000 004 002 003 006 000 001 002 006 000 004 002 006 005 000 001 002 006 000 004 002 003 006 005 000 001 002 005 000 004 002 003 005 000 001 002 005 000 004 002 006 005 000 001 002 005 000 004 002 003 006 005 000 001 002 003 006 000 004 002 003 006 005 000 001 002 006 005 000 004 002 003 006 005 000 001 002 003 005 000 004 002 003 006 005 000 001 002 007 b t t 000 004 002 007 b t t 000 002 003 000 002 003 005 000 002 006 000 002 005 000 002 003 006 000 002 006 005 000 002 003 006 005 000 002 007 b t t n 013 f r 013 016 016 017 020 021 022 023 024 020 023 025 026 021 025 016 017 023 025 013 027 030 021 016 031 023 032 n 033 f r 013 016 016 017 020 021 022 023 024 023 034 024 025 021 035 013 036 036 024 023 013 020 031 Figure 5 Lattice Representations of Search Space for Signi\336cant Rule Mining  000 037 is a database consisting of graph structured data   001   001 is a set of pairs of patterns where the size of 000 002 is     is a cut-off value 0 Main  000 037  003 1  004  003 all pairs of patterns 000 004 and 000 002 whose sizes are 1 005  2   001  3     4 while   001  006   003 5 Scan 000 037 to compute 002 002 007 000 004 003 000 002 b  002 002 007 000 004 b  004 004 007 000 004 b  004 004 007 000 004 003 000 002 b  and 004 002 007 000 004 003 000 002 b for each pair 007 000 004 t 000 002 b n  001  6      007  t 005 013 006 003 002 002 007 000 004 003 000 002 b f 007 000 004 t 000 002 b n  001 005 t 005 013 006 003 002 002 007 000 004 b f 007 000 004 t 000 002 b n  001 005 b  7  001  003 007 000 004 t 000 002 b n  001 f 004 004 007 000 004 b   t 004 004 007 000 004 003 000 002 b   t 000  004 002 007 000 004 003 000 002 b   005  8  001 r 004 006 016 006 001 013 017 020 007  001 b   process to expand patterns 9    002   10 005 11 return  with its corresponding pair of patterns 12 005 Figure 7 e f Algorithm mpounds whose classes are CI d 000 021 in Figure 9 is contained in 6 compounds whose classes are CI The value of 007 021 022 000 001 b 000 021 023 is about 5,355.8 6  ce although a compound ich contains 000 001 in the 336gure and does not contain 000 021 in the 336gure correlates with ive the difference ween 000 001 and 000 021 may reduce the physiological activity Similarly Figure 10 also shows another discovered rule The value of 007 021 022 000 001 b 000 021 023 is about 5,142.5 If a benzene ring is attached to the position of he 336gure as n he previous e the physiological activity as an anti-HIV medicine may be reduced Figure 11 shows the result of computation time for various minimum support threshold when all frequent subgraph are derived by using the conventional AcGM algorithm We can discover the rules shown in Figures 9 and 10 by 336rst enumerating all of the frequent patterns with the AcGM and then combining two patterns in postprocessing 6 The value of 002  024 004  for 024 004 in Figure 9 is about 4945.2 However the support values of the patterns 000 021 in the 336gures are very low so the existing frequent graph mining algorithms can not mine the patterns because of the computation complexity shown in Figure 11 Our system could ef\336ciently scover eristic rules with atistical gni\336cance and they are candidates for developing new antiHIV medicines P 0 1 2 3 4 5 6 7 8 9     2 3 4 5 6 7 0 8 P  1 2 3 4 5 6 7      2 3 4 5 6 7 8   A A   B C  A A A D D E E D D D E E Figure 9 Discoverd Pair of Patterns 1 Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


000 000 001 001 000 000 000 001 001  000 000 001 001 000 000 000 001 001 P 002 003 004 005 006 007 b t n 013 f r 016 017 004 005 006 007 b t 002 n P 020 003 004 005 006 007 b t 021 f r 016 017 004 005 006 007 b t 022 Figure 10 Discoverd Pair of Patterns 2 023 023 024 023 024 024 023 024 024 024 023 024 024 024 024 023 024 024 024 024 024 023 023 024 023 024 024 023 024 024 024 023 024 024 024 024 025 026 027 026 025 030 025 031 030 032 032 033 034 035 035 036 034 037 031 036 033                        036 033 030 034 031  Figure 11 n ime f conventional AcGM Algorithm 6 Discussion and Related Work Some approaches which can ef\336ciently mine frequent substructures from a set of structured data such as graphs or trees have been proposed 6 10 19 20 1  T he di s c o v e re d patterns that are contained in each graph or tree are frequent subgraphs which are mathematically de\336ned in the graph theory domain However our approach can ef\336ciently discover more signi\336cant and complex rules than those which the sting algorithms scover Some approaches have been applied to derive negative association rules and association rules which include negative elements in the tional Basket sis However the existing graph mining approaches can not be applied to graphs for practical purposes because of representation of the negative factors and combinatorial explosion of patterns Liu et al proposed a method to discover interesting rules from transactional database based on statistical 336cance 11  T h e y i n t r o d u c e d D i r e c tio n S e ttin g rules The directions of the discovered es 000 000 001 001 000 002 001 are categorized into either 3221\323 322-1\323 or 3220\323 The direction 3221\323 means that itemsets 000 and 002 are correlative and 002 003 000 004 002 005 0 003 002 003 000 005 002 003 000 005 005 1 006  The direction 322-1\323 means that itemsets 000 and 002 are correlative and 002 003 000 004 002 005 0 003 002 003 000 005 002 003 000 005 005 2 007 006  The direction 3220\323 means that s 000 and 002 are independent Assuming at itemsets 000 is divided into 000 003 and 000 b  the method discovers the interesting es 000 000 001 001 000 002 001  where directions of the rules 000 000 003 001 001 000 002 001  000 000 b 001 001 000 002 001 and 000 000 001 001 000 002 001 are either 0,0,1 1,-1,1 1,0,1 or 1,1,1 Although our approach is milar o their method if we focused on a pair of rules 000 000 003 001 001 000 002 001 and 000 000 001 001 000 002 001 whose irections are different their method 336rst enumerates all frequent patterns from a database and then to discovers direction setting rules On the other hand our approach abandons unimportant rules earlier in the computations and thereby accelerates the overall performance Suzuki introduced a method to scover exception es which are represented as a pair of rules 000 000 001 001 000 3 001 and 000 000 002 001 001 000 3 001 where 000 and 002 are itemsets and 3 is an item 15 16 O ur a pproa c h is similar to their method However we can not apply the method to graph structures because the method is based on onal normal distributions of ors In this paper we focused a combination 004 003 000 004 b of two patterns assuming 004 003 001 004 b  However there are various combinations of two patterns other than 004 003 000 004 b Table2 summarizes chi-square values for the combinations of patterns The number of graphs which contain patterns both 004 003 and 004 b is equal to the number of graphs which contain 004 b  because graph which contain 004 b also contains 004 003 according to 004 003 001 004 b  Hence the 336rst row of the table mentions at to discover a type of e rule 004 003 000 004 b 001 002 003 004 t n t 013 f 003 003 005 006 f r 016 n t 013 f 005 corresponds to discover a type of the e 004 b 001 002 003 004 t n t 013 f 003 003 005 006 f r 016 n t 013 f 005  The fourth and 336fth rows means hat no graph which 336lls the conditions 004 003 000 004 b  and graphs which ful\336ll the conditions 004 003 4 004 b are equal to graphs which ful\336ll 004 003 000 004 b  In the sixth to h rows 007 b 003 004 005 is equal to 007 b 003 004 005 according to Equation 3 Therefore to mine a rule 004 001 002 003 004 t n t 013 f from a value 007 b 003 004 005 corresponds to mine a rule 004 001 006 f r 016 n t 013 f from 007 b 003 004 005  Although we focused the only combination 004 003 000 004 b of two patterns it is denoted that all combinations of two patterns and complex combinations of more patterns than two can be derived by using our proposed method 7Conclusion In this paper we proposed an ef\336cient approach to discover signi\336cant rules to classify positive and negative graphs by estimating a tight upper bound on the statistical metric It abandons unimportant rules earlier in computation and thereby accelerates the overall performance The performance has been evaluated using real world datasets and the ef\336ciency and effect of our approach has been con\336rmed with respect to the amount of data and the computation time In our future work we plan o use the discovered pairs of patterns as features of machine learning algorithms to develop a classi\336er and to compare to other relational supervised learners such as SubdueCL[3 o r I L P s y s t e m s  Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


Table 2 All ations of Two s 000 001 and 000 000 where 000 001 000 000 000 Conbination of Patterns 1 001 001 002 002 003 003 002 001 004 005 001 001 002 002 001 004 2 001 001 002 002 003 000 002 001 004 005 001 001 002 002 003 004 3 001 001 002 002 003 003 002 001 004 4 001 001 002 002 003 003 002 001 004 005 004 5 001 001 002 002 003 001 002 001 004 005 001 001 002 002 003 003 002 001 004 6 001 001 002 002 003 000 002 001 004 005 001 001 002 002 003 003 002 001 004 005 001 001 002 002 001 004 005 001 001 002 002 001 004 7 001 001 002 002 003 003 002 001 004 005 001 001 002 002 003 000 002 001 004 005 001 001 002 002 003 004 005 001 001 002 002 003 004 8 001 001 002 002 003 000 002 001 004 005 001 001 002 002 003 003 002 001 004 005 001 001 002 002 003 003 002 001 004 9 001 001 002 002 003 000 002 001 004 005 001 001 002 002 003 003 002 001 004 005 001 001 002 002 003 003 002 001 004 005 004 10 001 001 002 002 003 001 002 001 004 005 001 001 002 002 003 001 002 001 004 005 001 001 002 002 003 003 002 001 004 References 1 A s a i  T  A b e K   K a w a s o e  S  A r i m u r a  H   Sakamoto H  Arikawa S Ef\336cient Substructure Discovery from Large Semi-structured Data Proc of the 2nd SIAM International Conference on Data Mining SDM-2002 pp.158-174 2002 2 D e R aed t  L  K r amer  S  T h e Le v e l w i s e V er s i o n Space Algorithm and its Application o ecular ment Finding Proc f the 17th International Joint erence on al Intelligence IJCAI2001 pp 853\320859 2001  G onz a l e z  J   H ol de r  L    Cook D  G r a ph-Ba s e d Relational Concept Learning Proc of the 19th International Conference on Machine Learning ICML2002 pp 219-226 2002  A IDS A nt i v i r a l S c re e n  ds/aids data.html  H ors t  R  a nd T u y  H  Global n Deterministic Approaches Springer 1996  I nokuc hi  A   W a s h i o  T    M ot oda  H  A n A pri o ri based Algorithm for Mining Frequent Substructures from Graph Data Proc of the 4th European Conference on Principles and Practice of Knowledge Discovery in Databases PKDD-2000 pp 13\32023 2000  I nokuc hi  A   W a s h i o  T   N i s h i m ura  Y    Mot oda  H  A Fast Algorithm for Mining Frequent Connected Subgraphs IBM Research Report  RT0448 February 2002  I nokuc hi  A   W a s h i o  T   Mot oda  H  C om pl e t e Mining of Frequent Patterns from Graphs Mining Graph Data Machine Learning  50 3 321-354 March 2003 9 K r a mer  S   D e R aed t  L  H e l m a C  M o l ecu l a r F eature Mining in HIV Data Proc f the 17th International Conference on Knowledge Discovery and Data Mining KDD-2001 pp 136\320143 2001  K u ra m o c h i  M   K a rypi s  G  F r e que nt S ubgra p h Discovery Proc of the 1st International Conference on Data Mining ICDM-2001 pp.313\320320 2001  L i u B  H s u  W   Ma  Y  P runi ng a n d S um m a ri z i ng the Discovered ations Proc of the 5th International Conference on Knowledge Discovery and Data Mining KDD-99 pp.125\320134 1999 12 M o tis h ita  S  a n d S e s e  J  T r a v e r s in g L a ttic e I te m set with Statistical Metric ng Proc of Symm on les f Database ystems PODS2000 pp.226\320236 2000 13 P T E  h ttp o ld w w w  c o m la b  o x  a c  u k  o u c l groups/machlearn/PTE  S e s e  J  a nd Mori s h i t a  S  A ns w e ri ng t h e M os t C or related N ation es Ef\336ciently Proc of 6th European Conference on Principles and Practice of Knowledge Discovery in Databases PKDD-02 pp.410\320422 2002  S u z uki  E  D i s c o v e ri ng U n e xpe c t e d E x c e p t i ons  A Stochastic Approach Proc f the 4th International Workshop on Rough Sets Fuzzy Sets and Machine Discovery RSFD-96 pp 225\320232 1996  S u z uki  E   K odra t of f Y  D i s c o v e ry of S u rpri s i ng Exception Rules based on Intensity of Implication Proc of Principles of Data Mining and Knowledge Discovery PKDD-98 pp 10\32018 1998  S u z uki  E  Z yt ko w  J  M U n i 336 e d A l gori t h m f or Undirected Discovery of Exception Rules Proc of Principles of Data Mining and Knowledge Discovery PKDD-2000 pp 169-180 2000  W u  X   Z h a ng C   Z h a ng S  Mi ni ng Bot h P o s itive and Negative Association Rules Proc f the 19th International Conference on Machine Learning  pp 658\320665 2002  Y a n X   H a n  J  g S p a n  G ra ph-Ba s e d S ubs t r uc t u re Pattern Mining Proc of the 3rd International Conference on a Mining  ICDM-2002 pp.721\320724 2002  Z a ki  M  E f 336 c i e n t l y Mi ni ng F r e que nt T r e e s i n a F or est Proc of the 8th International Conference on Knowledge Discovery and Data Mining KDD-2002 pp 71\32080 2002 Proceedings of the Third IEEE Internati onal Conference on Data Mining \(ICDM\22203 0-7695-1978-4/03 $ 17.00 \251 2003 IEEE 


Fig. 8 Runtime for GAS to find fuzzy sets for the three linguistic intervals The last experiment is dedicated to investigate the performance for the three linguistic intervals. In particular, we examined how the performance varies with the number of transactions. This is reflected in Figure 8 which shows the runtime as we increase the number of input records from 10K to 100K, for the three different cases. The results plotted in Figure 8 show that the method scales quite linearly for the census dataset used in the experiments 6. CONCLUSIONS In this paper, we proposed a clustering approach to solve the problem of interval partitioning in favor of the maximum number of large itemsets based on linguistic minimum support and confidence. The main achievement of the proposed approach is employing GAS to dynamically adjust and optimize membership functions which are essential in finding interesting weighted association rules from quantitative transactions, based on support and confidence specified as linguistic terms Compared to previous mining approaches, the proposed approach directly manages linguistic parameters, which are more natural and understandable to humans. Results of the experiments conducted on a real life census dataset demonstrated the effectiveness and applicability of the proposed approach r31 r41 r51 REFERENCES R. Agrawal, T. Imielinski and A. Swami  Mining association rules between sets of items in large databases  Proc. of ACM SIGMOD, pp.207-216, 1993 W.H. Au and K.C.C. Chan  An Effective Algorithm for Discovering Fuzzy Rules in Relational Databases  Proc C.H. Cai, et al  Mining Association Rules with Weighted Items  Proc. of IDEAS, pp.68-77, 1998 K.C.C. Chan and W.H. Au  Mining Fuzzy Association Rules  Proc. of ACM CIKM, pp.209-215, 1997 B.C. Chien, ZL. Lin and T.P. Hong  An Efficient Clustering Algorithm for Mining Fuzzy Quantitative Association Rules  IFSA World Congress and NAFIPS International Conference, Vo1.3, pp.1306-1311,2001 A.W.C. Fu, et al  Ending Fuzzy Sets for the Mining of Association Rules for Numerical Attributes  Proc. of the OfIEEE-FUZZ, pp.1314-1319,1998 115 International Symposium of Intelligent Data Engineering and Learning, pp.263-268, Oct. 1998 D.E. Goldberg, Genetic Algorithms in Search Optimization, and Machine Learning, Addison-Wesley Reading, MA, 1989 S. Guha, R. Rastogi and K. Shim  CURE: An Efficient Clustering Algorithm for Large Databases  Information Systems, Vo1.26, No.1, pp.35-58,2001 A. Gyenesei  A Fuzzy Approach for Mining Quantitative Association Rules  TUCS Technical Report No.336 2000 K. Hirota and W. Pedrycz  Linguistic Data Mining and Fuzzy Modelling  Proc. of IEEE-FUZZ, pp.1448-1496 1996 J.H. Holland, Adaptation in Natural and Artificial Systems, The MIT Press, Cambridge, MA, MIT Press edition, 1992. First edition: University of Michigan Press 1975 T.P. Hong, C.S. Kuo and S.C. Chi  A fuzzy data mining algorithm for quantitative values  Proc. of the International Conference on Knowledge-Based Intelligent Information Engineering Systems, pp.480483, 1999 T.P. Hong, C.S. Kuo and S.C. Chi  Mining Association 


Rules from Quantitative Data  Intelligent Data Analysis Vo1.3, pp.363-376, 1999 T. P. Hong, M. J. Chiang and S. L. Wang  Mining from Quantitative Data with Linguistic Minimum Supports and Confidences  Proc. of IEEE-FUZZ, pp. 494-499,2002 H. Ishibuchi, T. Nakashima and T. Yamamoto  Fuzzy Association Rules for Handling Continuous Attributes   Proc. of IEEE International Symposium on Industrial Electronics, pp. 1 1 8 - 12 1, 200 1 M. Kaya, R. Alhajj, F. Polat and A. Arslan  Efficient Automated Mining of Fuzzy Association Rules  Proc. of DEXA, 2002 C.M. Kuok, A.W. Fu and M.H. Wong  Mining fuzzy association rules in databases  SIGMOD Record, Vol. 17 No.1, pp.41-46, 1998 B. Lent, A. Swami and J. Widom  Clustering Association Rules  Proc. of IEEE ICDE!, pp.220-23 1 1997 R.J. Miller and Y. Yang  Association Rules over Interval Data  Proc. ofACM SIGMOD, pp.452-461, 1997 R. Ng and J. Han  Efficient and effective clustering methods for spatial data mining  Proc. of VLDB, 1994 W. Pedrycz  Fuzzy Sets Technology in Knowledge Discovery  Fuzzy Sets and Systems, 98, pp.279-290 1998 R. Srikant and R. Agrawal  Mining quantitative association rules in large relational tables  Proc. of ACM W. Wang and S.M. Bridges  Genetic Algorithm Optimization of Membership Functions for Mining Fuzzy Association Rules  Proc. of the International Conference on F m y  Theory &amp; Technology, pp. 13 1-134,2000 R.R. Yager  Fuzzy Summaries in Database Mining   Proc. of the Conference on Artificial Intelligence for Application, pp.265-269, 1995 S .  Yue, el al  Mining fuzzy association rules with weighted items  Proc. of IEEE SMC Conference pp.1906-1911,2000 L.A., Zadeh  Fuzzy Sets  Information and Control W. Zhang  Mining Fuzzy Quantitative Association Rules  Proc. of IEEE ICTRI, pp.99-102, 1999 SIGMOD, pp.1-12, 19 V01.8, pp.338-353, 1965 pre></body></html 


efficiency then AOFI. However utilization of fuzzy concept hierarchies provides more flexibility in reflecting expert knowledge and so allows better modeling of real-life dependencies among attribute values, which will lead to more satisfactory overall results for the induction process. The drawback of the computational cost may additionally decline when we notice that, in contrast to many other data mining algorithms, hierarchical induction algorithms need to run only once through the original \(i.e. massive dataset. We are continuing an investigation of computational costs of our approach for large datasets ACKNOWLEDGMENT Rafal Angryk would like to thank the Montana NASA EPSCoR Grant Consortium for sponsoring this research REFERENCES 1] J. Han , M. Kamber, Data Mining: Concepts and Techniques, Morgan Kaufmann, New York, NY 2000 2] J. Han, Y. Cai, and N. Cercone  Knowledge discovery in databases: An attribute-oriented approach  Proc. 18th Int. Conf. Ver y Large Data Bases, Vancouver, Canada, 1992, pp. 547-559 3] J. Han  Towards Efficient Induction Mechanisms in Database Systems  Theoretical Computing Science, 133, 1994, pp. 361-385 4] J. Han, Y. Fu  Discovery of Multiple-Level Association Rules from Large Databases  IEEE Trans.  on KD E, 11\(5 5] C.L. Carter, H.J. Hamilton  Efficient AttributeOriented Generalization for Knowledge Discovery from Large Databases  IEEE Trans. on KDE 10\(2 6] R.J. Hilderman, H.J. Hamilton, and N. Cercone  Data mining in large databases using domain generalization graphs  Journal of Intelligent Information Systems, 13\(3 7] C.-C. Hsu  Extending attribute-oriented induction algorithm for major values and numeric values   Expert Systems with Applications , 27, 2004, pp 187-202 8] D.H. Lee, M.H. Kim  Database summarization using fuzzy ISA hierarchies  IEEE Trans . on SMC - part B, 27\(1 9] K.-M. Lee  Mining generalized fuzzy quantitative association rules with fuzzy generalization hierarchies  20th NAFIPS Int'l Conf., Vancouver Canada, 2001, pp. 2977-2982 10] J. C. Cubero, J.M. Medina, O. Pons &amp; M.A. Vila  Data Summarization in Relational Databases through  Fuzzy Dependencies  Information Sciences, 121\(3-4 11] G. Raschia, N. Mouaddib  SAINTETIQ:a fuzzy set-based approach to database summarization   Fuzzy Sets and Systems, 129\(2 162 12] R. Angryk, F. Petry  Consistent fuzzy concept hierarchies for attribute generalization  Proceeding of the IASTED Int. Conf. on Information and Knowledge Sharing, Scottsdale AZ, USA, November 2003, pp. 158-163 13] Toxics Release Inventory \(TRI available EPA database hosted at http://www.epa.gov/tri/tridata/tri01/index.htm The 2005 IEEE International Conference on Fuzzy Systems790 pre></body></html 


the initial global candidate set would be similar to the set of global MFIs. As a result, during the global mining phase the communication and synchronization overhead is low  0 2 4 6 8 1 0 Number of Nodes Figure 5. Speedup of DMM 4.4.2 Sizeup For the sizeup test, we fixed the system to the 8-node con figuration, and distributed each database listed in Table 2 to the 8 nodes. Then, we increased the local database sire at each node from 45 MB to 215 MB by duplicating the initial database partition allocated to the node. Thus, the data distribution characteristics remained the same as the local database size was increased. This is different from the speedup test, where the database repartitioning was per formed when the number of nodes was increased. The per formance of DMM is affected by the database repartitioning to some extent, although it is usually very small. During the sizeup test, the local mining result of DMM is not changed at all at each node The results shown in Figure 6 indicate that DMM has a very good sizeup property. Since increasing the size of local database did not affect the local mining result of DMM at each node, the total execution time increased just due to more disk U 0  and computation cost which scaled almost linearly with sizeup 5 Conclusions In this paper, we proposed a new parallel maximal fre quent itemset \(MFI Max-Miner \(DMM tems. DMM is a parallel version of Max-Miner, and it re quires low synchronization and communication overhead compared to other parallel algorithms. In DMM, Max Miner is applied on each database partition during the lo 0 45 90 135 180 225 270 Amwnt of Data per Node \(ME Figure 6. Sizeup of DMM cal mining phase. Only one synchronization is needed at thc end of this phase to construct thc initial global candi date set. In the global mining phase, a top-down search is performed on the candidate set, and a prefix tree is used to count the candidates with different length efficiently. Usu ally, just a few passes are needed to find all global maximal frequent itemsets. Thus, DMM largely reduces the number of synchronizations required between processing nodes Compared with Count Distribution, DMM shows a great improvement when some frequent itemscts are large \(i.e long patterns employed by DMM for efficient communication between nodes; and global support estimation, subset-infrequency based pruning, and superset-frequency based pruning are used to reduce the size of global candidate set. DMM has very good speedup and sizeup properties References I ]  R. Agrawal and R. Srikant  FdSt Algorithms for Mining As sociation Rules  Pmc. o f f h e  ZOrh VLDB Conf, 1994, pp 487499 2] R. Agrawal and I. C. Shafer  Parallel Mining of Association Rules  IEEE Trans. on Knowledge and Dura Engineering Vol. 8, No. 6, 1996, pp. 962-969 3] R. I. Bayardo  Efficient Mining Long Patlems from Databases  Proc. ofrhe ACM SIGMOD Inf  l Conf on Man ogemenr ofDara, 1998, pp. 85-91 4] S.  M. Chung and J. Yang  A Parallel Distributive Join Al gorithm for Cube-Connected Multiprocessors  IEEE Trans on Parallel and Disrribured Systems, Vol. 7, No. 2, 1996, pp 127-137 51 M. Snir, S. Otto. S. Huss-Lederman, D. Walker, and J. Don gana, MPI: The Complete Reference, The MIT Press, 1996 


gana, MPI: The Complete Reference, The MIT Press, 1996 6] R. Rymon  Search through Systematic Set Enumeralion   Pmc. of3rd Inr  l Con$ on Principles of Knowledge Repre sentation and Reasoning, 1992, pp. 539-550 507 pre></body></html 


sketch-index in answering aggregate queries. Then Section 5.2 studies the effect of approximating spatiotemporal data, while Section 5.3 presents preliminary results for mining association rules 5.1 Performance of sketch-indexes Due to the lack of real spatio-temporal datasets we generate synthetic data in a way similar to [SJLL00 TPS03] aiming at simulation of air traffic. We first adopt a real spatial dataset [Tiger] that contains 10k 2D points representing locations in the Long Beach county \(the data space is normalized to unit length on each dimension These points serve as the  airbases  At the initial timestamp 0, we generate 100k air planes, such that each plane \(i uniformly generated in [200,300], \(ii, iii destination that are two random different airbases, and iv  the velocity direction is determined by the orientation of the line segment connecting its source and destination airbases move continually according to their velocities. Once a plane reaches its destination, it flies towards another randomly selected also uniform in [0.02, 0.04 reports to its nearest airbase, or specifically, the database consists of tuples in the form &lt;time t, airbase b, plane p passenger # a&gt;, specifying that plane p with a passengers is closest to base b at time t A spatio-temporal count/sum query has two parameters the length qrlen of its query \(square number qtlen of timestamps covered by its interval. The actual extent of the window \(interval uniformly in the data space \(history, i.e., timestamps 0,100 air planes that report to airbases in qr during qt, while a sum query returns the sum of these planes  passengers. A workload consists of 100 queries with the same parameters qrlen and qtlen The disk page size is set to 1k in all cases \(the relatively small page size simulates situations where the database is much more voluminous specialized method for distinct spatio-temporal aggregation, we compare the sketch-index to the following relational approach that can be implemented in a DBMS. Specifically, we index the 4-tuple table lt;t,b,p,a&gt; using a B-tree on the time t column. Given a count query \(with window qr and interval qt SELECT distinct p FROM &lt;t,b,p,a&gt WHERE t?qt &amp; b contained in qr The performance of each method is measured as the average number of page accesses \(per query processing a workload. For the sketch-index, we also report the average \(relative Specifically, let acti and esti be the actual and estimated results of the i-th query in the workload; then the error equals \(1/100 set the number of bits in each sketch to 24, and vary the number of sketches The first experiment evaluates the space consumption Figure 5.1 shows the sketch index size as a function of the number of sketches used \(count- and sum-indexes have the same results more sketches are included, but is usually considerably smaller than the database size \(e.g., for 16 signatures, the size is only 40% the database size 0 20 40 60 80 


80 100 120 140 160 8 16 32 number of sketches size \(mega bytes database size Figure 5.1: Size comparison Next we demonstrate the superiority of the proposed sketch-pruning query algorithm, with respect to the na  ve one that applies only spatio-temporal predicates. Figure 5.2a illustrates the costs of both algorithms for countworkloads with qtlen=10 and various qrlen \(the index used in this case has 16 sketches also illustrate the performance of the relational method which, however, is clearly incomparable \(for qrlen?0.1, it is worse by an order of magnitude we omit this technique Sketch-pruning always outperforms na  ve \(e.g., eventually two times faster for qrlen=0.25 increases with qrlen, since queries returning larger results tend to set bits in the result sketch more quickly, thus enhancing the power of Heuristics 3.1 and 3.2. In Figure 5.2b, we compare the two methods by fixing qrlen to 0.15 and varying qtlen. Similar to the findings of [PTKZ02]4 both algorithms demonstrate  step-wise  growths in their costs, while sketch-pruning is again significantly faster The experiments with sum-workloads lead to the same observations, and therefore we evaluate sketch-indexes using sketch-pruning in the rest of the experiments 4 As explained in [PTKZ02], query processing accesses at most two paths from the root to the leaf level of each B-tree regardless the length of the query interval Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE sketch-pruning naive relational 0 100 200 300 400 500 600 700 800 900 0.05 0.1 0.15 0.2 0.25 number of disk accesses query rectangle length 300 0 100 200 400 500 600 1 5 10 15 20 number of disk accesses query interval length a qtlen=10 b qrlen=0.15 Figure 5.2: Superiority of sketch-pruning \(count As discussed in Section 2, a large number of sketches reduces the variance in the resulting estimate. To verify this, Figure 5.3a plots the count-workload error of indexes 


using 8-, 16-, and 32- sketches, as a function of qrlen qtlen=10 error \(below 10 it increases slowly with qrlen used, however, the error rate is much higher \(up to 30 and has serious fluctuation, indicating the prediction is not robust. The performance of 16-sketch is in between these two extremes, or specifically, its accuracy is reasonably high \(average error around 15 much less fluctuation than 8-sketch 32-sketch 16-sketch 8-sketch relative error 0 5 10 15 20 25 30 35 0.05 0.1 0.15 0.2 0.25 query rectangle length relative error 0 5 10 15 20 25 30 35 1 5 10 15 20 query interval length a qtlen=10, count b qrlen=0.15, count relative error query rectangle length 0 5 10 15 20 25 0.05 0.1 0.15 0.2 0.25 relative error query interval length 0 5 10 15 20 25 30 1 5 10 15 20 c qtlen=10, sum d qrlen=0.15, sum Figure 5.3: Accuracy of the approximate results The same phenomena are confirmed in Figures 5.3b where we fix qrlen to 0.15 and vary qtlen 5.3d \(results for sum-workloads number of sketches improves the estimation accuracy, it also leads to higher space requirements \(as shown in Figure 5.1 Figures 5.4a and 5.4b show the number of disk accesses for the settings of Figures 5.3a and 5.3b. All indexes have almost the same behavior, while the 32-sketch is clearly more expensive than the other two indexes. The interesting observation is that 8- and 16-sketches have 


interesting observation is that 8- and 16-sketches have almost the same overhead due to the similar heights of their B-trees. Since the diagrams for sum-workloads illustrate \(almost avoid redundancy 32-sketch 16-sketch 8-sketch number of disk accesses query rectangle length 0 50 100 150 200 250 300 350 400 0.05 0.1 0.15 0.2 0.25 number of disk accesses query interval length 0 50 100 150 200 250 300 350 1 5 10 15 20 a qtlen=10 b qrlen=0.15 Figure 5.4: Costs of indexes with various signatures Summary: The sketch index constitutes an effective method for approximate spatio-temporal \(distinct aggregate processing. Particularly, the best tradeoff between space, query time, and estimation accuracy obtained by 16 sketches, which leads to size around 40 the database, fast response time \(an order of magnitude faster than the relational method average relative error 5.2 Approximating spatio-temporal data We proceed to study the efficiency of using sketches to approximate spatio-temporal data \(proposed in Section 4.1 as in the last section, except that at each timestamp all airplanes report their locations to a central server \(instead of their respective nearest bases maintains a table in the form &lt;time t, plane p, x, y&gt;, where x,y with parameters qrlen and qtlen distinct planes satisfying the spatial and temporal conditions. For comparison, we index the table using a 3D R*-tree on the columns time, x, and y. Given a query, this tree facilitates the retrieval of all qualifying tuples, after which a post-processing step is performed to obtain the Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE number of distinct planes \(in the sequel, we refer to this method as 3DR method introduces a regular res  res grid of the data space, where the resolution res is a parameter. We adopt 16 sketches because, as mentioned earlier, this number gives the best overall performance Figure 5.5 compares the sizes of the resulting sketch indexes \(obtained with resolutions res=25, 50, 100 the database size. In all cases, we achieve high compression rate \(e.g., the rate is 25% for res=25 evaluate the query efficiency, we first set the resolution to the median value 50, and use the sketch index to answer workloads with various qrlen \(qtlen=10 


workloads with various qrlen \(qtlen=10 size \(mega bytes database size 0 20 40 60 80 100 120 140 160 25 50 100 resolution Figure 5.5: Size reduction Figure 5.6a shows the query costs \(together with the error in each case method. The sketch index is faster than 3DR by an order of magnitude \(note that the vertical axis is in logarithmic scale around 15% error observations using workloads with different qtlen Finally, we examine the effect of resolution res using a workload with qrlen=0.15 and qtlen=10. As shown in Figure 5.6c, larger res incurs higher query overhead, but improves the estimation accuracy Summary: The proposed sketch method can be used to efficiently approximate spatio-temporal data for aggregate processing. It consumes significantly smaller space, and answers a query almost in real-time with low error 3D Rsketch number of disk accesses query rectangle length 1 10 100 1k 10k 0.05 0.1 0.15 0.2 0.25 16 14% 15 15% 13 relative error number of disk accesses query interval length 1 10 100 1k 10k 1 5 10 15 20 16 15% 15% 12% 11 relative error a qtlen=10, res=25 b qrlen=0.15, res=25 0 500 1000 1500 2000 2500 25 50 100 number of disk accesses resolution 20% 15% 14 relative error c qrlen=0.15, qtlen=10 


c qrlen=0.15, qtlen=10 Figure 5.6: Query efficiency \(costs and error 5.3 Mining association rules To evaluate the proposed algorithm for mining spatiotemporal association rules, we first artificially formulate 1000 association rules in the form \(r1,T,90 with 90% confidence i randomly picked from 10k ones, \(ii in at most one rule, and \(iii Then, at each of the following 100 timestamps, we assign 100k objects to the 10k regions following these rules. We execute our algorithms \(using 16 sketches these rules, and measure \(i  correct  rules divided by the total number of discovered rules, and \(ii successfully mined Figures 5.7a and 5.7b illustrate the precision and recall as a function of T respectively. Our algorithm has good precision \(close to 90 majority of the rules discovered are correct. The recall however, is relatively low for short T, but gradually increases \(90% for T=25 evaluated in the previous sections, the estimation error decreases as the query result becomes larger \(i.e., the case for higher T 78 80 82 84 86 88 90 92 94 96 5 10 2015 25 precision HT 78 80 82 84 86 88 90 92 94 96 5 10 2015 25 recall HT a b Figure 5.7: Efficiency of the mining algorithm Summary: The preliminary results justify the usefulness of our mining algorithm, whose efficiency improves as T increases Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE 6. Conclusions While efficient aggregation is the objective of most spatio-temporal applications in practice, the existing solutions either incur prohibitive space consumption and query time, or are not able to return useful aggregate results due to the distinct counting problem. In this paper we propose the sketch index that integrates traditional approximate counting techniques with spatio-temporal indexes. Sketch indexes use a highly optimized query algorithm resulting in both smaller database size and faster query time. Our experiments show that while a sketch index consumes only a fraction of the space required for a conventional database, it can process 


required for a conventional database, it can process queries an order of magnitude faster with average relative error less than 15 While we chose to use FM sketches, our methodology can leverage any sketches allowing union operations Comparing the efficiency of different sketches constitutes a direction for future work, as well as further investigation of more sophisticated algorithms for mining association rules. For example, heuristics similar to those used for searching sketch indexes may be applied to improve the brute-force implementation ACKNOWLEDGEMENTS Yufei Tao and Dimitris Papadias were supported by grant HKUST 6197/02E from Hong Kong RGC. George Kollios, Jeffrey Considine and were Feifei Li supported by NSF CAREER IIS-0133825 and NSF IIS-0308213 grants References BKSS90] Beckmann, N., Kriegel, H., Schneider, R Seeger, B. The R*-tree: An Efficient and Robust Access Method for Points and Rectangles. SIGMOD, 1990 CDD+01] Chaudhuri, S., Das, G., Datar, M., Motwani R., Narasayya, V. Overcoming Limitations of Sampling for Aggregation Queries. ICDE 2001 CLKB04] Jeffrey Considine, Feifei Li, George Kollios John Byers. Approximate aggregation techniques for sensor databases. ICDE, 2004 CR94] Chen, C., Roussopoulos, N. Adaptive Selectivity Estimation Using Query Feedback. SIGMOD, 1994 FM85] Flajolet, P., Martin, G. Probabilistic Counting Algorithms for Data Base Applications JCSS, 32\(2 G84] Guttman, A. R-Trees: A Dynamic Index Structure for Spatial Searching. SIGMOD 1984 GAA03] Govindarajan, S., Agarwal, P., Arge, L. CRBTree: An Efficient Indexing Scheme for Range Aggregate Queries. ICDT, 2003 GGR03] Ganguly, S., Garofalakis, M., Rastogi, R Processing Set Expressions Over Continuous Update Streams. SIGMOD, 2003 HHW97] Hellerstein, J., Haas, P., Wang, H. Online Aggregation. SIGMOD, 1997 JL99] Jurgens, M., Lenz, H. PISA: Performance Models for Index Structures with and without Aggregated Data. SSDBM, 1999 LM01] Lazaridis, I., Mehrotra, S. Progressive Approximate Aggregate Queries with a Multi-Resolution Tree Structure. SIGMOD 2001 PGF02] Palmer, C., Gibbons, P., Faloutsos, C. ANF A Fast and Scalable Tool for Data Mining in Massive Graphs. SIGKDD, 2002 PKZT01] Papadias,  D., Kalnis, P.,  Zhang, J., Tao, Y Efficient OLAP Operations in Spatial Data Warehouses. SSTD, 2001 PTKZ02] Papadias, D., Tao, Y., Kalnis, P., Zhang, J Indexing Spatio-Temporal Data Warehouses ICDE, 2002 SJLL00] Saltenis, S., Jensen, C., Leutenegger, S Lopez, M.A. Indexing the Positions of Continuously Moving Objects. SIGMOD 2000 SRF87] Sellis, T., Roussopoulos, N., Faloutsos, C The R+-tree: A Dynamic Index for MultiDimensional Objects. VLDB, 1987 TGIK02] Thaper, N., Guha, S., Indyk, P., Koudas, N Dynamic Multidimensional Histograms 


SIGMOD, 2002 Tiger] www.census.gov/geo/www/tiger TPS03] Tao, Y., Papadias, D., Sun, J. The TPR*Tree: An Optimized Spatio-Temporal Access Method for Predictive Queries. VLDB, 2003 TPZ02] Tao, Y., Papadias, D., Zhang, J. Aggregate Processing of Planar Points. EDBT, 2002 TSP03] Tao, Y., Sun, J., Papadias, D. Analysis of Predictive Spatio-Temporal Queries. TODS 28\(4 ZMT+01] Zhang, D., Markowetz, A., Tsotras, V Gunopulos, D., Seeger, B. Efficient Computation of Temporal Aggregates with Range Predicates. PODS, 2001 ZTG02] Zhang, D., Tsotras, V., Gunopulos, D Efficient Aggregation over Objects with Extent PODS, 2002 Proceedings of the 20th International Conference on Data Engineering \(ICDE  04 1063-6382/04 $ 20.00  2004 IEEE pre></body></html 


