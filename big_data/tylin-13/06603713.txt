Civitas The Smart City Middleware from Sensors to Big Data F  elix J Villanueva Maria J Santo“mia David Villa Jes  us Barba Juan Carlos L  opez Department of Information Technologies and Systems School of Computer Science Ciudad Real Spain 
  
felix.villanueva mariajose.santo“mia david.villa jesus.barba juancarlos.lopez uclm.es 
Abstract 
Software development for smart cities bring into light new concerns such as how to deal with scalability heterogeneity sensors actuators high performance computing devices 
etc geolocation information or privacy issues among some Traditional approaches to distributed systems fail to address these challenges because they were mainly devoted to enterprise IT environments This paper proposes a middleware framework called Civitas specially devoted to support the task of service development for the Smart City paradigm This paper also analyzes the main drawbacks of traditional approaches to middleware service development and how these are overcome in the middleware framework proposed here 
I I NTRODUCTION The concept of Smart City has lately been adopted by the research community companies and public gobernants to summarize a set of advanced services devoted to make current 
cities more citizien friendly ef“cient and sustainable Traf“c management public transport scheduling waste management pollution control or preventing and avoiding security threats are among some of the most relevant examples of problems that the Smart City has to deal with The Smart City paradigm can therefore be seen as a distributed system in which different sources of information provide data to a set of applications that use these data to elaborate responses at strategic and tactical level Distributed systems are normally supported in an abstraction layer platform known as middleware Ideally middleware provides a set of tools and software libraries that make transparent to developers the heterogenety in operating systems programming language 
devices etc while abstracting them from the different network features technology topology protocol stack etc The role therefore played by the middleware is essential for the success of the future smart city Specially relevant is how the smart city service development could be bene“t from the abstraction layer provided by a middleware Productivity in terms of services developed and deployed could be considerably increased On the contrary the lack of this comprehensive approach for smart cities would result in the formation of information island phenomenon making synergy of services impossible This paper presents the rst distributed object-oriented middleware called Civitas speci“cally designed for smart 
cities This middleware provides services that range from environmental sensor deployment to the necessary hardware for high performance algorithms devoted to extract information from raw data Additionally in order to cope with the 
facet of the smart city paradigm Civitas has also be enhanced with reasoning capabilities Leveraging reasoning capabilities enables the middleware to have few hard-coded features that are rather deduced from the available data In this sense Civitas is able to adapt to the deployed city without requiring important modi“cations or adaption works The main intention of this work is to promote tightly integrated systems and managed smart cities to simplify the IT environment for service 
smart 
developers II S TATE OF A RT So far most of the literature concerning Smart Cities as to the solutions for the challenges that arise in this eld is mainly oriented to speci“c applications for certain city domains Therefore it is recurrent to see a 
approach rather than an holistic one The later would need of a thorough analysis isolating the common requirements that would lead to a shared technological platform This work aims to ll this void detected in the revised related work Some of the works focus at the data-acquisition level describing how the abstraction of the different sources and 
reinventing-the-wheel 
their integration into the system is performed In this sense it is worth mentioning the OpenIoT EU co-funded FP7 project  The OpenIoT architecture enables the de v elopment of cloud-based applications using Internet of Things services The bulk of the OpenIoT framework resides in the virtualization infrastructure used to integrate different sensor networks technologies into the cloud OpenIoT de“nes a series of extensions to well known standards such as SSN-XG ontolgy for sensor network de“nition or RESTful services for sensor access The work of Fazio et al also mak es it use of standard speci“cations and protocols such as Sensor Web Enablement to tackle the heterogeneity problems in smart sensor platforms Three levels of incompatibility are identi“ed in complex sens 
ing infrastructures device technology communication and data levels At the end sensors are accessed via a REST API which relies on a Sensor Observation Service Agent that abstracts the observations and the sensor system However the use of web text based protocols for sensor integration has two major drawbacks a limits the kind and type of devices to use since text based communication demands of a fair amount of CPU processing to parse the protocol messages b battery life of the sensors shrinks considerably and 3 is not very suitable for low bit rate communications 
2013 Seventh International Conference on Innovative Mobile and Internet Services in Ubiquitous Computing 978-0-7695-4974-3/13 $26.00 © 2013 IEEE DOI 10.1109/IMIS.2013.80 445 


e.g 802.15.4 even in compressed forms RESTFul CoAP etc Whereas some of the works make a strong point at the physical/sensing layer putting aside how the data is gathered at this level others tip-toe around this topic and directly start to de“ne the architecture and mechanisms to store access process or represent such information The cloud proposal made by Khan and Kiani emphasizes the conte xtual-a w are data processing aimed to deliver the right information to applications citizens or any other agent First data is classi“ed into speci“c thematic categories then a service composition layer builds the necessary paths between processing components to feed the application service layer which is in charge of representing such outcomes or perform further contextual processing for decision-making for example Nevertheless the of the platform claimed by the authors is quite restricted and static since the raw data classi“cation process seems to be drove by a prede“ned set of application domains and no automatic nor run-time service composition means are referenced hampering its applicability to dynamic scenarios The SOFIA Smart Objects for Intelligent Applications project proposes a service oriented architecture that process the information coming from the embedded world as a stream of events The architecture for smart city has two main building blocks the KBPs Knowledge-Based Processors that process the events and SIBs Semantic Information Brokers that play the role of event channels There exits a cooperation between KBs and SIBs and among SIBs in order to build the necessary semantic net As mentioned in the beginning of this section it is necessary to move to speci“c application domains to nd an exhaustive analysis of requisites on what a middleware for smart cities should look like For example in An agentoriented middlewares for distributed smart cameras is presented Two aspects are introduced in this work that were not considered above dynamic loading/migration of processing tasks and collaborative work between nodes at the physical layer In Civitas the deployment and operational services are key since they are tightly related with the dynamics of the system its adaptability and maintainability in the the ever changing smart city environment It is worth noticing that the Civitas approach allows spanning the kind and type of sensing devices that can implement these features due to its minimal footprint Very few approaches for Smart City solutions focus on the concerns of service developers In our view we share with that this is one of the main challenges and Civitas is working for Service interoperability and deployment mechanisms for example should be open standard and easy-going facilitating the development of smart applications If the master lines for smart city software are not devised taking into account these principles we will incur in the same mistakes that for example are described by Lee et al in for the U-Cities initiative that must be later integrated using a centralized approach III S MART CITY ECOSYSTEM The ecosystem notion of a smart city is an abstraction that comprises the IT infrastructure deployed by governmental inFig 1 Smart city ecosystem stitutions all over the city such as semaphores traf“c sensors cameras public wi networks etc The Civitas platform counts on all these sources of information and actuation as its raw elements from which smart city operations can be articulated In order to ful“ll the vision of the future smart city governments have to start considering investment in IT infrastructure as relevant as providing other public services such as street pavement public lighting supply networks etc In this sense IT infrastructures should be scheduled designed and deployed as a basic service The picture envisioned in this article sees the Civitas platform at the core of the IT infrastructure deployed in the smart city In this sense the Civitas platform orchestrates the different entities connected to the platform such as citizens companies homeowners associations or even public institutions The way how any of these entities can connect to the Civitas platform and therefore be part of the overall platform is through an element known as A is a device properly certi“ed to provide and to consume information to/from the smart city The can therefore be seen as a way of certifying that all consumers and producers of the smart city hold the appropriate credentials to do so Examples of devices that can work as include smart phones residential gateways company servers etc Depending on the type of device its conversion into a can vary from simply installing an smart phone app to installing a Civitas software manager that enable additional services to be deployed in that device In any case it is important to highlight that whenever a device is connected to the Civitas platform part of the device becomes part of the smart city platform as depicted in Fig 1 More speci“cally from the software layer point of view all these devices have installed a small run-time middleware application that turns them into objects of a general object-oriented middleware Fig 1 depicts a simpli“ed version of the envisioned smart city ecosystem in which the Civitas platform is found at the core The Civitas platform is not only fed with external entities but it also counts on its own entities referred as  The work as servers 
intelligence islands of services Civitas plug Civitas plug Civitas plug Civitas plugs Civitas plug Civitas core nodes Civitas core nodes 
446 


all over the platform In this sense the core infrastructure should be deployed according to criteria such as city population distribution business centers situation critical infrastructure etc For example a good criterion could be dividing the core infrastructure according to the administrative districts Fig 2 represents the layout of a small city in which have been deployed according to administrative districts Therefore the Civitas platform is used to communicate deploy and manage services from government and companies Always keeping in mind the object-oriented model we will manage this platform as an IT cloud IV C IVITAS DESIGN PRINCIPLES This section describes the main design principles and characteristics exhibited by Civitas as response to the weaknesses identi“ed in current middleware solutions for Smart Cities pointed out in Section II 1 unsuitability of generic middlewares for resource-constrained devices 2 heavy communication protocols that despite being compliant with standards eats up an important part of the computing and battery resources in autonomous systems 3 limited exibility and run-time management of the platform 4 absence of intelligence an unde“ned development model and 6 lack of integration of high performance computing devices e.g FPGAs These design principles and major characteristics are described underneath  from a sensor attached to a 8-bit processor to a powerful algorithm implemented in a FPGA All objects are accessed by an interface which is invoked throught an ef“cient binary protocol of the middleware stack to make it feasible the implementation of Civitas plugs in lowcost resource-limited devices such as sensors actuators WSN nodes etc The functionality of these tailored Civitas plugs do not differ from other devices or platforms allowing direct communication from/to the Civitas cores or other Civitas plugs and deployment of service software Details about this low-footprint integration can be found in our previous work can be used in Civitas Special Civitas plugs and cores have been developed in order to integrate recon“gurable hardware platforms such as FPGAs Field Programmable Gate Arrays in our smart city middleware FPGAs adds high performance capabilities to the Civitas infrastructure It is then viable of huge amount of data without a centralized infrastructure i.e data-centers saving in investments and electricity bill costs due to the excellent operation per watt and dollar ratio Moreover recon“gurable hardware is exible and the algorithms running in it can be replaced in the future making it the most of the initial inversion Hardware in-depth details about how to integrate a FPGA in a object-oriented middleware is shown in our previous work sensing platforms and applications In this regard Civitas adds stream-based communications and a component model to transmit and process audio/video data”ows  Contextaware applications and services for smarter cities need a higher degree of intelligence than the one currently offered by rulebased systems Moreover the latter solutions lacks of the adaptability to unforeseen situations since it relies on a set of static hard coded premises In Civitas common sense reasoning is introduced in some of its services in order to provide the most appropriate response  The main goal of conventional middleware is usually to abstract communications networks operating systems in brief the platform details in order to offer a homogeneous view of the IT infrastructure In 
Civitas core nodes Civitas core nodes in-place hot in-platform processing 
Everything is a software object Low footprint Ad-hoc hardware processing platforms Native support of audio and video True intelligence common sense reasoning Independence from the city layout 
Fig 2 Smart City district-based infrastructure generally supported by governmental and public institutions in which a wide range of services are deployed such as security strategies public data services city layout modeling services or the platform for deploying services running in these nodes More speci“cally these nodes provide useful services to any of the smart city entities However the offered services are not only limited to those provided by public institutions but on the contrary any private company can also contribute to this core infrastructure according to the service they provide/require to/from the city Nonetheless an arising issue turns up regarding how communication among heterogeneous devices and services is supported This issue is easily resolved thanks to the abstraction provided by the middleware layer From the service developers point of view any platform entity is seen as a distributed object of the object-oriented middleware In this sense from the physical layer point of view how different devices communicate each other depends on the speci“c city communication network infrastructure This aspect is however standardized and made transparent to nal service developers who delegate that responsibility to the middleware layer An additional arising issue is how to deploy the different 
447 


module Civitas module Traffic enum State Red Yellow Green interface Semaphore void setState\(State st    
TABLE I S TANDARS AND G UIDELINES USED IN C IVITAS Format Used for De“ned by Slice language Service interface de“nition Ice middleware Mobile Location Protocol Position areas polygons etc Open Mobile Alliance ISO 8601 Date and Time ISO AV-Streams Audio  Video sources Object Management Group OSM format City layout Community Civitas it is introduced a new level of 
transparency city layout transparency component infrastructure A Addressing objects and layout representation B Interfaces and service description 
Standarization Functional interfaces Events and channels Data-”ow processing and composition Services 
that we called  which has not been considered before City services should not be exposed to the city layout in order to be deployed or operate in the right geographical context  Civitas considers the use of existent protocols and tools whenever its utilization does not break any of the previous design principles For example for all related with geographic data representation we are based on Mobile Location Protocol MLP from Open Mobile Alliance However the aim of Civitas is to de“ne a set of standarized interfaces and processes for Smart City application development Table I shows some of the standars and guidelines used in Civitas The concept of object is at the foundations of the Civitas middleware and it has been used to model  Every entity in Civitas exposes its functionality as a set of methods regardless its nature The access to sensors actuators cameras persons or hardware components in a FPGA is performed through the invocation of such methods.The interfaces de“ned in Civitas are expressed in Slice language Slice is an interface description language used in ZeroC ice a generic object-oriented distrib uted middleware  Civitas also supports eventbased communication Event channels are objects that implements the publishsubscribe pattern It is worth noticing that every event is tagged with geopositional and time information that is used by the brokerage system for synchronization and delivery optimization purposes  In Civitas a has been developed to ease the implementation of data-”ow applications or services such as multimedia streamming or complex event processing A component is a stateless objects with an standarized interface in a certain domain Data delivery and synchronization between components is responsibility of Civitas freeing the developer of such task Therefore it is easy to build complex and scalable solutions by means of composition  This is the principal developers view A service is a bundle composed by either a Civitas component or object Civitas development process is explained in detail in section V From the software developers point of view any object in Civitas is identi“ed by an IPv6 address plus object ID This Fig 3 Smart City layer vision UID is used to locally instantiate a proxy object representing any distributed object In a Smart City a service is almost always related to a location and the environment that surrounds it The description of space and location is therefore a relevant feature of Civitas In this sense Civitas complies with the OSM format already employed in numerous open projects like OpenStreetMap Using the same standards as projects as OpenStreets enables Civitas to get richer information about locations For example in OpenStreetMap project the community agrees on certain key and value combinations for tags that are informal standards This tags allows Civitas to get additional information about uses of the spaces in the city type of buildings limits etc As previously stated a set of simple interfaces are de“ned to play the same role that POSIX interfaces play in operating system market that is to homogenize basic service design improve the portability and maintainability We can see an example of this interface speci“cation In this sense any object devoted to control a traf“c semaphore should implement the interface listed above It is important to highlight that implementation and communication details are hidden behind the interface Similarly to the interfaces designed for the traf“c semaphore control Civitas considers additional pro“les devoted to monitor and manage certain aspects such as semaphores barriers and sensors for the traf“c monitoring pro“le Any manufacturer of semaphores Civitas compliant should implement embedded in the semaphore a software object according to semaphore interface de“ned in the traf“c management pro“le For legacy devices and/or protocols a wrapper can be de“ned in order to integrate in a seamless way any device already deployed Currently interfaces are being designed for the following pro“les smart grid traf“c management water ow environment control structural monitoring and security These pro“les will represent different views of a city g 3 Along with the functional interfaces de“ned in the pro“les there are two additional common interfaces that have to be 
    
448 


implemented by each relevant object in Civitas First a property manager interface for accessing the general properties of the service e.g manufacturer version geographical position covered area etc The interface de“nes methods to access to the name of the property its type its value and security properties who has access to consult and/or to modify the property Each pro“le along with the functional interfaces de“nes a minimum set of characteristics to be de“ned The other interface to be implemented is a one Any object interested in a change of the status of a speci“c Civitas object which control a for example semaphore must implement its  Additionally the semaphore object should implement the SemaphoreAdmin interface to manage  Both interfaces are de“ned in the appropriate pro“le Continuing with semaphore example in the Traf“c pro“le we can nd 1  The idea behind this subscription mechanism is to provide developers with a generic mechanism to listen what happens in each object of Civitas For example any change in a semaphore object should be communicated to all objects subscribed invoking the method Status with the new status With this mechanism we also enable a powerful mechanism for information federation lter processing composition etc V S ERVICE DEVELOPMENT This section guides the reader through a trip around the Civitas architecture and more speci“cally through a homeland security related service development Figure 4 provides an overview of Civitas under a speci“c service development process The proposed case study considers a scenario in which a service for license plate based vehicle tracking is required First a source of digital images is required in order to undertake the tracking operation To this end the traf“c surveillance cameras are going to be used as video providers Once the video images are available a hardware version of the image analysis module is employed in order to determine whether the tracked license plate is present or no in the analyzed video sequence Finally those sequences in which the tracked license plate is recognized conforms the video stream sent back to a user device in which the tracking is being followed in real time From the software developers point of view the traf“c surveillance cameras belong to the city an therefore any service intended to access them have to use a universal ID UID currently formed by IPv6 plus object ID This UID is used to locally instantiate a the proxy object representing a distributed object in this case a camera In the instantiating process a set of credentials have to be provided so that the middleware permits the object instantiating with the appropriate permissions 1 For the shake of readability exception de“nitions and error management code have been removed from the interface examples          Fig 4 General overview of Civitas based on the security level of the instantiating request For example in this particular case if the client accessing those cameras would be the police their security level would allow them to change the con“guration or properties of the camera On the contrary other clients such as a company providing traf“c congestion free paths services could not move and/or zoom the camera The interface for controlling the camera is prede“ned and compliant with the AV/Stream speci“cation from OMG The next issue to take care of is how to integrate the camera video stream with the algorithm that performs license plate recognition for the sake of performance implemented in VHDL The developer of the VHDL algorithm is responsible for providing an interface that abstract the implementation details from those using the algorithm This interface is speci“ed using Slice This interface is provided to a compiler which automatically generates a VHDL wrapper for the algorithm Additionally the Slice de“nition can be used to obtain the proxy object 2 to the license plate recognition algorithm running in the FPGA By means of the UID of the algorithm this can be used as any other software object Finally it is necessary to implement a visualization tool to show the tracking video stream in the mobile device used in this service Once again the Sink interface de“ned in the streaming speci“cation as guideline for my viewer can be used VI I NJECTING COMMON SENSE IN THE MIDDLEWARE The proposed Civitas framework does not only cope with service developer issues but it also provides a set of high level services that can be combined among themselves resulting in new services with new functionality This section describes the process of combining middleware basic services into more elaborated ones In this sense the proposed approach overcomes the limited classic approaches for service composition such as web services service input/output pattern matching or rule-based systems On the contrary it advocates for a more exible and intelligent strategy based on a common-sense knowledge strategy to drive the composition process The work in pro vides a thorough description of the employed solution For the sake of 2 In java python C etc 
Listener Listener listeners 
interface SemaphoreListener void Status\(State st  interface SemaphoreAdmin  void addListener\(SemaphoreListener  listener void removeListener\(SemaphoreListener  listener  
449 


simplicity this section focuses in describing how a commonsense knowledge supports the service composition process In order to do so a case study is employed to drive the explanation The case study describes the same scenario presented in previous section in which a license plate tracking service is required and no speci“c basic service exists to do so However the Smart City counts with enough resources to undertake such task such as video cameras and a license plate recognizer system The combination of both services can give rise to a new service to ful“ll the license plate tracking service It is tempting to think that this type of situation can be addressed by providing the middleware with a list of basic service that when combined provide new functionality This solution would suf“ce to recognize license plates in video streams but it will fail to track a speci“c subject To do so a more intelligent solution has to be worked out It has to be highlighted that the proposed solutions resorts to a reasoning engine capable of combining information about the city such as sensor locations and capabilities or street maps with high level information about how the work works so called common sense This combination of information enables the reasoning engine to devise a solution to track license plates based on the knowledge it holds about the video camera locations and how a car movement is ruled The common-sense law of inertia is an example of rule that describes how the world works This rule states that objects tend to remain in the same state until affected by an external action In this sense if the car is moving in one direction it tends to continue moving in the same direction This rule is combined with the rule that relates movement space and time so that the location of a moving object can be calculated based on its speed direction and its original location These and similar rules are generally referred as common-sense knowledge These rules enable the system to identify the speci“c video camera in which range the license plate is going to appear If the car makes a turn the system is still able of guring out the new location When the license plate is not recognized in the video stream in which it was expected the system recalculates the possible locations given the last known position the possible street directions and the car speed However these operations are not hardcoded in the middleware On the contrary the common-sense reasoning engine counts on a description of how physical systems behaves and evolves This information is what entitle the reasoning engine to track a moving object through the camera network or CCTV that populates the city VII C ONCLUSION In this paper we presented our ongoing work achieved to design a middleware for smart cities In summary Civitas integrates devices ranging from small footprint devices to exible hardware devices e.j FPGA develops a set of pro“les to create common POSIXlike interfaces for developers proposes a set of standards and tools that can be the vertebral column of the future smart cities ecosystems includes common sense reasoning services in the middleware simplifying developers design The current effort is focused on creates a sandbox to provide developers a safe environment for developing and testing services Also the security model has to be designed since privacy issues regarding citizens has to be considered carefully A CKNOWLEDGMENT This research was supported by the Spanish Ministry of Science and Innovation and CDTI through projects DREAMS TEC2011-28666-C04-03 ENERGOS CEN20091048 and PROMETEO CEN-20101010 R EFERENCES  M Naphade G Bana v ar  C Harrison J P araszczak and R Morris Smarter cities and their innovation challenges 
    
Computer Ubiquitous Intelligence Computing and 9th International Conference on Autonomic Trusted Computing UIC/ATC 2012 9th International Conference on Innovative Mobile and Internet Services in Ubiquitous Computing IMIS 2012 Sixth International Conference on Utility and Cloud Computing UCC 2012 IEEE Fifth International Conference on Computer and Information Technology CIT 2012 IEEE 12th International Conference on Distributed Smart Cameras 2007 ICDSC 07 First ACM/IEEE International Conference on Acoustics Speech and Signal Processing 2007 ICASSP 2007 IEEE International Conference on Computer Wireless Communications and Mobile Computing Journal of Systems Architecture First International Conference on Knowledge Science Engineering and Management KSEM06 IEEE Internet Computing Eng Appl of AI 
 vol 44 no 6 pp 32…39 June  A L T uŽn H Quoc M Serrano M Hauswirth J Soldatos T  P apaioannou and K Aberer Global sensor modeling and constrained application methods enabling cloud-based open space smart services in  Sept pp 196…203  M F azio M P aone A Pulia“to and M V illari Heterogeneous sensors become homogeneous things in smart cities in  July pp 775…780  Z Khan and S Kiani  A cloud-based architecture for citizen services in smart cities in  Nov pp 315…320  J W an D Li C Zou and K Zhou M2m communications for smart city An event-based architecture in  Oct pp 895…900  M Quaritsch B Rinner  and B Strobl Impro v ed agent-oriented middleware for distributed smart cameras in  Sept pp 297…304  B Rinner  M Jo v ano vic and M Quaritsch Embedded middle w are on distributed smart cameras in  vol 4 April pp IV…1381…IV…1384  C Lee S Baik and C Lee Building an inte grated service management platform for ubiquitous cities  vol 44 no 6 pp 56…63 June  F  Mo ya D V illa F  J V illanue v a J Barba F  Rincn and J C Lpez Embedding standard distributed object-oriented middlewares in wireless sensor networks  vol 9 no 3 pp 335…345 2009  J D Dondo J Barba F  Rincn F  Mo ya and J C Lpez Dynamic objects Supporting fast and easy run-time recon“guration in fpgas  vol 59 no 1 pp 1  15 2013 A v ailable http://www.sciencedirect.com/science/article/pii/S1383762112000860  S F ahlman Mark er passing inference in the scone kno wledge-base system in  Springer-Verlag Lecture Notes in AI 2006  O M Alliance Mobile location protocol  Open Mobile Alliance Tech Rep 2011  M Henning  A ne w approach to object-oriented middle w are   vol 8 no 1 pp 66…75 2004  M J Santo“mia S E F ahlman X del T oro F  Mo ya and J C L  opez A semantic model for actions and events in ambient intelligence  vol 24 no 8 pp 1432…1445 2011 
450 


                       a MSE                       b MRE                       c Entropy Fig 6 Performance of CM CS and HC for a synthetic Zip“an distribution with xed relative size of 50 skew shown in brackets with 1 size HC and CS have lower errors with CS outperforming HC only at smaller sizes For 100 size CS has an average error of 1.44 and HC has 0.27 but the averages rise to 3.39 and 4.47 at 1 relative size VI D ISCUSSION The results presented in the previous section provide the rst examination of the performance of sketches for probability estimation The results show that there is a signi“cant performance difference between uniform and Gaussian distributions on the one hand and Zip“an distributions on the other In a perfect uniform distribution CM performs extremely well with virtually no errors whereas CS has signi“cant errors The frequencies estimated by CM                       a Uniform                       b Gaussian                       c Zip“an Fig 7 Performance of CM CS and HC for different synthetic data sets with relative sizes decreasing by two orders of magnitude relative size shown in brackets are the sum of a number of counters and therefore when all counters have the same frequency CM will perform very well so long as the items are evenly spread among the columns by the hash functions The more items there are the better the spread is likely to be and small uctuations in the number of items hashed into each column have less impact on the total counts Thus CM will overestimate the frequencies but will correctly nd the correct probabilities In contrast for CS the expected value of all counters would be zero but small uctuations caused by an uneven spread has a larger impact It can happen that the frequency estimated by CS is negative in which case there is no information available about the true frequency except the lower-bound that the 85 


item was seen If the true frequency is high then the discrepancy can become very large This cannot happen with CM The results for the Gaussian distribution are very similar to those of the uniform distribution but the errors are a little larger This is because the true frequencies in the Gaussian distribution do not vary by very large amounts Increasing the standard deviation lowers the errors because the frequencies become even more similar With the Zip“an distribution however the frequencies are scale-free That is there are very large differences in the true frequencies with a small number of items appearing a very large number of times and most items appearing only once For these distributions CM has the largest error because the heavy hitters can have a very large impact on a large number of items This is particularly true as the sketches become smaller and it is harder to avoid collisions with the most frequent items On the other hand CS can detect when an item has collided with a heavy hitter because its frequency is estimated as a negative number When this happens the frequency used is just one which is likely to be close to the true count for a non-heavyhitter CS therefore only needs to avoid heavy-hitters colliding with other heavy-hitters too often which is easier to do Although some measures have been used in this paper to examine the performance of sketches for probability estimation they are not objective The best that can be hoped for is to compare one or more estimators and consider their performance relative to each other but there can be no objective method of declaring an estimator to be good enough The question of whether an estimator is good enough depends entirely on what it will be used for We have therefore provided a straightforward estimator HC for comparison which we hope places the performance of the sketches into some context but we remain cautious about drawing strong conclusions from these results VII C ONCLUSION In this paper we have considered the use of sketches for estimating the probability of all items in very large data sets The sketches are memory-ef“cient data structures designed for identifying and estimating the frequency of so-called heavy-hitters They are however in theory capable of estimating the frequency of all items To the best of our knowledge this is the rst attempt to examine their applicability to this problem In order to gain some understanding of the performance of the sketches we considered three metrics mean square error mean relative error and the error in entropy estimation Our results show that for uniform and Gaussian distributions the CM sketch performs very well even with very small sketch sizes whereas CS performs less well estimating the entropy incorrectly by an average of over 10 For Zip“an distributions however it is CS that performs best with increasingly better performance as the data set becomes more skewed The measures we have used are not objective and inherently it is impossible to declare an estimator good enough without reference to a speci“c task Thus the results in this paper are illustrative and suggestive only Additionally we considered only pure distributions which may not be re”ected in real data In particular data may be mixtures of different distributions We do conclude however that the sketches produce estimates with smaller errors than might seem likely from their construction which suggests that for some applications at least sketches need not be restricted only to the problem of nding the most frequent items In the future we would like to examine how the sketches perform with real data sets and whether even small errors as seen in the entropy estimations might affect the ranking of items for feature selection algorithms A CKNOWLEDGMENT Anthony Kleerekoper gratefully acknowledges funding from the EPSRC APT Platform Grant EP/G013500/1 Dr Luj  an is supported by a Royal Society University Research Fellowship R EFERENCES  Ga vin Bro wn A n e w perspecti v e for information theoretic feature selection In International Conference on Arti“cial Intelligence and Statistics  pages 49…56 2009  Thomas M C o v e r and Jo y A Thomas Elements of information theory  John Wiley  Sons 2012  Isabelle Guyon and Andr  e Elisseeff An introduction to variable and feature selection The Journal of Machine Learning Research  3:1157…1182 2003  Moses Charikar  K e vin Chen and Martin F arach-Colton Finding frequent items in data streams In Automata Languages and Programming  pages 693…703 Springer 2002  Graham Cormode and S Muthukrishnan An impro v e d data stream summary the count-min sketch and its applications Journal of Algorithms  55\(1 2005  Noga Alon Y ossi Matias and Mario Sze gedy  The space complexity of approximating the frequency moments In Proceedings of the twenty-eighth annual ACM symposium on Theory of computing  pages 20…29 ACM 1996  Ilya Katso v  Probabilistic data structures for web analytics and data mining 2012  Graham Cormode and Marios Hadjieleftheriou Methods for nding frequent items in data streams The VLDB Journal  19\(1 2010  Graham Cormode Sk etch techniques for approximate query processing Foundations and Trends in Databases NOW publishers  2011 86 


 Lecture 4.3 INTERNATIONAL TEST CONFERENCE                                        9    signals including high-speed digital waveforms. Unlike high-end oscilloscopes, ATE usually does not have CDR capability integrated into the hardware. While a waveform sampler performs under-sampling of the test signal, the captured waveform is influenced by slow jitter. The purpose of this work is to remove slow jitter effects such as SSC in a high-speed digital signal and restore a fine waveform and eye pattern. The test signal is a PRBS bit stream. Slow jitter reduction is realized by post processing whose steps are  PRBS becomes extremely wideband multi-tone  Jitter is PM onto each tone  Original tones can be recovered by Equation \(11 which is constructed by the modulation signal e measured signal \(cos  d its orthogonal signal sin    Each modulated tone is extracted as a group and demodulated by the ODM, recovering the modulation signal   The sin  is generated by 90 degree rotation from the cos  The FFT & IFFT method takes care of this processing  Recovered tones are equalized power-wise to their original modulated state  CWR by the factor of Nx reconstructs a PRBS waveform  A second CWR by the factor of the number of bits eg. 127\onstructs an eye pattern Finally the developped processing procedure succeeded to reconstruct clear refined PRBS waveforms and wide open eye patterns. The key in the processing is that Equation 11\ is derived as a relatively simple combination of acceptable processing components. This paper mainly discussed an example of a 7 Gbps 127-bit PRBS signal containing a jitter of 5kHz. The waveform sampler employed in the experiment has an actual sampling rate of 110 Msps and the ABW of 10 GHz. Reduction of slow jitter and SSC is demonstrated in the examples. The multitone spectrum appearance in under-sampling situation greatly depends on the PRBS bit length and the bit rate of the signal. The sampling condition should be carefully chosen for the aliased multi-tone spectra to fall in the baseband with as even spacing as possible to avoid overlapping of the jitter-modulated spectrum with each other. If the Fs and ABW of sampler are given, the higher the PRBS bit rate and the shorter the PRBS bit length, the better for wider tone spacing 6. References 1  Takashi Ito, Hideo Okawara, and Jinlei Liu, \223RNA Advanced Phase Tracking Method for Digital Waveform Reconstruction,\224 Proceedings IEEE Int Test Conference 2012, Paper18.3 2  223V93000 System Reference Manual,\224 Advantest 2013 3  Matthew Mahoney, \223Chapter 4: Coherence and Coherent Sampling,\224 DSP Based Testing of Analog and Mixed-Signal Circuits IEEE Computer Society Press 1987, pp.45-58 4  Hideo Okawara, \223DSP-Based Testing Fundamentals 47: Coherent Waveform Reconstruction,\224 Advantest\222s Go/semi Newsletter December 2012 5  Hideo Okawara, \223DSP-Based Testing Fundamentals 8: Under-sampling,\224 Verigy\222s Go/semi Newsletter  December 2008 6  Hideo Okawara, \223Elegant Construction of SSC Implemented Signal by AWG and Organized Undersampling of Wideband Signal,\224 Proceedings IEEE Int Test Conf 2011, Paper 11.2    


  


Bottom Top A B 
Figure 15 Figure 16 
messages seen for all workers in a superstep \(Figures 10 and 13\. When looking at the messages sent by workers in a superstep for METIS, we see that there are message load imbalances within work ers in a superstep, caused due to concentration of vertices being traversed in that superstep in certain partitions This variability is much more pronounced in CP as compared to WG \(Figures 11 and 14\ E.g. in superstep 9 for CP, twice as many messages \(4M\ are generated by a worker compared to another \(2M\.  For Pregel BSP, the time taken in a superstep is determined by the slowest worker in that superstep. Hence increase d variability in CP causes even goodŽ partitioning strategies to cause an increase in total execution time wh en using the Pregel/BSP model VIII A NALYSIS OF E LASTIC C LOUD S CALING  Cloud environments offer elasticity … the ability to scale-out or scale-in VMs on-demand and only pay for what one uses [28   On th e f l i p s i de  on e en ds u p  paying for VMs that are acquired even if they are underutilized. We have already shown the high variation in compute/memory resources used by algorithms like BC and APSP across different supersteps. While our earlier swath initiation heuristics attempt to flatten these out by overlapping swath executions, one can consider leveraging the clouds elasticity to, instead, scale up and down the concurrent workers \(and graph partitions\ allocated in each superstep The peak and trough nature of resource utilization combined with Pregel/BSPs synchronous barrier between supersteps offers a window for dynamic scaleout and …in at superstep boundaries. Peak supersteps can greatly benefit from additional workers, while those same workers will contribute to added synchronization overhead for trough supersteps We offer an analysis of the potential benefits of elastic scaling by extrapolating from observed results for running BC on WG and CP graphs, using four and eight workers.  To provide a fair and focused comparison, we turned off swath heuristics in favor of fixed swath sizes and initiation intervals Figure 15 \(Bottom\ plots the speedup of BC running on eight workers when normalized to BC running on four workers, at corresponding supersteps.  The number of workers does not impact the number of supersteps We also plot the number of active vertices \(i.e. vertices still computing for a given swath\these supersteps which is a measure of how much work is required \(Fig 15 \(Top\. We find that we occasionally get superlinear speedup spikes \(i.e. >2x\ that shows a strong correlation with the peaks of active messages, for both WG and CP graphs. At other times, the sp eedup is sublinear or even a speed-down \(i.e. <1\responding to inactive vertices.  The superlinear speedup is attributable to the lower contention and reduced memory pressure for 8 workers when the active vertices peak \(similar to what we observed for the swath initiation heuristics Similarly, the below par speedup during periods of low activity is contributed by the increased overhead of barrier synchronization across 8 workers. Intuitively, by dynamically scaling up the number of workers for supersteps with peaking active vertices and scaling them down otherwise, we can leverage the superlinear speedup and get more value per worker Using a threshold of 50% active vertices as the threshold condition for between 4 and 8 workers in a superstep, we extrapolate the time per superstep and compared this to the fixed 4 and 8 worker runtimes. We also compute the best-case run time using an oracleŽ approach to i.e. for each superstep, we pick the minimum of the 4 or 8 workers time.  Note that these projections do not yet consider the overheads of scaling, but are rather used to estimate the potential upside if we had an ideal or an automated heuristic for scaling. The total time estimates for running BC on WG and CP graphs, normalized to  
 plot shows speedup of 8 workers relative to 4 workers, for each superstep, when running BC on WG and CP graphs plot shows the number of vertices active in that superstep Estimated time for BC using elastic scaling, normalized to time taken for 4 workers. Normalized cost is shown on secondary Y axis WG graph shown on left CP graph shown on right. Smaller is better 
022\011 022\010 022\007 022\002 006 002 007 006 002 007 010 011 012 013 014 015 006 006\003\002 006\003\007 006\003\010 006\003\011 006\003\012 006\003\013 006\003\014 006\003\015 006\003\016 002 027\031\030\037\020#@\020"\031\030\027\020\035 0201!2#\024$#\015#5\024",\020"#\017\003"\003\031\003#\011#5\024",\020"\035 024"'\033\026\0309\0201#\\031\020 2 035#\032\020"#+!\034 017\020\021\022\023\024\024\025\026\020 027\030\031\022\032\033\031\020\034\031\035 017\020\021\022\023\024\024\025\026\020#?#/\027\031\030\037\020#@\020"\031\030\027\020\035 027\030\031\022\032\033\031\020\034\031\035#?#/\027\031\030\037\020#@\020"\031\030\027\020\035 036\030\034\020\033"#\\0201!2 006 006\003\007 006\003\011 006\003\013 006\003\015 002 002\003\007 006 006\003\002 006\003\007 006\003\010 006\003\011 006\003\012 006\003\013 006\003\014 006\003\015 006\003\016 002 011#5\024",\020 B\034\0267 015#5\024",\020 B\034\0267 1\0332\031\030\037\020 030\034\025 1\0332\031\030\037\020 036\024\017\020 024!\0341 024\035\031#>\024"'\033\026\0309\0201#\031\024#\011#5\024",\020"#.\024\035\031 017\020\021\022\023\024\024\025\026\020#+!\034\022&\030'\020#>\024"'\033\026\0309\0201#\031\024#\011#5\024",\020"#&\030'\020 011#5\024",\020"#&\030'\020 015#5\024",\020"#&\030'\020 024\035\031 006 006\003\007 006\003\011 006\003\013 006\003\015 002 002\003\007 002\003\011 002\003\013 006 006\003\002 006\003\007 006\003\010 006\003\011 006\003\012 006\003\013 006\003\014 006\003\015 006\003\016 002 011#5\024",\020 B\034\0267 015#5\024",\020 B\034\0267 1\0332\031\030\037\020 033\026\030\034\025 1\0332\031\030\037\020 036\024\017\020 024!\0341 024\035\031#>\024"'\033\026\0309\0201#\031\024#\011#5\024",\020"#.\024\035\031 027\030\031\022\032\033\031\020\034\031\035#+!\034\022&\030'\020#>\024"'\033\026\0309\0201#\031\024#\011#5\024",\020"#&\030'\020 011#5\024",\020"#&\030'\020 015#5\024",\020"#&\030'\020 024\035 031 
 
dynamically scaling ideal scaling 
Our hypothesis is that an intelligent adaptive scaling of workers can achieve a similar performance as a large, fixed number of workers, but with reduced cost 
213 


Nature Nature Ecological Applications Nature ACM International Conference on Management of Data \(SIGMOD In Parallel Object-Oriented Scientic Computing \(POOSC Science Communications of the ACM ACM Workshop on Mining and Learning with Graphs Communications of the ACM HotCloud Proceedings of the 19th ACM International Symposium on High PErformance Distributed Computing HPDC Knowledge and Information Systems KAIS International Conference on Computational Science IEEE International Conference on Cloud Computing Technology and Science ACM/IEEE Conference on Advances in Social Network Analysis and Mining \(ASONAM IEEE International Parallel and Distributed Processing Symposium \(IPDPS International Conference on Distributed Computing and Networking Journal of Mathematical Sociology International Conference on Parallel Processing Communications of the ACM 
 
observed time taken using 4 workers, are plotted in Figures 16\(A\ and 16\(B We see that our dynamic scaling heuristic using the percentage of active vertices achieves nearly the same CP\ or better \(WG\ performance as a fixed 8 worker approach. Clearly there is benefit of using fewer workers for low utilization su persteps to eliminate the barrier synchronization overhead. Also, the dynamic scaling heuristic performs almost as well as the ideal scaling. Finally, when we consider the monetary cost of the proposed approaches, assuming a pro-rata normalized cost per VM-second plotted on the secondary Y axis, we see that dynamic scaling is comparable \(CP\ or cheaper \(WG\ than a 4 worker scenario while offering the performance of an 8 worker deployment IX C ONCLUSION  In conclusion, we introduce optimization and heuristics for controlling memory utilization and show they are critical to performance.  By breaking computation into swaths of vertices and using our sizing heuristics we achieve up to 3.5x speedup over the maximum swath size that does not cause the a failure.  In addition overlapping swath executions can provide a 24% gain with automated heuristics and even greater speedup when a priori knowledge of the network characteristics is applied This evaluation offers help to eScience users to make framework selection and cost-performancescalability trade-offs. Our he uristics are generalizable and can be leveraged by other BSP and distributed graph frameworks, and for graph applications beyond BC. Our work uncovered an unexpected impact of partitioning and it would be worthwhile, in future, to examine the ability to pred ict, given certain graph properties, a suitable partitioning model for Pregel/BSP It may also be useful to perform such evaluations on larger graphs and more numbers of VMs. At the same time, it is also worth considering if non-linear graph algorithms are tractable in pr actice for large graphs in a distributed environment B IBLIOGRAPHY  1  F  L i lj er os C   Ed l i n g L  A m a r a l H  S t an ley   and Y    berg The web of human sexual contacts 
vol. 411, pp. 907908, 2001   H Je o n g  S   Ma so n A  L   B a ra b s i  a nd Z   Oltva i  L e t ha l i t y  and centrality in protein networks vol. 411, pp. 41-42 2001   O. B o din and E   E s t r ada    U s i n g n e t w ork c e nt r a l i t y  m e a s ures t o  manage landscape connectivity vol 18, no. 7, pp. 1810-1825, October 2008   D. W a ts s  and S  S t r ogat z  C olle c t i v e  d y nam i cs of  s m a ll-w orl d   networks vol. 393, no. 6684, pp. 440…442, June 1998   G  Ma lew i c z   M A u s t er n A   Bik  J   Dehn er t I  Hor n   N. L e i s er and G. Czajkowski, "Pregel: A system for large-scale graph processing," in 2010   D. G r egor  and A  L u m s dain e  T h e  pa r a llel  B G L  A gen e r i c  library for distributed graph computations," in 2005   B. S h a o  H. W a n g  and Y  L i T he T r init y G r aph E n g i n e    Microsoft Research, Technical Report MSR-TR-2012-30, 2012   A  F ox  C lo ud c o m putin g w h at  s  in it for m e  as  a  s c i e n tis t     vol. 331, pp. 406-407, 2011   S. G h e m a w a t  and J  De an   Map re duc e s i m p lifi e d data  processing on large clusters vol 51, no. 3, pp. 107-113, 2008   J  L i n and M. S c hat z   Des i g n  patt er n s  for eff i ci ent gr aph algorithms in MapReduce," in 2010   L   Va l i ant   A b r id g i n g m o d e l f or pa r a llel com putati o n  vol. 33, no. 8, pp. 103-111, 1990 12 a c h e  Ha ma    O n l i n e    http://hama.apache.org   13 Ap a c h e  Ha d o op    O n l i n e    http://hadoop.apache.org     M Z a h a r i a, M. Ch ow dhu ry M F r ank l in S  S h e n k e r, and I   Stoica, "Spark: Cluster Computing with Working Sets," in 2010   J  Ekana y ak e e t a l     T w i st er A  r untim e f o r it er ati v e  MapReduce," in Chicago, 2010, pp. 810-818   U. K a n g  C  T s o u rakakis   and C. F a l outs o s  Peg a s us   Minin g  Peta-scale Graphs," in 2010   M. P a c e  B S P vs  MapR e duc e    in vol. 103.2081, 2012   S. Seo  E  Yoo n, J  K i m  S  J i n  J-S. K i m   and S   Ma e n g HAMA: An Efficient matrix computation with the MapReduce framework," in 2010, pp. 721-726   S. S a l i h ogl u  and J  W i d o m  G PS A G r a ph P r oc e s s i n g Sy s t em    Stanford University, Technical Report 2011   R L i cht e n w a l t e r and N   Cha w la D is Ne t  A fr am ew ork for  distributed graph computation," in  2011   K  Maddu r i  D. E d i g er K   J i an g  D. Bad e r  and D  Cha v a r riaMiranda, "A faster parallel algorithm and efficient multithreaded implementations for evaluating betweenness centrality on massive datasets," in 2009   E  K r e p s k a, T  K i el m a nn, W  F o kkink, H   Ba l, "A  hi g h level framework for distributed processing of large-scale graphs," in 2011, pp. 155-166   L   Pa ge  S  B r in R. M o t w ani and T  W i nogr ad  T h e P a geRank citation ranking: Bringing order to the web," Stanford InfoLab Technical Report 1999-66, 1999   U  Brand  s  A f a s t er  a l gor ith m for  b e t w eenn e s s c e nt r a l i t y    vol. 25, no. 2, pp. 163-177 2001   Stan fo r d  Net w or k A na l y s is Pro j e c t  O n l in e    http://snap.stanford.edu    I  S t ant o n and G  K l i o t, "S t r e a m i n g G r aph P a rtiti o n in g  for L a rge Distributed Graphs," Microsoft Corp., Technical Report MSRTR-2011-121, 2011   G   K a ry pis and V   K um a r A fas t and hi g h qua l i t y m u l t i l evel scheme for partitioning irregular graphs," in 1995, pp. 113-122   M. A r m b r u s t e t  a l   A v i ew of  c l o u d  c o m putin g    vol. 53, no. 0001-0782, pp. 50-58 April 2010  
214 


  13  or gani c  c he m i s t r y  i n our  Sol ar  Sy s t e m       Xi a n g  L i r e c e i v e d h i s B  S   m is tr y  fr o m  th e  P e k in g  U n iv e r s ity  C h in a  in  2 0 0 3  and P h D   i n P hy s i c al  C he m i s t r y  f r om  t he  J ohns  H opk i ns  Un i v e r s i t y  i n  2 0 0 9   He  h a s  b e e n  a  R e s e a r c h  A s s o c i a t e  wi t h  a  j o i n t  a p p o i n t m e n t  a t  t h e  U n i v e r s i t y  o f  M a r y l a n d   Ba l t i m o r e  C o u n t y  a n d  N AS A G o d d a r d  S p a c e  Fl i  Ce n t e r  s i n c e  2 0 1 1   H i s  r e s e a r c h  f o c u s e s  o n  t h e  d e t e c t i o n  of  t r ac e  e l e m e nt  and as t r obi ol ogi c al l y  r e l e v ant  or gani c  mo l e c u l e s  i n  p l a n e t a r y  s y s t e ms   l i k e  M a r s   He  i s  es p eci a l l y i n t er es t ed  i n  t h e d evel o p m en t  o f  T i m e of  and I on T r ap m as s  s pe c t r om e t e r s w i t h v a r i o u s i o n i z a t i o n  ng te c h n iq u e s   Wi l l  B r i n c k e r h o f f  sp a c e  sc i e n t i st  i n  t h e  Pl a n e t a r y  En v i r o n m e n t s  La b  a t  N A S A  s  G o d d a r d  Spac e  F l i ght  C e nt e r  i n Gr e e n b e l t   M D w i t h  pr i m ar y  r e s pons i bi l i t y  f or  th e  d e v e lo p m e n t o f th e  L D TO F  m a s s  s p e c t r o  th is  p r o je c t H e  h a s  fo c u s e d  re c e n t l y  o n  t h e  d e v e l o p m e n t  o f  m i n i a t u re  l a se r d ma s s  s p e c t r o me t e r s  f o r  f u t u r e  p l a n e t a r y  mi s s i o n s  a l o n g  wi t h  b a s i c  e x p e r i m e n t a l  r e s e a r c h  i n  a s t r o b i o l o g y  a n d  p r e bi ot i c  s y nt he s i s   D r   B r i nc k e r hof f  i s  i nv ol v e d i n t he  de v e l opm e nt  of  m as s  s pe c t r om e t e r  f or  bot h t he  2011 Ma r s  S c i e n c e  L a b o r a t o r y  a n d  t h e  2 0 1 8  E x o Ma r s  mi s s i o n s   


  14   


Copyright © 2009 Boeing. All rights reserved  Issues and Observations Initial load of one day of data ~ 7 hours Optimizations  Write data in batches  Use a mutable data structure to create data strings  Deploy a higher performance machine  Use load instead of insert  Use DB2 Range-Partitioned tables  Database tunings Time reduced from 7 hours to approx 30 minutes 


Copyright © 2009 Boeing. All rights reserved  Optimizations Use a mutable data structure to create data strings  Original application created the SQL statement by appending elements to a Java String  It was taking five hours \(of the seven hours Strings  Instead Java StringBuilder used  Java Strings immutable  Time savings of 71.4 


Copyright © 2009 Boeing. All rights reserved  Optimizations Deployed on a higher-performance machine  Application ported from IBM Blade Center HS21 \(4GB of RAM and 64-bit dual-core Xeon 5130 processor to Dell M4500 computer \(4GB of RAM and 64-bit of quad-core Intel Core i7 processor  Reduced the time to thirty minutes Bulk loading instead of insert  Application was modified to write CSV files for each table  Entire day worth of data bulk loaded  Reduced the time to fifteen minutes 


Copyright © 2009 Boeing. All rights reserved  Optimizations Range-Partitioned tables \(RPT  To limit the size of tables, the original code created multiple tables per table type  This puts burden on the application to query multiple tables when a range crosses several tables  With RPT, user is not required to make multiple queries when a range crosses a table boundary  Increased the time to thirty minutes  Additional fifteen minute cost per day of partitioning enabled time savings during queries 


Copyright © 2009 Boeing. All rights reserved  Optimizations Database tunings  Range periods changed from a week to a month  Automatic table space resizing changed from 32MB to 512KB  Buffer pool size decreased  Decreased the time to twenty minutes Overall, total time savings of 95.2 


Copyright © 2009 Boeing. All rights reserved  20 IBM Confidential Analytics Landscape Degree of Complexity Competitive Advantage Standard Reporting Ad hoc reporting Query/drill down Alerts Simulation Forecasting Predictive modeling Optimization What exactly is the problem What will happen next if What if these trends continue What could happen What actions are needed How many, how often, where What happened Stochastic Optimization Based on: Competing on Analytics, Davenport and Harris, 2007 Descriptive Prescriptive Predictive How can we achieve the best outcome How can we achieve the best outcome including the effects of variability Used with permission of IBM 


Copyright © 2009 Boeing. All rights reserved Initial Analysis Activities Flights departing or arriving on a date Flights departing or arriving within a date and time range Flights between city pair A,B Flights between a list of city pairs Flights passing through a volume on a date. \(sector, center, etc boundary Flights passing through a volume within a date and time range Flights passing through an airspace volume in n-minute intervals All x-type aircraft departing or arriving on a date Flights departing or arriving on a date between city pair A,B Flights departing or arriving on a date between a list of city pairs Flights passing through a named fix, airway, center, or sector Filed Flight plans for any of the above Actual departure, arrival times and actual track reports for any of the above 


Copyright © 2009 Boeing. All rights reserved  Initial SPSS Applications Show all tracks by call sign 


Copyright © 2009 Boeing. All rights reserved  Predictive / Prescriptive Analytics Use-Case For a given Airspace Volume of Interest \(AVOI compute distinct traffic volume at some point in the future  Aim to alert on congestion due to flow control areas or weather if certain thresholds are exceeded  Prescribe solution \(if certain thresholds are exceeded Propose alternate flight paths  Use pre-built predictive model  SPSS Modeler performs data processing Counts relevant records in the database \(pattern discovery Computes traffic volume using statistical models on descriptive pattern Returns prediction with likelihood 


Copyright © 2009 Boeing. All rights reserved  Predictive / Prescriptive Analytics Use-Case Advanced Arrival Procedures with Active Abatement Potentials   9/23/10  24 Pulls in the TRACKINFO table of MAIN using SQL Limits the data to database entries which fall inside the AVOI Combines the SOURCE_DATE and SOURCE_TIME to a timestamp that can be understood by modeler Computes which time interval the database entry falls in. The time interval is 15 minutes Defines the target and input fields needed for creating the model Handles the creation of the model Produces a graph based off of the model results Final prediction 


Copyright © 2009 Boeing. All rights reserved  Initial Cognos BI Applications IBM Cognos Report Studio  Web application for creating reports  Can be tailored by date range, aircraft id, departure/arrival airport etc  Reports are available with links to visuals IBM Framework Manager  Used to create the data package  Meta-data modeling tool  Users can define data sources, and relationships among them Models can be exported to a package for use with Report Studio 


Copyright © 2009 Boeing. All rights reserved  Flights Departing Las Vegas on Jan 1, 2012 1 of 3 Report shows the departure date, departure and arrival locations and hyperlinks to Google Map images DeparturePosition and ArrivalPosition are calculated data items formatted for use with Google Maps Map hyperlinks are also calculated based on the type of fix 


Copyright © 2009 Boeing. All rights reserved  Flights Departing Las Vegas on Jan 1, 2012 2 of 3 DeparturePosition, Departure Map, ArrivalPosition and Arrival Map are calculated data items \(see departure items below DepartureLatitude DepartureLongitude DeparturePosition Departure Map 


Copyright © 2009 Boeing. All rights reserved  Flights Departing Las Vegas on Jan 1, 2012 3 of 3 


Copyright © 2009 Boeing. All rights reserved  Conclusion and Next Steps Current archive is 50 billion records and growing  Approximately 34 million elements per day  1GB/day Sheer volume of raw surveillance data makes analytics process very difficult The raw data runs through a series of processes before it can be used for analytics Next Steps  Continue application of predictive and prescriptive analytics  Big data visualization 


Copyright © 2009 Boeing. All rights reserved  Questions and Comments Paul Comitz Boeing Research & Technology Chantilly, VA, 20151 office Paul.Comitz@boeing.com 


Copyright © 2009 Boeing. All rights reserved Advanced Arrival Procedures with Active Abatement Potentials   9/23/10  31 


Copyright © 2009 Boeing. All rights reserved Advanced Arrival Procedures with Active Abatement Potentials   9/23/10  32 Backup Slides 


Copyright © 2009 Boeing. All rights reserved  Initial Approach Initial Investigations  Apache Solr/Lucene  Data Warehouse Evaluate Hadoop in the future 


Copyright © 2009 Boeing. All rights reserved  Using SOLR Uncompress Track Information Messages To use with Solr  Transforming track messages from their  original schema to Solr required building a “key, value” list using an XSTL  Queries made against this list of “key, value” pairs Transformation Process  One day of data ~ 4.5 hours Once transformation complete search/query performance very good Geo spatial queries using  unique query language 


Copyright © 2009 Boeing. All rights reserved  Representation Aviation data is frequently represented in more than one form 


