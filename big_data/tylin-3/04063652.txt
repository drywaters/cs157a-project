Discovering Association Patterns in Large Spatio-temporal Databases  Eric M.H. Lee, Keith C.C. Chan Department of Computing The Hong Kong Polytechnic University Hung Hom, Hong Kong csmhlee, cskcchan}@comp.polyu.edu.hk    Abstract  Over the past few years, a considerable number of studies have been made on market basket analysis Market basket analysis is a useful method for discovering customer purchasing patterns by extracting association from stores\222 transaction databases. In many business of today, customer transactions can be made in many different geographical locations round the clock especially after e-business have become prevalent. The 
traditional methods that consider only the association rules of an individual location or all locations as a whole are not suitable for such a multi-location environment We design a novel and efficient algorithm for mining spatio-temporal association rules which have multi-level time and location granularities, in spatio-temporal databases. Experimental results have shown that our methods are efficient and we can find spatio-temporal association rules satisfactorily  1. Introduction  The traditional methods for mining association rules can discover knowledge about inter-relationship among different objects. However, the methods search 
transactions for knowledge without individually looking at the spatial and temporal domains in the database. In our daily life, people located at different places will plan for their activities based on different seasons, weekly cycle or different festivals of the places where they are. Hence, if the nature of different time intervals at different places is taken into consideration, we should be able to discover more interested association rules Different decision makers at different corporal levels may have different demands for rules interpretation from different level of time and place. That is, different granularities of time-and-place will have different 
knowledge for different executives. In order to meet the different demands of those involved in strategic and tactical decision making, we need to find the rules in every possible combination of time and place. In the cause of finding the rules in a general context \(the context here means the pair of time-and place\, we use calendarmap schema in this study to allow the rules or data to be handled at varying levels of abstractions. Hence, the method we proposed in this paper not only can discover association rules correctly in a multi-location environment,  but also can represent the rules in different granularities of time-and-place, which can satisfy 
different decision making with different demands This paper is outlined as follows. In Section 2, we will give a brief review of the previous works in spatiotemporal data mining. In Section 3, we will formally describe the main problem that will be addressed and define all the other terminology used in this paper. In Section 4, we will explain our proposed solution to the problems defined in Section 3. In Section 5, experiments with the proposed algorithms on synthetic databases will be described. Some possible future work will be discussed in Section 6. Finally, we will conclude in Section 7  2. Related Work 
 There have only been a few attempts to extend data mining for spatio-temporal data. Although several of these techniques from the temporal and the spatial data mining field can be adopted for the task of spatiotemporal data mining, with the exception of a few [2  4    there has been little work on the combination of the two However, two directions can be identified: firstly, the incorporation of time into spatial data mining systems and secondly, the incorporation of space into temporal data mining systems [3    3. Problem Description  We consider a spatio-temporal database D 
containing transactions records from multiple locations over different time periods  Our objectives are to extract association rules from the database precisely. For the sake of convenience in presentation, the cardinal of the set, say  is denoted by Let I  i 1  i 2 205 i n  be the set of product items included in D where i k  is the identifier for the k th  item. Let 
X be a set of items in I We refer to X as a k itemset if X  k Furthermore, each transaction Tran j  in D is a subset of I and is attached with a timestamp t v  and location identifier p w  to indicate the time and location when and where the transaction occurs  3.1. Calendar-map Patterns 


 Since every transaction in the database D has a location identifier p w and a timestamp t v we denote the combination of location identifiers and timestamps with calendar-map schema in this paper in explaining our algorithms. A calendar-map schema  is a relational schema S  T a  M a T a-1   M a-l 205  T 1   M 1   with a valid  constraint. Each attribute T  is a granularity name like country, province, city, year, month and week. Each domain M  is a finite subset of positive integers \(for temporal granularity\ or strings \(for spatial granularity The constraint valid  is a Boolean function on M a  001   The rule is said to hold in P i,j with confidence c For a given pair of confidence and support thresholds c and s and a given pair of time interval and location T i S j  association rules in T i S j re those which have confidence and support in P i,j greater than or equal to the support and confidence thresholds, respectively Assume that T i sub-time intervals are covered by T i  and S j sub-locations are covered by S j If an association rule holds in at least m 327 T i 327 S j combinations of locations covered by S j and time intervals covered by T i  where m is a user-defined match ratio threshold \(0 m   1\, it is said to be a spatio-temporal association rule that holds in T i and S j   4. The Proposed Approaches  In Section 4.1, we propose a way to extend Apriori, the most well-known association rule mining algorithm, to mine spatio-temporal association rules that we have defined in Section 3. We call the extended algorithm Spatio-temporal Apriori. In Section 4.2, we propose our new algorithm to mine the kind of spatio-temporal association rules. Compared with Spatio-temporal Apriori, our method is faster and consumes less memory because it scans the database at most twice  4.1. Spatio-temporal Apriori  We propose an Apriori-like method, as one of the feasible methods to find large itemsets in different calendar-map patterns, which meet the minimum support threshold defined by users. We name the calendar-map patterns, in which the large itemsets are found, frequent calendar-map patterns. We call the entire algorithm Spatio-temporal Apriori, which is an extension of Apriori Spatio-temporal Apriori also uses the Apriori_gen subroutine to find large itemsets in each basic space-time interval. Firstly, it finds all large 1-itemsets in each basic space-time interval. Then, for each basic space-time interval, it rolls up the counts of the large 1-itemsets to that in those calendar-map patterns, which cover the basic space-time intervals At last, after the first scanning of the whole database the algorithm computes the match ratio of each 1-itemsets in each n-star calendar-map patterns, which is equal to the 327 M 1   specifying which combinations of the values in M a 327 205 327 M 1  are \223valid\224. The purpose is to exclude the combinations that we are not interested in or that do not correspond to any space-time intervals Given a calendar-map schema S  T a  M a T a-1   M al 205  T 1   M 1    a calendar-map pattern on S is a tuple of the form t a  t a-1 205 t 1   where each t  is in M  or the wild-card symbol *. For example, given the calendar-map schema \(country, province, week, day, hour\, the calendar-map pattern \(USA, Florida, *, 1, 10\ means \223the 10 th hour on the first day \(i.e., Monday\of every week in Florida of USA\224 For a given calendar-map schema T a  T a-1 205 T 1 a calendar-map pattern t a  t a-1 205 t 1   covers another calendar-map pattern t a 222  t a-1 222 205 t 1 222   if and only if for each i  1 i a either t i 221*\222 or t i  t i 222 For the sake of presentation, we call a calendar-map pattern with k wildcard symbols a k-star calendar-map pattern  denoted f k    In addition, we call a calendar-map pattern with no wildcard symbol a basic space-time interval  if the combination is \223valid\224  3.2. Mining Spatio-temporal Association Rules  The problem addressed in this paper is to find, from spatio-temporal databases, spatio-temporal association rules which holds in the calendar-map schema specified by users. Mining spatio-temporal association rules in the database D is to discover every association rule, which holds in an enough number of time intervals and locations given by the corresponding calendar-map patterns. An association rule with respect to a time interval T i and a location S j is an implication of the form  Y X j i S T    where X   I  Y   I and X   Y 330. Let P i,j Z be the number of transactions containing itemset Z in partition P i,j uniquely identified by T i and S j The association rule Y X j i S T  is said to have support s in the partition P i,j if        s P Y X P j i j i 327  001   where P i,j denotes the number of transactions in partition P i,j For an association rule Y X j i S T  let         c X P Y X P j i j i 327 M al 327 205 327 M a-l 


number of \(n-1\-star calendar-map patterns covered by the n-star calendar-map pattern containing the 1-itemsets The algorithm will keep those 1-itemsets with match ratios larger than or equal to the user-defined match ratio threshold. The kept 1-itemsets and their corresponding nstar calendar-map patterns are therefore large 1-itemsets and frequent calendar-map patterns From the second pass on, we will manipulate each basic space-time interval in 3 steps in every pass: 1 Generate candidate itemsets from the large itemsets found in the previous pass. 2\ Compute the support of the candidate itemsets in the basic space-time interval. 3\ Use the count of large itemsets to update that in the n-star calendar-map patterns that cover the basic space-time interval. We repeat the 3 steps until no more large itemsets can be discovered in any calendar-map patterns Spatio-temporal Apriori can have a lot of weaknesses in term of performance and efficiency. Firstly, as in Apriori, a long database scanning time may be needed especially for large datasets. The number of database scans needed also depends on the maximum allowed length of large itemsets. Secondly, to generate candidate itemsets in each basic space-time interval, the algorithm have to keep track of all the large itemsets found in the previous pass. The large itemsets can be very large especially when there are a large number of basic time intervals and locations. Thirdly, in scanning database, the algorithm needs to keep and update the count of itemsets in the whole hierarchy of calendar-map patterns. This can be costly in term of processor and memory utilization With a view to achieving better performance, we design a new algorithm for mining spatio-temporal association rules, which will be detailed in Section 4.2  4.2. Our Method  In a common situation, an association rule is generated from a large itemset with at least two items. In Apriorilike methods, if we compare the number of candidate itemsets with that of large itemsets found, we can induce that the largest number of redundant candidates are often candidates of 2-itemset. Moreover, relatively speakingly the lower the support threshold, the more the number of redundant candidates of 2-itemset. Based on the observation, our algorithm directly starts searching for large 2-itemset instead of generating candidates of 2itemset from large 1-itemsets and then looking for large 2-itemsets within the candidates Roughly, our method for discovering spatio-temporal association rules can be divided into three phases. They are 1\iscovery of frequent 2-itemsets along with their 1star candidate calendar-map patterns, 2\generation of candidate itemsets along with all their k star candidate calendar-map patterns, and 3\ discovery of frequent itemsets along with their frequent calendar-map patterns In phase 1  we are to discover all frequent 2-itemsets L 2 in the dataset D composed of a set of partitions P i  where a partition P i is uniquely identified by a basic space-time interval T i A frequent 2-itemset l 2   L 2  discovered will then be stored with a set of 1-star candidate calendar-map patterns l 2  1 i v where  each l 2  1 i v covers the basic space-time interval T i in which l 2 is discovered l 2  V 1 is a set of all the 1-star candidate calendar-map patterns of l 2 such that l 2  1 i v   l 2  V 1   L 2  V 1   Note that L 2  and L 2  V 1  are empty initially. In the partition P 1  every frequent 2-itemset is found out and inserted into L 2   For each itemset l 2 inserted into L 2  the set of 1-star  candidate calendar-map patterns covering T 1  is kept in l 2  V 1 The repeating count of l 2 in each l 2  1 i v  is  set to 1. In the rest of the partitions P 2   P n  discovery of  frequent 2-itemsets along with their 1-star candidate calendar-map patterns is iterated partition by partition Frequent 2-itemsets in a partition P i where 2  i   n are computed with three different cases. In case 1, a frequent 2-itemset l 2 is  not currently in L 2  and therefore it is inserted into L 2  Also l 2  1 i v a set of 1-star  candidate calendar-map patterns covering T i is kept in l 2  V 1 The repeating count of l 2 in each l 2  1 i v  is set to 1. In case 2, the frequent 2-itemset l 2 is already in L 2   but a new 1-star calendar-map pattern l 2  1 i v   with respect to the current partition is found. In this case l 2  1 i v  is inserted into l 2  V 1  and l 2 222s  repeating count in l 2  1 i v  is set to 1. In case 3  the frequent 2-itemset l 2  is already in L 2   and all the corresponding 1-star calendar-map patterns l 2  1 i v  covering T i  has already been in l 2  V 1  In this case, we increase l 2 222s  repeating count in all the l 2  1 i v   by 1 In phase 2, we aggregate all other k star candidate calendar-map patterns of itemsets in L 2  from 1-star candidate calendar-map patterns. For an itemset l 2  in L 2  its repeating counts in the 1-star candidate calendar-map patterns l 2  1 j v 222s, have been derived from phase 1, and thus its repeating counts in 2-star candidate calendar-map patterns l 2  2 j v 222s, can be easily obtained. Similarly, its repeating counts in 3-star candidate calendar-map patterns l 2  3 j v 222s, can be aggregated from that in l 2  2 j v 222 s and so  on Instead of directly generating all k star candidate calendar-map patlerns in phase l, our method generates and scans only 1-star candidate calendar-map patterns in the first scan of the database. Therefore, a smaller number of candidate calendar-map patterns are generated and counted in the process of scanning database. Once all candidate calendar-map patterns of itemsets in L 2  are derived, candidate itemsets C k  for k 3 along with their 


004 005  212 212 for l  4  In the final phase, to discover the frequent patterns from candidates, all candidate itemsets along with their candidate calendar-map patterns are counted in the database in one shot. Note that a candidate itemset is only scanned in the space-time intervals covered by its candidate calendar-map patterns. Our algorithm reduces the database access time by limiting the number of database scanning time to at most twice. It makes use of the concept hierarchy of spatial and temporal domain to reduce the number of candidates that need to be searched in scanning database  5. Experiments  In this section, we perform a simulation study to empirically compare the runtime and number of generated patterns of the proposed methods. The proposed algorithms are implemented and tested with the following hardware and software configuration  1\ Operation system: Windows XP 2\ Hardware: Pentium 3.0G CPU, 1024M main memory 3\Tool: Java 2 Standard Edition Version 1.4.2  5.1. Experiment 1  We use four different sets of synthetic data  L 10 F l 3 D 6M L 10 F l 4 D 6M  L 10 F l 5 D 6M\, and L 10 F l 6 D 6M\, to generate around 1000 transactions for each basic space-time intervals D is Number of Transactions F l is Average length of maximum potentially frequent itemsets L is Average Length of Transactions. We also apply different support thresholds, 0.06, 0.07, 0.08, 0.09 and 0.1, to investigate how the performance of the two methods, i.e our proposed new method and Spatio-temporal Apriori will vary with different support thresholds. The match ratio threshold is defined to be 0.8 in this experiment Table 1 contains the numbers of frequent calendar-map patterns and frequent patterns, as well as the maximum length of the frequent itemsets, found in the four sets of data with the two methods and the five different support thresholds. Figure 1 shows a plot of runtime time of the two methods with the 4 datasets against the different support thresholds In analyzing Table 1 and Figure 1, we discover that when the maximum length of frequent itemsets becomes larger, if the number of candidate calendar-map patterns increases, then the runtime of Spatio-temporal Apriori will increase tremendously. When the maximum length of frequent itemsets becomes smaller, if the number of candidate calendar-map patterns increases, then the runtime of Spatio-temporal Apriori will increase but the increase tends to be slower. Our explanation is that when the maximum length of frequent itemsets becomes larger Spatio-temporal Apriori has to scan the database for more times. Even worst, when there are more candidate calendar-map patterns that have to be checked in each scanning of database, the adverse influence on execution runtime will become more apparent. Our method, on the candidate calendar-map patterns can further be generated Note that two kinds of candidates are generated in this phase, i.e., the candidates of frequent itemsets \(candidate itemsets for short\, and the candidates of frequent calendar-map patterns \(candidate calendar-map patterns for short\. The set of candidate k itemsets, i.e C k  of k  3 are generxted as follows  004 005    However, by utilizing I 222s repeating counts in V I  I   L 2 we can find the minimal set of candidate calendar-map patterns for each itemset in C 3 From the Equation above it is clear that the repeating count of a candidate calendarmap pattern of an itemset 3 k I in C 3  count v k I 327 007 006 Finally, the candidate calendar-map patterns of C k  k  4, are obtained by     1 1 1 l k l j I I I I V V l j k 003\003  kj k j I v I V   Intuitively, the candidate calendar-map patterns of an itemset 3 k I in C 3 can be derived by intersecting the candidate calendar-map patterns of itemsets which are the subsets of 3 k I in L 2 as below     3 2 2 3 k j I I I I V V j k 006 3 will never be larger than any count v j I 006 2  3 2 k j I I 004 005 Hence, the maximal value of count v k I 006 3  count v k I 006 3 210 can be obtained by    min 210 3 2 2 3 k j I I I I count v count v j k 004 005 006  006   Furthermore, for each 3 k I  3 k I v is removed if    210 3 3 k k I I v m count v  002  002  212 212 3  if 3  if 1 1 2 2 k C C k L L C k k k   where * is the JOINT operation given in [1    Let the set of candidate calendar-map patterns V I  where I is a candidate itemset, be  11    


other hand, will scan the database at most twice, so the impact of the maximum length of frequent items is less apparent. The impact of an increase in the number of candidate calendar-map patterns is also not as vigorous as that in applying Spatio-temporal Apriori. Hence, our method has better performance in term of execution runtime compared with Spatio-temporal Apriori                      Fig. 1. Experiment 1: Comparison of execution time between Spatio-temporal Apriori and our method  5.2. Experiment 2  We use another four data sets of different sizes in this experiment. They are L 10 F l 4 D 4M  L 10 F l 4 D 6M L 10 F l 4 D 8M\ and  L 10 F l 4 D 10M\. On average, there are 1000 transactions in each basic space-time interval. We apply different support thresholds, 0.06, 0.07, 0.08, 0.09 and 0.1 respectively, to investigate the differences of the two methods in runtime with data sets of different sizes. The match ratio threshold defined in this experiment is 0.8 Figure 2 is, under the data sets of four different sizes how the performance of the two methods will change with different support thresholds. The dotted lines are the runtime of Spatio-temporal Apriori whereas the solid line is that of our proposed new method. Figure 3 is, under the different support thresholds, the number of candidate itemsets and the discovered frequent itemsets from the four data sets with the two methods. Figure 4 is, under the different support thresholds, the number of candidate calendar-map patterns and the discovered frequent calendar-map patterns from the four data sets with the two methods. Before the experiment, we know that the number of scanning times in Spatio-temporal Apriori depends on the allowed maximum length of frequent itemsets. From the figures, we can see that when the sizes of data sets become larger, Spatio-temporal Apriori which relatively needs more number of scanning times has runtime increasing in phase with the sizes of the data sets. What is more, the phenonemun is more apparent when the support threshold becomes smaller. This is because, with a smaller support threshold, there are more candidates that need to be checked in each scanning From Figure 2, we can deduce that our method outperforms Spatio-temporal Apriori in term of execution runtime with all the data sets of different sizes              Fig. 2. Experiment 2: Comparison of execution time between Spatio-temporal Apriori and our method   Fig. 3. Experiment 2: Average number of candidate itemsets and frequent itemsets found by Spatio-temporal Apriori and our method  0.06        


Table 1. Experiment 1: The numbers of candidate and frequent calendar-map patterns as well as the maximum length of generated frequent itemsets by Spatio-temporal Apriori and our method Support threshold  0.06 0.07 0.08 0.09 0.1 Spatio-temporal Apriori 65422 40122 28344 22476 15887 Candidate Calendar-map patterns of Our Method 72987 46112 29987 24929 17842 Discovered frequent calendar-map patterns 64849 39591 28068 22212 14731 L=10;F l 3;D=6M Maximal length of frequent itemsets 7 6 6 5 5 Spatio-temporal Apriori 205891 133929 73778 48733 29274 Candidate calendar-map patterns of Our Method 212939 174211 89913 55207 34686 Discovered frequent calendar-map patterns 198446 128493 71426 46619 27754 L=10;F l 4;D=6M Maximal length of frequent itemsets 8 8 8 6 6 Spatio-temporal Apriori 56021 45431 34217 18193 6151 Candidate calendar-map patterns of Our Method 55463 46087 36559 25584 9424 Discovered frequent calendar-map patterns 52944 43429 31733 16547 5408 L=10;F l 5;D=6M Maximal length of frequent itemsets 6 6 6 6 6 Spatio-temporal Apriori 180694 122017 48051 9785 1323 Candidate calendar-map patterns of Our Method 192268 138011 83421 21125 2411 Discovered frequent calendar-map patterns 162645 105671 42126 8972 1072 L=10;F l 6;D=6M Maximal length of frequent itemsets 9 8 8 6 4                  Fig. 4. Experiment 2: Average number of candidate and frequent calendar-map patterns found by Spatio-temporal Apriori and our method  6. Future Work   First, we would like to explore other meaningful semantics of spatio-temporal association rules and extend our techniques to solve the corresponding data mining problems. Second, we would like to consider spatiotemporal patterns in data mining problems other than association rule mining, such as clustering. Third, mining spatio-temporal patterns involves investigating not only large itemset space and pattern space, but also a large amount of data collected in a long history. It is thus crucial to develop parallel or distributed algorithms for large scale data mining. It would also be interesting to devise online incremental algorithms for this problem  7. Conclusions   This work presented a new approach to solve the association rule mining problem handling the spatial and temporal dimension, i.e., the problem of spatio-temporal association rule mining. We have proposed an algorithm to discover spatio-temporal association rules that appear over any time intervals and locations in a spatio-temporal database. Existing algorithms fail to mine quite evident spatio-temporal association rules, which justifies the need of a new approach. We have also proposed a way to extend Apriori, the most well-known association rule mining algorithm, to mine spatio-temporal association rules. Experimental results have shown that our proposed new method is more efficient than the Apriori-like approach. An explanation of the experiment results is that the number of database scanning time in Apriori-like approaches increases with the maximum allowed length of frequent itemsets but our method scans the target database at most twice  8. References   A g ra w a l  R   a n d S r i ka nt  R  1994  F a s t A l go r i t hm s  for Mining Association Rules,\224 in Proc. of the 20 th Int\222l Conf. on Very Large Data Bases Santiago, Chile, pp 487\226499  2 H a d j ie le f t h e r i o u M  K o llio s  G  G u n o p u l o s D   a n d  Tsotras, V. J. \(2003\On-Line Discovery of Dense Areas in Spatio-temporal Databases,\224 in Proc. of SSTD\22203 pp 306\226324   o ddic k  J  F  a nd S p iliopoulou, M 1999\A Bibliography of Temporal, Spatial and Spatio-Temporal Data Mining Research,\224 in SIGKDD Explorations 1\(1 pp. 34\22638   s o uka t o s  I a nd G u n o pul o s  D   2001 223 E f f i c i e n t  Mining of Spatiotemporal Patterns,\224 in Proc. of SSTD\22201  pp.425\226442  


en g th Percentage of new items e-commerce WUT Figure 4. The percentage of pages for which new items were added for direct rankings In our tests the contribution of pages with too short direct ranking lists to all pages was examined, Fig. 5. For the smallest required length  2 the percentage of too short rankings was similar for e-commerce and WUT  4.2 and 11%, respectively \(Fig. 5 0 20 40 60 80 100 0 5 10 15 20 25 30 35 40 45 50 Required length of recommendation list P er ce n ta g e o f p ag es WUT E-commerce Figure 5. Contribution of pages with too short rankings lists based on direct rules within pages with any ranking Proceedings of the 2005 5th International Conference on Intelligent Systems Design and  Applications \(ISDA  05 0-7695-2286-06/05 $20.00  2005 IEEE In general, the average percentage of pages with too short rankings was quite prominent. Our solution to this problem is the extension of direct ranking lists with indirect and complex ones. We tested the contribution of pages with too short rankings which were successfully extended with complex rules within all pages with short rankings. In order to do this, we took the number of pages with too short direct rankings for which complex ranking list was longer than direct one, for a required list length and next we divided it by the total number of pages with too short direct rankings. The obtained results were very similar for indirect and complex rules. They show how much short direct ranking lists can be extended with indirect or complex ones \(Fig. 6 percentage started from 97.5% for e-commerce and 70.1 for WUT \(for 2-item rankings commerce and 95.1% for WUT This definitely emphasizes the usefulness of complex and in consequence indirect association rules 60 70 80 90 100 0 5 10 15 20 25 30 35 40 45 50 Required length of recommendation list P er ce n 


n t WUT E-commerce Figure 6. Contribution of pages with too short direct ranking lists extended with complex rules within all pages with too short rankings 7.4. Do Recommendation Ranking Lists only Confirm Existing Hyperlinks A vital question one can ask is whether recommendation ranking lists only confirm existing hyperlinks or maybe they add new knowledge as well. If all they did was confirm the existing structure of hyperlinks on a site the recommendations offered to a user might not be interesting to them In order to test if ranking lists add anything new, the content of the WUT site was downloaded. From it information about all hyperlinks on each page was extracted Having the structure of the site we were able to assess recommendation lists in the following way: the number of common items in hyperlink sets and ranking lists cut at various lengths was divided by the ranking length i.e. the required length or the actual length if it was smaller than the required length. Such calculations were performed for direct, indirect and complex recommendation lists, Fig. 7 The results for direct, indirect and complex rankings for very short lists \(1 and 2 items 27.1%, 4.6% and 11.7% respectively for 1 item. The same is true for 20-item long lists: 19.9%, 19% and 11.7% respectively. This indicates that for very short indirect and complex rankings \(up to 2 pages 20 items and more existing hyperlinks and add new potentially useful knowledge 0 5 10 15 20 25 30 1 2 3 5 10 20 Ranking lenght P er ce n ta g e o f ra n k in g i te m s Direct Indirect Complex Figure 7. The average percentage of ranking items covered by hyperlinks at the WUT site 7.5. Assessment of Hyperlinks by Association Rules Another application of direct, indirect and complex rules may be the assessment of hyperlinks on a site. We can test whether the hyperlinks on a page have been 


can test whether the hyperlinks on a page have been placed appropriately by analyzing significant navigational patterns \(association rules In our experiments the percentage of hyperlinks confirmed by rules was calculated by dividing the number of common items in hyperlink sets and whole ranking lists for a given page, by the number of hyperlinks on the page separately for direct, indirect and complex rules \(Fig. 8 Note that the number of hyperlinks was put in the denominator as opposed to calculations in section 7.4 where it was ranking length 48 89%87 0 20 40 60 80 100 direct indirect complex Figure 8. The average percentage of all hyperlinks confirmed by rules Proceedings of the 2005 5th International Conference on Intelligent Systems Design and  Applications \(ISDA  05 0-7695-2286-06/05 $20.00  2005 IEEE The average percentage of hyperlinks confirmed by direct rules amounted to only 48%, probably because there were too few of them. Indirect and complex rules, on the other hand, confirmed many more hyperlinks  87% and 89%, respectively, due to their larger quantity. These relatively great values that we received may have resulted from the enormous differences between the average number of hyperlinks on a page  10 and the average ranking length: 51, 177, 180 for direct, indirect and complex rules respectively. Concluding, indirect and complex rules appear to be better at assessing the usefulness of hyperlinks compared to direct rules Note that in any case at least 11% of hyperlinks were not confirmed by any rule, so they may be recommended to be removed from the content of pages 8. Conclusions and future work Complex rules combining both direct and indirect rules usually increase the length of rankings compared to those based on direct associations. This helps overcome the problem of a multitude of pages with too short rankings Fig. 5 quested ranking length \(Fig. 6 rules substantially change the order of ranking lists \(Fig. 2 and 3 greater extent only confirm hyperlinks existing on web pages compared to lists extracted from complex rules, for short and long ranking lengths \(Fig. 7 of rules, especially indirect and complex ones, can be useful for the assessment of hyperlinks Concluding, far more diverse indirect rules can significantly improve potential value of recommendation. Nevertheless, to confirm the usefulness of indirect rules for end users, some tedious tests with their participation are required Acknowledgements The authors are indebted to thank Marcin Pilarczyk for providing cleansed data about hyperlinks on WUT pages 9. References 1] Agrawal R., Imieli?ski T., Swami A.: Mining association rules between sets of items in large databases. ACM SIGMOD Int. Conference on Management of Data, ACM Press 1993 2] Boley D., Gini, M., Gross, R., Han, E.H., Hastings, K Karypis, G., Kumar, V., Mobasher, B., Moorey, J.: Document Categorization and Query Generation on the World Wide Web Using WebACE. Artificial Intelligence Review 


Wide Web Using WebACE. Artificial Intelligence Review 13 \(5-6 1999 3] Cho Y.H., Kim J.K., Kim S.H.: A personalized recommender system based on web usage mining and decision tree induction. Expert Systems with Applications 23 \(3 2002 4] Chun J., Oh J.-Y., Kwon S., Kim D.: Simulating the Effectiveness of Using Association Rules for Recommendation Systems. AsiaSim 2004. LNCS 3398, Springer Verlag 2005 5] G  ry M., Haddad M.H.: Evaluation of web usage mining approaches for user's next request prediction. WIDM 2003 ACM Press \(2003 6] Ha S.H.: Helping Online Customers Decide through Web Personalization. IEEE Intelligent Systems 17 \(6 2002 43 7] Hamano S., Sato M.: Mining Indirect Association Rules ICDM 2004. LNCS 3275, Springer Verlag \(2004 8] Kazienko P.: IDARM - Mining of Indirect Association Rules. IIS: IIPWM  05. Advances in Soft Computing Springer Verlag \(2005 9] Kazienko P.: Multi-agent Web Recommendation Method Based on Indirect Association Rules. KES  2004. Part II LNAI 3214, Springer Verlag \(2004 10] Kazienko P., Product Recommendation in E-Commerce Using Direct and Indirect Confidence for Historical User Sessions. DS  04. LNAI 3245, Springer Verlag \(2004 269 11] Kazienko P., Kiewra M.: Link Recommendation Method Based on Web Content and Usage Mining. IIS: IIPWM  03 Advances in Soft Computing, Springer Verlag \(2003 534 12] Kazienko P., Kiewra M., Personalized Recommendation of Web Pages. Chapter 10 in: Nguyen T. \(ed Technologies for Inconsistent Knowledge Processing. Advanced Knowledge International, Adelaide, South Australia 2004 13] Kazienko P., Kolodziejski P.: WindOwls - Adaptive System for the Integration of Recommendation Methods in Ecommerce. AWIC  05, LNAI, Springer Verlag \(2005 14] Kazienko P., Matrejek M.: Adjustment of Indirect Association Rules for the Web. SOFSEM 2005. LNCS 3381 Springer Verlag \(2005 15] Kendall, M. G.: Rank correlation methods. London: Charles Griffin &amp; Company, Ltd., London \(1948 16] Lu Z., Yao Y., Zhong N.: Web Log Mining. Chapter 9 in Zhong N., Liu J., Yao Y. \(eds Berlin, New York \(2003 17] Mobasher B., Cooley R., Srivastava J.: Automatic Personalization Based on Web Usage Mining. Communications of the ACM, 43 \(8 2000 18] Tan P.-N., Kumar V.: Mining Indirect Associations in Web Data. WEBKDD 2001. LNCS 2356, Springer Verlag \(2002 145-166 19] Tan P.-N., Kumar V., Srivastava J.: Indirect Association Mining Higher Order Dependencies in Data. PKDD 2000 LNCS 1910, Springer Verlag \(2000 20] Wan Q., An A.: Efficient Mining of Indirect Associations Using HI-Mine. AI 2003. LNCS 2671, Springer Verlag 2003  221 21] Wang D., Bao Y., Yu G., Wang G.: Using Page Classification and Association Rule Mining for Personalized Recommendation in Distance Learning. ICWL `02. LNCS 2436 Springer Verlag \(2002 22] Yang H., Parthasarathy S.: On the Use of Constrained Associations for Web Log Mining. WEBKDD 2002. LNCS 2703 Springer Verlag \(2003  118 Proceedings of the 2005 5th International Conference on Intelligent Systems Design and  Applications \(ISDA  05 0-7695-2286-06/05 $20.00  2005 IEEE pre></body></html 


pre></body></html 


lossless frequent patterns representations with borders. In practice, they are also much more concise than representations based on closed itemsets and approximate representations. In this paper, we offered three methods of deriving an upper bound on the length of sets in such representations. We proved that the upper bound on the length of a longest generalized disjunction-free set depends logarithmically on the number of records in the database. The obtained result is of high importance as it guarantees that any generalized disjunction-free set representation for all patterns \(both frequent and infrequent scans, where n is the number of records in the database irrespectively how strong or weak correlations among items in the database are and irrespectively of the lengths of records and number of distinct items The modifications of the basic estimation take into account the support threshold of the representation to be found or, additionally, the information on the length of longest sets of the representation already calculated for a higher support threshold. Though these estimations are more accurate than the basic one, they are still quite rough. Further improvements of the quality of estimating the length of longest itemsets in generalized disjunctionfree representations is subject to further research References 1] R. Agrawal, H. Mannila, R. Srikant, H. Toivonen, A.I Verkamo  Fast Discovery of Association Rules   Advances in Knowledge Discovery and Data Mining AAAI, CA, 1996 2] J. Baptiste, J.-F. Boulicaut  Constraint-Based Discovery and Inductive Queries: Application to Association Rule Mining  Pattern Detection and Discovery, Springer London, UK, September 2002, pp. 110-124 3] E. Baralis, S. Chiusano, P. Garza  On Support Thresholds in Associative Classification  SAC, ACM, Taipei Taiwan, March 2004, pp. 553-558 4] Y. Bastide, N. Pasquier, R. Taouil, G. Stumme, L. Lakhal  Mining Minimal Non-redundant Association Rules Using Frequent Closed Itemsets  Computational Logic, 2000 pp. 972  986 5] J.-F. Boulicaut, A. Bykowski, C. Rigotti  Approximation of Frequency Queries by Means of Free-Sets  PKDD Springer, Lyon, France, September 2000, pp. 75-85 6] A. Bykowski, C. Rigotti  A Condensed Representation to Find Frequent Patterns  PODS, ACM, Santa Barbara USA, May 2001, pp. 267-273 7] T. Calders, Axiomatization and Deduction Rules for the Frequency of Itemsets, Ph.D. Thesis, University of Antwerp, 2003 8] T. Calders, B. Goethals  Mining All Non-derivable Frequent Itemsets  PKDD, Springer, Helsinki, Finland August 2002, pp. 74?85 9] T. Calders, B. Goethals  Minimal k-free Representations of Frequent Sets  ECML/PKDD, Springer, CavtatDubrovnik, Croatia, September 2003, pp. 71-82 10] J. Han, M. Kamber, Data Mining: Concepts and Techniques, Morgan Kaufmann Publishers, 2000 11] S.K. Harms, J. Deogun, J. Saquer, T. Tadesse  Discovering Representative Episodal Association Rules from Event Sequences Using Frequent Closed Episode Sets and Event Constraints  ICDM, IEEE Computer Society, San Jose, California, USA, November-December 2001, pp. 603  606 12] M. Kryszkiewicz  Closed Set Based Discovery of Representative Association Rules  IDA, Springer Cascais, Portugal, September 2001, pp. 350-359 13] M. Kryszkiewicz  Concise Representation of Frequent Patterns based on Disjunction  free Generators  ICDM IEEE Computer Society, San Jose, California, USA 


IEEE Computer Society, San Jose, California, USA November-December 2001, pp. 305  312 14] M. Kryszkiewicz M  Inferring Knowledge from Frequent Patterns  Soft-Ware, Springer, Belfast, Northern Ireland April 2002, pp. 247  262 15] M. Kryszkiewicz  Concise Representations of Association Rules  Pattern Detection and Discovery, Springer London, UK, September 2002, pp. 92-109 16] M. Kryszkiewicz, Concise Representation of Frequent Patterns and Association Rules, Habilitation Thesis Publishing House of Warsaw University of Technology 2002 Proceedings of the 16th International Conference on Scientific and Statistical Database  Management \(SSDBM  04 1099-3371/04 $ 20.00  2004 IEEE 17] M. Kryszkiewicz  Reducing Infrequent Borders of Downward Complete Representations of Frequent Patterns  Proc. of The First Symposium on Databases Data Warehousing and Knowledge Discovery, Scientific Publishers OWN, Baden-Baden, Germany, July, 2003, pp 29-42 18] M. Kryszkiewicz  Closed Set Based Discovery of Maximal Covering Rules  International Journal of Uncertainty, Fuzziness and Knowledge-Based Systems Vol. 11. World Scientific Publishing Company, Singapore September 2003, pp. 15-29 19] M. Kryszkiewicz  Reducing Borders of k-Disjunction Free Representations of Frequent Patterns  SAC, ACM Taipei, Taiwan, March 2004, pp. 559  563 20] M. Kryszkiewicz  Reducing Main Components of k-Disjunction Free Representations of Frequent Patterns   Proc. of IPMU  2004 \(in print 21] M. Kryszkiewicz, M. Gajek  Concise Representation of Frequent Patterns based on Generalized Disjunction  Free Generators  PAKDD, Springer, Taipei, Taiwan, May 2002, pp. 159-171 22] M. Kryszkiewicz, M. Gajek  Why to Apply Generalized Disjunction-Free Generators Representation of Frequent Patterns  ISMIS, Springer, Lyon, France, June 2002, pp 383  392 23] M. Kryszkiewicz, H. Rybi?ski, M. Gajek  Dataless Transitions between Concise Representations of Frequent Patterns  Journal of Intelligent Information Systems JIIS Netherlands, 2004, pp. 41-70 24] N. Pasquier, Data mining: Algorithmes d  extraction et de R  duction des R  gles d  association dans les Bases de Donn  es, Th  se de Doctorat, Universit  Blaise Pascal   Clermont  Ferrand II, 2000 25] N. Pasquier, Y. Bastide, R. Taouil, L. Lakhal  Efficient Mining of Association Rules Using Closed Itemset Lattices  Journal of Information Systems, Vol. 24, No. 1 1999, pp. 25  46 26] N. Pasquier, Y. Bastide, R. Taouil, L. Lakhal  Discovering Frequent Closed Itemsets for Association Rules  ICDT, Springer, Jerusalem, Israel, January 1999 pp. 398  416 27] J. Pei, G. Dong, W. Zou, J. Han  On Computing Condensed Frequent Pattern Bases  ICDM, IEEE Computer Society, Maebashi City, Japan, December 2002 pp. 378-385 28] V. Phan-Luong V  Representative Bases of Association Rules  ICDM, IEEE Computer Society, San Jose California, USA, November-December 2001, pp. 639-640 29] A. Savinov  Mining Dependence Rules by Finding Largest Itemset Support Quota  SAC, ACM, Taipei Taiwan, March 2004, pp. 525-529 30] M.J. Zaki, C.J. Hsiao  CHARM: An Efficient Algorithm for Closed Itemset Mining  SIAM, Arlington, 2002 


for Closed Itemset Mining  SIAM, Arlington, 2002 Proceedings of the 16th International Conference on Scientific and Statistical Database  Management \(SSDBM  04 1099-3371/04 $ 20.00  2004 IEEE pre></body></html 


                                                  S J       


                                                      


                         L A                                        


          L A  Table 7. Table of Granules at left-hand-side is isomorphic to  at right- hand-side: By Theorem  3.1 one can ?nd patterns in either table as a single generalized concept  Internal points  are:[4]\(1, 1, 0, 0 tions; [5]\(0, 1, 1, 0  0, 1, 0, 1  0, 1, 1, 1  1, 1 1, 0  1, 1, 0, 1  1, 0, 1, 1 11]\(1, 1, 1, 1 form and simplify them into disjoint normal forms 1  T E N    S J    T E N    S J 2  T W E N T Y    L A    T H I R T Y   A 3  T W E N T Y      T H I R T Y   A 4  T W E N T Y            L A 5  T E N      T W E N T Y    L A    T E N    T W E N T Y   A   S J    T W E N T Y   A      T H I R T Y    L A     Y 7  T E N      T W E N T Y      T H I R T Y   L A    T E N   L A    S  J   A 8  T W E N T Y      T E N      T W E N T Y    L A    T E N   T W E N T Y      T H I R T Y 9  T W E N T Y    N Y    T E N    S J    T H I R T Y    L A      T W E N T Y    L A  1 0  T W E N T Y    N Y    T W E N T Y    L A    T H I R T Y   A    J 1 1  T W E N T Y          T W E N T Y    L A   T H I R T Y    L A    a l l If the simpli?ed expression is a single clause \(in the original symbols non-generalized the following associations 1   T E N     S J    T E N    S J  2. SJ   J 4   L A    T W E N T Y    L A    T H I R T Y    6 Conclusions Data, patterns, method of derivations, and useful-ness are key ingredients in AM. In this paper, we formalize the current state of AM: Data are a table of symbols. The patterns are the formulas of input symbols that repeat. The method of derivations is the most conservative and reliable one, namely, mathematical deductions. The results are somewhat surprising 1. Patterns are properties of the isomorphic class, not an individual relation - This implies that the notion of patterns may not mature yet and explains why there are so many extracted association rules 2. Un-interpreted attributes \(features can be enumerated 3. Generalized associations can be found by solving integral linear inequalities. Unfortunately, the number is enormous. This signi?es the current notion of data and patterns \(implied by the algorithms 4. Real world modeling may be needed to create a much more meaningful notion of patterns. In the current state of AM, a pattern is simply a repeated data that may have no real world meaning. So we may need to introduce some semantics into the data model [12],[10],[11 Proceedings of the Fourth IEEE International Conference on Data Mining \(ICDM  04 0-7695-2142-8/04 $ 20.00 IEEE References 1] R. Agrawal, T. Imielinski, and A. Swami  Mining Association Rules Between Sets of Items in Large Databases  in Proceeding of ACM-SIGMOD international Conference on Management of Data, pp. 207216, Washington, DC, June, 1993 


216, Washington, DC, June, 1993 2] Richard A. Brualdi, Introductory Combinatorics, Prentice Hall, 1992 3] A. Barr and E.A. Feigenbaum, The handbook of Arti?cial Intelligence, Willam Kaufmann 1981 4] Margaret H. Dunham, Data Mining Introduction and Advanced Topics Prentice Hall, 2003, ISBN 0-13088892-3 5] Fayad U. M., Piatetsky-Sjapiro, G. Smyth, P. \(1996 From Data Mining to Knowledge Discovery: An overview. In Fayard, Piatetsky-Sjapiro, Smyth, and Uthurusamy eds., Knowledge Discovery in Databases AAAI/MIT Press, 1996 6] H Gracia-Molina, J. Ullman. &amp; J. Windin, J, Database Systems The Complete Book, Prentice Hall, 2002 7] T. T. Lee  Algebraic Theory of Relational Databases  The Bell System Technical Journal Vol 62, No 10, December, 1983, pp.3159-3204 8] T. Y. Lin  Deductive Data Mining: Mathematical Foundation of Database Mining  in: the Proceedings of 9th International Conference, RSFDGrC 2003 Chongqing, China, May 2003, Lecture Notes on Arti?cial Intelligence LNAI 2639, Springer-Verlag, 403-405 9] T. Y. Lin  Attribute \(Feature  The Theory of Attributes from Data Mining Prospect  in: Proceeding of IEEE international Conference on Data Mining, Maebashi, Japan, Dec 9-12, 2002, pp. pp.282-289 10] T. Y. Lin  Data Mining and Machine Oriented Modeling: A Granular Computing Approach  Journal of Applied Intelligence, Kluwer, Vol. 13, No 2, September/October,2000, pp.113-124 11] T. Y. Lin, N. Zhong, J. Duong, S. Ohsuga  Frameworks for Mining Binary Relations in Data  In: Rough sets and Current Trends in Computing, Lecture Notes on Arti?cial Intelligence 1424, A. Skoworn and L Polkowski \(eds 12] E. Louie,T. Y. Lin  Semantics Oriented Association Rules  In: 2002 World Congress of Computational Intelligence, Honolulu, Hawaii, May 12-17, 2002, 956961 \(paper # 5702 13  The Power and Limit of Neural Networks  Proceedings of the 1996 EngineeringSystems Design and Analysis Conference, Montpellier, France, July 1-4, 1996 Vol. 7, 49-53 14] Morel, Jean-Michel and Sergio Solimini, Variational methods in image segmentation : with seven image processing experiments Boston : Birkhuser, 1995 15] H. Liu and H. Motoda  Feature Transformation and Subset Selection  IEEE Intelligent Systems, Vol. 13 No. 2, March/April, pp.26-28 \(1998 16] Z. Pawlak, Rough sets. Theoretical Aspects of Reasoning about Data, Kluwer Academic Publishers, 1991 Proceedings of the Fourth IEEE International Conference on Data Mining \(ICDM  04 0-7695-2142-8/04 $ 20.00 IEEE pre></body></html 


than that of MAFIA and the runtime of MHP can be significantly less than that of MAFIA 5.3. The Effect of the MHP Algorithm on Finding Maximal Hyperclique Patterns Figure 8 and Figure 9 show the number of maximal patterns identi?ed byMHP andMAFIA on Pumsb* and Pumsb data sets respectively. As can be seen, the number of maximal hyperclique patterns identi?ed by MHP can be orders of magnitude smaller than the number of maximal frequent patterns identi?ed by MAFIA. In other words, the number Proceedings of the 16th IEEE International Conference on Tools with Artificial Intelligence \(ICTAI 2004 1082-3409/04 $20.00  2004 IEEE 100 1000 10000 100000 1e+06 1e+07 1e+08 1e+09 0.02 0.025 0.03 0.035 0.04 0.045 0.05 0.055 0.06 N um be r o f C ou nt ed P at te rn s Support Threshold Mafia Min_Conf=0 Min_Conf=0.1 Min_Conf=0.3 Min_Conf=0.5 Min_Conf=0.7 Min_Conf=0.9 Figure 8. The Number of MFI/MHP Patterns in the Pumsb* Data Set 100 1000 10000 100000 1e+06 


1e+07 1e+08 0.1 0.2 0.3 0.4 0.5 0.6 0.7 N um be r o f C ou nt ed P at te rn s Support Threshold Mafia Min_Conf=0.5 Min_Conf=0.7 Min_Conf=0.9 Figure 9. The number of MFI/MHP Patterns in the Pumsb Data Set of maximal hyperclique patterns is much easier to manage than that of maximal frequent patterns. Indeed, in realworld applications, it is dif?cult to interpret several million maximal frequent patterns. However, it is possible to interpret the results of maximal hyperclique pattern mining In addition, due to the memory limitation, we cannot extract maximal frequent patterns with MAFIA on the Pumsb data set if the support threshold is less than 0.4, as shown in Figure 7. In contrast, MHP can identify maximal hyperclique patterns when the support threshold is 0.1, if we set the h-con?dence threshold to 0.5. In other words, MHP has the ability to identify patterns which can be dif?cult to identify for MAFIA. Hence, MHP can better explore the pattern space and ?nd interesting patterns at low levels of support 6. Conclusions and Future Work In this paper, we present a two-phase Maximal Hyperclique Pattern \(MHP best features of both the BFS strategy and the DFS strategy. More speci?cally, we adapted DFS pruning methods such as equivalence pruning, to an apriori-like approach In addition, we proved the correctness and completeness of the MHP algorithm. Finally, our experimental results show that the MHP algorithm can be several orders of magnitude faster than standard maximal frequent pattern mining algorithms and has the ability to identify patterns at extremely low levels of support in dense data sets There are several directions for future work. First, in 


this paper, we only generate the size-2 patterns in the BFS phase. It will be interesting to investigate the impact on the performance if the ?rst phase is stopped at a deeper level Also, the projection is a very ef?cient method for ?nding patterns, especially for parallel implementation of pattern mining algorithms [1]. We plan to adapt the projection ideas into our algorithm and design an ef?cient parallel algorithm for mining maximal hyperclique patterns References 1] R. Agarwal, C. Aggarwal, and V. Prasad. A Tree Projection Algorithm For Generation of Frequent Itemsets. pages 350 371, Feb 2001 2] R. Agrawal, T. Imielinski, and A. Swami. Mining Association Rules between Sets of Items in Large Databases. In Proc. of the ACM SIGMOD Conference on Management of Data, pages 207216,May 1993 3] R. Agrawal and R. Srikant. Fast Algorithms for Mining Association Rules. In Proc. of the 20th Intl Conference on Very LargeData Bases, 1994 4] R. Bayardo. Ef?ciently mining long patterns from databases In Proc. of the ACM SIGMOD Conference, 1998 5] R. Bayardo and R. Agrawal. Mining the Most Interesting Rules. In Proc. of the ACM SIGKDD Conference, 1999 6] D. Burdick, M. Calimlim, and J. Gehrke. Ma?a: AMaximal Frequent Itemset Algorithm for Transactional Databases. In Proc. of IEEE Conf. on Data Engineering, 2001 7] Y. Huang, H. Xiong, W. Wu, and Z. Zhang. A Hybrid Approach for Mining Maximal Hyperclique Patterns. In In Technical Report UTDCS-34-04, Department of computer science, University of Texas - Dallas, 2004 8] J.Han, J.Pei, and Y. Yin. Mining Frequent Patterns without Candidate Generation. In Proc. of the ACM SIGMOD International Conference on Management of Data, 2000 9] M.J.Zaki and C.Hsiao. ChARM: An ef?cient algorithm for closed itemset mining. In Proc. of 2nd SIAM International Conference on Data Mining, 2002 10] R.Rymon. Search through Systematic Set Enumeration. In Proc. Third Intl Conference on Principles of Knowledge Representation and Reasoning, 1992 11] H. Xiong, M. Steinbach, P.-N. Tan, and V. Kumar. HICAP: Hierarchial Clustering with Pattern Preservation. In Proc. of 2004 SIAM International Conference on Data Mining \(SDM 12] H. Xiong, P.-N. Tan, and V. Kumar. Mining Strong Af?nity Association Patterns in Data Set with Skewed Support. In Proc. of the Third IEEE International Conference on Data Mining \(ICDM Proceedings of the 16th IEEE International Conference on Tools with Artificial Intelligence \(ICTAI 2004 1082-3409/04 $20.00  2004 IEEE 





